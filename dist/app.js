/*! For license information please see app.js.LICENSE.txt */
!function(o){var a={};function __webpack_require__(s){if(a[s])return a[s].exports;var u=a[s]={i:s,l:!1,exports:{}};return o[s].call(u.exports,u,u.exports,__webpack_require__),u.l=!0,u.exports}__webpack_require__.m=o,__webpack_require__.c=a,__webpack_require__.d=function(o,a,s){__webpack_require__.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:s})},__webpack_require__.r=function(o){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},__webpack_require__.t=function(o,a){if(1&a&&(o=__webpack_require__(o)),8&a)return o;if(4&a&&"object"==typeof o&&o&&o.__esModule)return o;var s=Object.create(null);if(__webpack_require__.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:o}),2&a&&"string"!=typeof o)for(var u in o)__webpack_require__.d(s,u,function(a){return o[a]}.bind(null,u));return s},__webpack_require__.n=function(o){var a=o&&o.__esModule?function getDefault(){return o.default}:function getModuleExports(){return o};return __webpack_require__.d(a,"a",a),a},__webpack_require__.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=153)}([function(o,a,s){(function(a){var s;s="undefined"!=typeof window?window:void 0!==a?a:"undefined"!=typeof self?self:{},o.exports=s}).call(this,s(34))},function(o,a,s){var u=s(7),l=s(25),c=s(17),h=s(18),f=s(26),$export=function(o,a,s){var p,m,g,v,y=o&$export.F,_=o&$export.G,b=o&$export.S,T=o&$export.P,S=o&$export.B,w=_?u:b?u[a]||(u[a]={}):(u[a]||{}).prototype,k=_?l:l[a]||(l[a]={}),x=k.prototype||(k.prototype={});for(p in _&&(s=a),s)g=((m=!y&&w&&void 0!==w[p])?w:s)[p],v=S&&m?f(g,u):T&&"function"==typeof g?f(Function.call,g):g,w&&h(w,p,g,o&$export.U),k[p]!=g&&c(k,p,v),T&&x[p]!=g&&(x[p]=g)};u.core=l,$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,$export.U=64,$export.R=128,o.exports=$export},function(o,a,s){(function(a){var u,l=void 0!==a?a:"undefined"!=typeof window?window:{},c=s(360);"undefined"!=typeof document?u=document:(u=l["__GLOBAL_DOCUMENT_CACHE@4"])||(u=l["__GLOBAL_DOCUMENT_CACHE@4"]=c),o.exports=u}).call(this,s(34))},function(o,a,s){var u=s(105);o.exports=function _inheritsLoose(o,a){o.prototype=Object.create(a.prototype),o.prototype.constructor=o,u(o,a)},o.exports.default=o.exports,o.exports.__esModule=!0},function(o,a){o.exports=function _assertThisInitialized(o){if(void 0===o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o},o.exports.default=o.exports,o.exports.__esModule=!0},function(o,a){function keyCode(o){if(o&&"object"==typeof o){var a=o.which||o.keyCode||o.charCode;a&&(o=a)}if("number"==typeof o)return c[o];var l,h=String(o);return(l=s[h.toLowerCase()])?l:(l=u[h.toLowerCase()])||(1===h.length?h.charCodeAt(0):void 0)}keyCode.isEventKey=function isEventKey(o,a){if(o&&"object"==typeof o){var l=o.which||o.keyCode||o.charCode;if(null==l)return!1;if("string"==typeof a){var c;if(c=s[a.toLowerCase()])return c===l;if(c=u[a.toLowerCase()])return c===l}else if("number"==typeof a)return a===l;return!1}};var s=(a=o.exports=keyCode).code=a.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},u=a.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(l=97;l<123;l++)s[String.fromCharCode(l)]=l-32;for(var l=48;l<58;l++)s[l-48]=l;for(l=1;l<13;l++)s["f"+l]=l+111;for(l=0;l<10;l++)s["numpad "+l]=l+96;var c=a.names=a.title={};for(l in s)c[s[l]]=l;for(var h in u)s[h]=u[h]},function(o,a,s){var u=s(9);o.exports=function(o){if(!u(o))throw TypeError(o+" is not an object!");return o}},function(o,a){var s=o.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=s)},function(o,a){o.exports=function(o){try{return!!o()}catch(o){return!0}}},function(o,a){o.exports=function(o){return"object"==typeof o?null!==o:"function"==typeof o}},function(o,a,s){var u,l;void 0===(l="function"==typeof(u=function(){"use strict";var ScrollMagic=function(){u.log(2,"(COMPATIBILITY NOTICE) -> As of ScrollMagic 2.0.0 you need to use 'new ScrollMagic.Controller()' to create a new controller instance. Use 'new ScrollMagic.Scene()' to instance a scene.")};ScrollMagic.version="2.0.8","undefined"!=typeof window&&window.addEventListener("mousewheel",void 0);var o="data-scrollmagic-pin-spacer";ScrollMagic.Controller=function(s){var l,c,h="ScrollMagic.Controller",f="FORWARD",p="REVERSE",m="PAUSED",g=a.defaults,v=this,y=u.extend({},g,s),_=[],b=!1,T=0,S=m,w=!0,k=0,x=!0,construct=function(){for(var o in y)g.hasOwnProperty(o)||(I(2,'WARNING: Unknown option "'+o+'"'),delete y[o]);if(y.container=u.get.elements(y.container)[0],!y.container)throw I(1,"ERROR creating object "+h+": No valid scroll container supplied"),h+" init failed.";(w=y.container===window||y.container===document.body||!document.body.contains(y.container))&&(y.container=window),k=getViewportSize(),y.container.addEventListener("resize",onChange),y.container.addEventListener("scroll",onChange);var a=parseInt(y.refreshInterval,10);y.refreshInterval=u.type.Number(a)?a:g.refreshInterval,scheduleRefresh(),I(3,"added new "+h+" controller (v"+ScrollMagic.version+")")},scheduleRefresh=function(){y.refreshInterval>0&&(c=window.setTimeout(refresh,y.refreshInterval))},getScrollPos=function(){return y.vertical?u.get.scrollTop(y.container):u.get.scrollLeft(y.container)},getViewportSize=function(){return y.vertical?u.get.height(y.container):u.get.width(y.container)},P=this._setScrollPos=function(o){y.vertical?w?window.scrollTo(u.get.scrollLeft(),o):y.container.scrollTop=o:w?window.scrollTo(o,u.get.scrollTop()):y.container.scrollLeft=o},updateScenes=function(){if(x&&b){var o=u.type.Array(b)?b:_.slice(0);b=!1;var a=T,s=(T=v.scrollPos())-a;0!==s&&(S=s>0?f:p),S===p&&o.reverse(),o.forEach((function(a,s){I(3,"updating Scene "+(s+1)+"/"+o.length+" ("+_.length+" total)"),a.update(!0)})),0===o.length&&y.loglevel>=3&&I(3,"updating 0 Scenes (nothing added to controller)")}},debounceUpdate=function(){l=u.rAF(updateScenes)},onChange=function(o){I(3,"event fired causing an update:",o.type),"resize"==o.type&&(k=getViewportSize(),S=m),!0!==b&&(b=!0,debounceUpdate())},refresh=function(){if(!w&&k!=getViewportSize()){var o;try{o=new Event("resize",{bubbles:!1,cancelable:!1})}catch(a){(o=document.createEvent("Event")).initEvent("resize",!1,!1)}y.container.dispatchEvent(o)}_.forEach((function(o,a){o.refresh()})),scheduleRefresh()},I=this._log=function(o,a){y.loglevel>=o&&(Array.prototype.splice.call(arguments,1,0,"("+h+") ->"),u.log.apply(window,arguments))};this._options=y;var sortScenes=function(o){if(o.length<=1)return o;var a=o.slice(0);return a.sort((function(o,a){return o.scrollOffset()>a.scrollOffset()?1:-1})),a};return this.addScene=function(o){if(u.type.Array(o))o.forEach((function(o,a){v.addScene(o)}));else if(o instanceof ScrollMagic.Scene){if(o.controller()!==v)o.addTo(v);else if(_.indexOf(o)<0){for(var a in _.push(o),_=sortScenes(_),o.on("shift.controller_sort",(function(){_=sortScenes(_)})),y.globalSceneOptions)o[a]&&o[a].call(o,y.globalSceneOptions[a]);I(3,"adding Scene (now "+_.length+" total)")}}else I(1,"ERROR: invalid argument supplied for '.addScene()'");return v},this.removeScene=function(o){if(u.type.Array(o))o.forEach((function(o,a){v.removeScene(o)}));else{var a=_.indexOf(o);a>-1&&(o.off("shift.controller_sort"),_.splice(a,1),I(3,"removing Scene (now "+_.length+" left)"),o.remove())}return v},this.updateScene=function(o,a){return u.type.Array(o)?o.forEach((function(o,s){v.updateScene(o,a)})):a?o.update(!0):!0!==b&&o instanceof ScrollMagic.Scene&&(-1==(b=b||[]).indexOf(o)&&b.push(o),b=sortScenes(b),debounceUpdate()),v},this.update=function(o){return onChange({type:"resize"}),o&&updateScenes(),v},this.scrollTo=function(a,s){if(u.type.Number(a))P.call(y.container,a,s);else if(a instanceof ScrollMagic.Scene)a.controller()===v?v.scrollTo(a.scrollOffset(),s):I(2,"scrollTo(): The supplied scene does not belong to this controller. Scroll cancelled.",a);else if(u.type.Function(a))P=a;else{var l=u.get.elements(a)[0];if(l){for(;l.parentNode.hasAttribute(o);)l=l.parentNode;var c=y.vertical?"top":"left",h=u.get.offset(y.container),f=u.get.offset(l);w||(h[c]-=v.scrollPos()),v.scrollTo(f[c]-h[c],s)}else I(2,"scrollTo(): The supplied argument is invalid. Scroll cancelled.",a)}return v},this.scrollPos=function(o){return arguments.length?(u.type.Function(o)?getScrollPos=o:I(2,"Provided value for method 'scrollPos' is not a function. To change the current scroll position use 'scrollTo()'."),v):getScrollPos.call(v)},this.info=function(o){var a={size:k,vertical:y.vertical,scrollPos:T,scrollDirection:S,container:y.container,isDocument:w};return arguments.length?void 0!==a[o]?a[o]:void I(1,'ERROR: option "'+o+'" is not available'):a},this.loglevel=function(o){return arguments.length?(y.loglevel!=o&&(y.loglevel=o),v):y.loglevel},this.enabled=function(o){return arguments.length?(x!=o&&(x=!!o,v.updateScene(_,!0)),v):x},this.destroy=function(o){window.clearTimeout(c);for(var a=_.length;a--;)_[a].destroy(o);return y.container.removeEventListener("resize",onChange),y.container.removeEventListener("scroll",onChange),u.cAF(l),I(3,"destroyed "+h+" (reset: "+(o?"true":"false")+")"),null},construct(),v};var a={defaults:{container:window,vertical:!0,globalSceneOptions:{},loglevel:2,refreshInterval:100}};ScrollMagic.Controller.addOption=function(o,s){a.defaults[o]=s},ScrollMagic.Controller.extend=function(o){var a=this;ScrollMagic.Controller=function(){return a.apply(this,arguments),this.$super=u.extend({},this),o.apply(this,arguments)||this},u.extend(ScrollMagic.Controller,a),ScrollMagic.Controller.prototype=a.prototype,ScrollMagic.Controller.prototype.constructor=ScrollMagic.Controller},ScrollMagic.Scene=function(a){var l,c,h="ScrollMagic.Scene",f="BEFORE",p="DURING",m="AFTER",g=s.defaults,v=this,y=u.extend({},g,a),_=f,b=0,T={start:0,end:0},S=0,w=!0,construct=function(){for(var o in y)g.hasOwnProperty(o)||(x(2,'WARNING: Unknown option "'+o+'"'),delete y[o]);for(var a in g)addSceneOption(a);validateOption()},k={};this.on=function(o,a){return u.type.Function(a)?(o=o.trim().split(" ")).forEach((function(o){var s=o.split("."),u=s[0],l=s[1];"*"!=u&&(k[u]||(k[u]=[]),k[u].push({namespace:l||"",callback:a}))})):x(1,"ERROR when calling '.on()': Supplied callback for '"+o+"' is not a valid function!"),v},this.off=function(o,a){return o?((o=o.trim().split(" ")).forEach((function(o,s){var u=o.split("."),l=u[0],c=u[1]||"";("*"===l?Object.keys(k):[l]).forEach((function(o){for(var s=k[o]||[],u=s.length;u--;){var l=s[u];!l||c!==l.namespace&&"*"!==c||a&&a!=l.callback||s.splice(u,1)}s.length||delete k[o]}))})),v):(x(1,"ERROR: Invalid event name supplied."),v)},this.trigger=function(o,a){if(o){var s=o.trim().split("."),u=s[0],l=s[1],c=k[u];x(3,"event fired:",u,a?"->":"",a||""),c&&c.forEach((function(o,s){l&&l!==o.namespace||o.callback.call(v,new ScrollMagic.Event(u,o.namespace,v,a))}))}else x(1,"ERROR: Invalid event name supplied.");return v},v.on("change.internal",(function(o){"loglevel"!==o.what&&"tweenChanges"!==o.what&&("triggerElement"===o.what?updateTriggerElementPosition():"reverse"===o.what&&v.update())})).on("shift.internal",(function(o){updateScrollOffset(),v.update()}));var x=this._log=function(o,a){y.loglevel>=o&&(Array.prototype.splice.call(arguments,1,0,"("+h+") ->"),u.log.apply(window,arguments))};this.addTo=function(o){return o instanceof ScrollMagic.Controller?c!=o&&(c&&c.removeScene(v),c=o,validateOption(),updateDuration(!0),updateTriggerElementPosition(!0),updateScrollOffset(),c.info("container").addEventListener("resize",onContainerResize),o.addScene(v),v.trigger("add",{controller:c}),x(3,"added "+h+" to controller"),v.update()):x(1,"ERROR: supplied argument of 'addTo()' is not a valid ScrollMagic Controller"),v},this.enabled=function(o){return arguments.length?(w!=o&&(w=!!o,v.update(!0)),v):w},this.remove=function(){if(c){c.info("container").removeEventListener("resize",onContainerResize);var o=c;c=void 0,o.removeScene(v),v.trigger("remove"),x(3,"removed "+h+" from controller")}return v},this.destroy=function(o){return v.trigger("destroy",{reset:o}),v.remove(),v.off("*.*"),x(3,"destroyed "+h+" (reset: "+(o?"true":"false")+")"),null},this.update=function(o){if(c)if(o)if(c.enabled()&&w){var a,s=c.info("scrollPos");a=y.duration>0?(s-T.start)/(T.end-T.start):s>=T.start?1:0,v.trigger("update",{startPos:T.start,endPos:T.end,scrollPos:s}),v.progress(a)}else P&&_===p&&updatePinState(!0);else c.updateScene(v,!1);return v},this.refresh=function(){return updateDuration(),updateTriggerElementPosition(),v},this.progress=function(o){if(arguments.length){var a=!1,s=_,u=c?c.info("scrollDirection"):"PAUSED",l=y.reverse||o>=b;if(0===y.duration?(a=b!=o,_=0==(b=o<1&&l?0:1)?f:p):o<0&&_!==f&&l?(b=0,_=f,a=!0):o>=0&&o<1&&l?(b=o,_=p,a=!0):o>=1&&_!==m?(b=1,_=m,a=!0):_!==p||l||updatePinState(),a){var h={progress:b,state:_,scrollDirection:u},g=_!=s,trigger=function(o){v.trigger(o,h)};g&&s!==p&&(trigger("enter"),trigger(s===f?"start":"end")),trigger("progress"),g&&_!==p&&(trigger(_===f?"start":"end"),trigger("leave"))}return v}return b};var P,I,updateScrollOffset=function(){T={start:S+y.offset},c&&y.triggerElement&&(T.start-=c.info("size")*y.triggerHook),T.end=T.start+y.duration},updateDuration=function(o){if(l){var a="duration";changeOption(a,l.call(v))&&!o&&(v.trigger("change",{what:a,newval:y[a]}),v.trigger("shift",{reason:a}))}},updateTriggerElementPosition=function(a){var s=0,l=y.triggerElement;if(c&&(l||S>0)){if(l)if(l.parentNode){for(var h=c.info(),f=u.get.offset(h.container),p=h.vertical?"top":"left";l.parentNode.hasAttribute(o);)l=l.parentNode;var m=u.get.offset(l);h.isDocument||(f[p]-=c.scrollPos()),s=m[p]-f[p]}else x(2,"WARNING: triggerElement was removed from DOM and will be reset to",void 0),v.triggerElement(void 0);var g=s!=S;S=s,g&&!a&&v.trigger("shift",{reason:"triggerElementPosition"})}},onContainerResize=function(o){y.triggerHook>0&&v.trigger("shift",{reason:"containerResize"})},O=u.extend(s.validate,{duration:function(o){if(u.type.String(o)&&o.match(/^(\.|\d)*\d+%$/)){var a=parseFloat(o)/100;o=function(){return c?c.info("size")*a:0}}if(u.type.Function(o)){l=o;try{o=parseFloat(l.call(v))}catch(a){o=-1}}if(o=parseFloat(o),!u.type.Number(o)||o<0)throw l?(l=void 0,['Invalid return value of supplied function for option "duration":',o]):['Invalid value for option "duration":',o];return o}}),validateOption=function(o){(o=arguments.length?[o]:Object.keys(O)).forEach((function(o,a){var s;if(O[o])try{s=O[o](y[o])}catch(a){s=g[o];var l=u.type.String(a)?[a]:a;u.type.Array(l)?(l[0]="ERROR: "+l[0],l.unshift(1),x.apply(this,l)):x(1,"ERROR: Problem executing validation callback for option '"+o+"':",a.message)}finally{y[o]=s}}))},changeOption=function(o,a){var s=!1,u=y[o];return y[o]!=a&&(y[o]=a,validateOption(o),s=u!=y[o]),s},addSceneOption=function(o){v[o]||(v[o]=function(a){return arguments.length?("duration"===o&&(l=void 0),changeOption(o,a)&&(v.trigger("change",{what:o,newval:y[o]}),s.shifts.indexOf(o)>-1&&v.trigger("shift",{reason:o})),v):y[o]})};this.controller=function(){return c},this.state=function(){return _},this.scrollOffset=function(){return T.start},this.triggerPosition=function(){var o=y.offset;return c&&(y.triggerElement?o+=S:o+=c.info("size")*v.triggerHook()),o},v.on("shift.internal",(function(o){var a="duration"===o.reason;(_===m&&a||_===p&&0===y.duration)&&updatePinState(),a&&updatePinDimensions()})).on("progress.internal",(function(o){updatePinState()})).on("add.internal",(function(o){updatePinDimensions()})).on("destroy.internal",(function(o){v.removePin(o.reset)}));var updatePinState=function(o){if(P&&c){var a=c.info(),s=I.spacer.firstChild;if(o||_!==p){var l={position:I.inFlow?"relative":"absolute",top:0,left:0},h=u.css(s,"position")!=l.position;I.pushFollowers?y.duration>0&&(_===m&&0===parseFloat(u.css(I.spacer,"padding-top"))||_===f&&0===parseFloat(u.css(I.spacer,"padding-bottom")))&&(h=!0):l[a.vertical?"top":"left"]=y.duration*b,u.css(s,l),h&&updatePinDimensions()}else{"fixed"!=u.css(s,"position")&&(u.css(s,{position:"fixed"}),updatePinDimensions());var g=u.get.offset(I.spacer,!0),v=y.reverse||0===y.duration?a.scrollPos-T.start:Math.round(b*y.duration*10)/10;g[a.vertical?"top":"left"]+=v,u.css(I.spacer.firstChild,{top:g.top,left:g.left})}}},updatePinDimensions=function(){if(P&&c&&I.inFlow){var o=_===p,a=c.info("vertical"),s=I.spacer.firstChild,l=u.isMarginCollapseType(u.css(I.spacer,"display")),h={};I.relSize.width||I.relSize.autoFullWidth?o?u.css(P,{width:u.get.width(I.spacer)}):u.css(P,{width:"100%"}):(h["min-width"]=u.get.width(a?P:s,!0,!0),h.width=o?h["min-width"]:"auto"),I.relSize.height?o?u.css(P,{height:u.get.height(I.spacer)-(I.pushFollowers?y.duration:0)}):u.css(P,{height:"100%"}):(h["min-height"]=u.get.height(a?s:P,!0,!l),h.height=o?h["min-height"]:"auto"),I.pushFollowers&&(h["padding"+(a?"Top":"Left")]=y.duration*b,h["padding"+(a?"Bottom":"Right")]=y.duration*(1-b)),u.css(I.spacer,h)}},updatePinInContainer=function(){c&&P&&_===p&&!c.info("isDocument")&&updatePinState()},updateRelativePinSpacer=function(){c&&P&&_===p&&((I.relSize.width||I.relSize.autoFullWidth)&&u.get.width(window)!=u.get.width(I.spacer.parentNode)||I.relSize.height&&u.get.height(window)!=u.get.height(I.spacer.parentNode))&&updatePinDimensions()},onMousewheelOverPin=function(o){c&&P&&_===p&&!c.info("isDocument")&&(o.preventDefault(),c._setScrollPos(c.info("scrollPos")-((o.wheelDelta||o[c.info("vertical")?"wheelDeltaY":"wheelDeltaX"])/3||30*-o.detail)))};this.setPin=function(a,s){var l={pushFollowers:!0,spacerClass:"scrollmagic-pin-spacer"},c=s&&s.hasOwnProperty("pushFollowers");if(s=u.extend({},l,s),!(a=u.get.elements(a)[0]))return x(1,"ERROR calling method 'setPin()': Invalid pin element supplied."),v;if("fixed"===u.css(a,"position"))return x(1,"ERROR calling method 'setPin()': Pin does not work with elements that are positioned 'fixed'."),v;if(P){if(P===a)return v;v.removePin()}var h=(P=a).parentNode.style.display,f=["top","left","bottom","right","margin","marginLeft","marginRight","marginTop","marginBottom"];P.parentNode.style.display="none";var p="absolute"!=u.css(P,"position"),m=u.css(P,f.concat(["display"])),g=u.css(P,["width","height"]);P.parentNode.style.display=h,!p&&s.pushFollowers&&(x(2,"WARNING: If the pinned element is positioned absolutely pushFollowers will be disabled."),s.pushFollowers=!1),window.setTimeout((function(){P&&0===y.duration&&c&&s.pushFollowers&&x(2,"WARNING: pushFollowers =",!0,"has no effect, when scene duration is 0.")}),0);var _=P.parentNode.insertBefore(document.createElement("div"),P),b=u.extend(m,{position:p?"relative":"absolute",boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"});if(p||u.extend(b,u.css(P,["width","height"])),u.css(_,b),_.setAttribute(o,""),u.addClass(_,s.spacerClass),I={spacer:_,relSize:{width:"%"===g.width.slice(-1),height:"%"===g.height.slice(-1),autoFullWidth:"auto"===g.width&&p&&u.isMarginCollapseType(m.display)},pushFollowers:s.pushFollowers,inFlow:p},!P.___origStyle){P.___origStyle={};var T=P.style;f.concat(["width","height","position","boxSizing","mozBoxSizing","webkitBoxSizing"]).forEach((function(o){P.___origStyle[o]=T[o]||""}))}return I.relSize.width&&u.css(_,{width:g.width}),I.relSize.height&&u.css(_,{height:g.height}),_.appendChild(P),u.css(P,{position:p?"relative":"absolute",margin:"auto",top:"auto",left:"auto",bottom:"auto",right:"auto"}),(I.relSize.width||I.relSize.autoFullWidth)&&u.css(P,{boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"}),window.addEventListener("scroll",updatePinInContainer),window.addEventListener("resize",updatePinInContainer),window.addEventListener("resize",updateRelativePinSpacer),P.addEventListener("mousewheel",onMousewheelOverPin),P.addEventListener("DOMMouseScroll",onMousewheelOverPin),x(3,"added pin"),updatePinState(),v},this.removePin=function(a){if(P){if(_===p&&updatePinState(!0),a||!c){var s=I.spacer.firstChild;if(s.hasAttribute(o)){var l=I.spacer.style,h={};["margin","marginLeft","marginRight","marginTop","marginBottom"].forEach((function(o){h[o]=l[o]||""})),u.css(s,h)}I.spacer.parentNode.insertBefore(s,I.spacer),I.spacer.parentNode.removeChild(I.spacer),P.parentNode.hasAttribute(o)||(u.css(P,P.___origStyle),delete P.___origStyle)}window.removeEventListener("scroll",updatePinInContainer),window.removeEventListener("resize",updatePinInContainer),window.removeEventListener("resize",updateRelativePinSpacer),P.removeEventListener("mousewheel",onMousewheelOverPin),P.removeEventListener("DOMMouseScroll",onMousewheelOverPin),P=void 0,x(3,"removed pin (reset: "+(a?"true":"false")+")")}return v};var L,M=[];return v.on("destroy.internal",(function(o){v.removeClassToggle(o.reset)})),this.setClassToggle=function(o,a){var s=u.get.elements(o);return 0!==s.length&&u.type.String(a)?(M.length>0&&v.removeClassToggle(),L=a,M=s,v.on("enter.internal_class leave.internal_class",(function(o){var a="enter"===o.type?u.addClass:u.removeClass;M.forEach((function(o,s){a(o,L)}))})),v):(x(1,"ERROR calling method 'setClassToggle()': Invalid "+(0===s.length?"element":"classes")+" supplied."),v)},this.removeClassToggle=function(o){return o&&M.forEach((function(o,a){u.removeClass(o,L)})),v.off("start.internal_class end.internal_class"),L=void 0,M=[],v},construct(),v};var s={defaults:{duration:0,offset:0,triggerElement:void 0,triggerHook:.5,reverse:!0,loglevel:2},validate:{offset:function(o){if(o=parseFloat(o),!u.type.Number(o))throw['Invalid value for option "offset":',o];return o},triggerElement:function(o){if(o=o||void 0){var a=u.get.elements(o)[0];if(!a||!a.parentNode)throw['Element defined in option "triggerElement" was not found:',o];o=a}return o},triggerHook:function(o){var a={onCenter:.5,onEnter:1,onLeave:0};if(u.type.Number(o))o=Math.max(0,Math.min(parseFloat(o),1));else{if(!(o in a))throw['Invalid value for option "triggerHook": ',o];o=a[o]}return o},reverse:function(o){return!!o},loglevel:function(o){if(o=parseInt(o),!u.type.Number(o)||o<0||o>3)throw['Invalid value for option "loglevel":',o];return o}},shifts:["duration","offset","triggerHook"]};ScrollMagic.Scene.addOption=function(o,a,u,l){o in s.defaults?ScrollMagic._util.log(1,"[static] ScrollMagic.Scene -> Cannot add Scene option '"+o+"', because it already exists."):(s.defaults[o]=a,s.validate[o]=u,l&&s.shifts.push(o))},ScrollMagic.Scene.extend=function(o){var a=this;ScrollMagic.Scene=function(){return a.apply(this,arguments),this.$super=u.extend({},this),o.apply(this,arguments)||this},u.extend(ScrollMagic.Scene,a),ScrollMagic.Scene.prototype=a.prototype,ScrollMagic.Scene.prototype.constructor=ScrollMagic.Scene},ScrollMagic.Event=function(o,a,s,u){for(var l in u=u||{})this[l]=u[l];return this.type=o,this.target=this.currentTarget=s,this.namespace=a||"",this.timeStamp=this.timestamp=Date.now(),this};var u=ScrollMagic._util=function(o){var a,s={},floatval=function(o){return parseFloat(o)||0},_getComputedStyle=function(a){return a.currentStyle?a.currentStyle:o.getComputedStyle(a)},_dimension=function(a,s,u,l){if((s=s===document?o:s)===o)l=!1;else if(!g.DomElement(s))return 0;a=a.charAt(0).toUpperCase()+a.substr(1).toLowerCase();var c=(u?s["offset"+a]||s["outer"+a]:s["client"+a]||s["inner"+a])||0;if(u&&l){var h=_getComputedStyle(s);c+="Height"===a?floatval(h.marginTop)+floatval(h.marginBottom):floatval(h.marginLeft)+floatval(h.marginRight)}return c},_camelCase=function(o){return o.replace(/^[^a-z]+([a-z])/g,"$1").replace(/-([a-z])/g,(function(o){return o[1].toUpperCase()}))};s.extend=function(o){for(o=o||{},a=1;a<arguments.length;a++)if(arguments[a])for(var s in arguments[a])arguments[a].hasOwnProperty(s)&&(o[s]=arguments[a][s]);return o},s.isMarginCollapseType=function(o){return["block","flex","list-item","table","-webkit-box"].indexOf(o)>-1};var u=0,l=["ms","moz","webkit","o"],c=o.requestAnimationFrame,h=o.cancelAnimationFrame;for(a=0;!c&&a<l.length;++a)c=o[l[a]+"RequestAnimationFrame"],h=o[l[a]+"CancelAnimationFrame"]||o[l[a]+"CancelRequestAnimationFrame"];c||(c=function(a){var s=(new Date).getTime(),l=Math.max(0,16-(s-u)),c=o.setTimeout((function(){a(s+l)}),l);return u=s+l,c}),h||(h=function(a){o.clearTimeout(a)}),s.rAF=c.bind(o),s.cAF=h.bind(o);var f=["error","warn","log"],p=o.console||{};for(p.log=p.log||function(){},a=0;a<f.length;a++){var m=f[a];p[m]||(p[m]=p.log)}s.log=function(o){(o>f.length||o<=0)&&(o=f.length);var a=new Date,s=("0"+a.getHours()).slice(-2)+":"+("0"+a.getMinutes()).slice(-2)+":"+("0"+a.getSeconds()).slice(-2)+":"+("00"+a.getMilliseconds()).slice(-3),u=f[o-1],l=Array.prototype.splice.call(arguments,1),c=Function.prototype.bind.call(p[u],p);l.unshift(s),c.apply(p,l)};var g=s.type=function(o){return Object.prototype.toString.call(o).replace(/^\[object (.+)\]$/,"$1").toLowerCase()};g.String=function(o){return"string"===g(o)},g.Function=function(o){return"function"===g(o)},g.Array=function(o){return Array.isArray(o)},g.Number=function(o){return!g.Array(o)&&o-parseFloat(o)+1>=0},g.DomElement=function(o){return"object"==typeof HTMLElement||"function"==typeof HTMLElement?o instanceof HTMLElement||o instanceof SVGElement:o&&"object"==typeof o&&null!==o&&1===o.nodeType&&"string"==typeof o.nodeName};var v=s.get={};return v.elements=function(a){var s=[];if(g.String(a))try{a=document.querySelectorAll(a)}catch(o){return s}if("nodelist"===g(a)||g.Array(a)||a instanceof NodeList)for(var u=0,l=s.length=a.length;u<l;u++){var c=a[u];s[u]=g.DomElement(c)?c:v.elements(c)}else(g.DomElement(a)||a===document||a===o)&&(s=[a]);return s},v.scrollTop=function(a){return a&&"number"==typeof a.scrollTop?a.scrollTop:o.pageYOffset||0},v.scrollLeft=function(a){return a&&"number"==typeof a.scrollLeft?a.scrollLeft:o.pageXOffset||0},v.width=function(o,a,s){return _dimension("width",o,a,s)},v.height=function(o,a,s){return _dimension("height",o,a,s)},v.offset=function(o,a){var s={top:0,left:0};if(o&&o.getBoundingClientRect){var u=o.getBoundingClientRect();s.top=u.top,s.left=u.left,a||(s.top+=v.scrollTop(),s.left+=v.scrollLeft())}return s},s.addClass=function(o,a){a&&(o.classList?o.classList.add(a):o.className+=" "+a)},s.removeClass=function(o,a){a&&(o.classList?o.classList.remove(a):o.className=o.className.replace(new RegExp("(^|\\b)"+a.split(" ").join("|")+"(\\b|$)","gi")," "))},s.css=function(o,a){if(g.String(a))return _getComputedStyle(o)[_camelCase(a)];if(g.Array(a)){var s={},u=_getComputedStyle(o);return a.forEach((function(o,a){s[o]=u[_camelCase(o)]})),s}for(var l in a){var c=a[l];c==parseFloat(c)&&(c+="px"),o.style[_camelCase(l)]=c}},s}(window||{});return ScrollMagic.Scene.prototype.addIndicators=function(){return ScrollMagic._util.log(1,"(ScrollMagic.Scene) -> ERROR calling addIndicators() due to missing Plugin 'debug.addIndicators'. Please make sure to include plugins/debug.addIndicators.js"),this},ScrollMagic.Scene.prototype.removeIndicators=function(){return ScrollMagic._util.log(1,"(ScrollMagic.Scene) -> ERROR calling removeIndicators() due to missing Plugin 'debug.addIndicators'. Please make sure to include plugins/debug.addIndicators.js"),this},ScrollMagic.Scene.prototype.setTween=function(){return ScrollMagic._util.log(1,"(ScrollMagic.Scene) -> ERROR calling setTween() due to missing Plugin 'animation.gsap'. Please make sure to include plugins/animation.gsap.js"),this},ScrollMagic.Scene.prototype.removeTween=function(){return ScrollMagic._util.log(1,"(ScrollMagic.Scene) -> ERROR calling removeTween() due to missing Plugin 'animation.gsap'. Please make sure to include plugins/animation.gsap.js"),this},ScrollMagic.Scene.prototype.setVelocity=function(){return ScrollMagic._util.log(1,"(ScrollMagic.Scene) -> ERROR calling setVelocity() due to missing Plugin 'animation.velocity'. Please make sure to include plugins/animation.velocity.js"),this},ScrollMagic.Scene.prototype.removeVelocity=function(){return ScrollMagic._util.log(1,"(ScrollMagic.Scene) -> ERROR calling removeVelocity() due to missing Plugin 'animation.velocity'. Please make sure to include plugins/animation.velocity.js"),this},ScrollMagic})?u.call(a,s,a,o):u)||(o.exports=l)},function(o,a,s){var u=s(55)("wks"),l=s(41),c=s(7).Symbol,h="function"==typeof c;(o.exports=function(o){return u[o]||(u[o]=h&&c[o]||(h?c:l)("Symbol."+o))}).store=u},function(o,a,s){var u=s(28),l=Math.min;o.exports=function(o){return o>0?l(u(o),9007199254740991):0}},function(o,a,s){o.exports=!s(8)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(o,a,s){var u=s(6),l=s(109),c=s(30),h=Object.defineProperty;a.f=s(13)?Object.defineProperty:function defineProperty(o,a,s){if(u(o),a=c(a,!0),u(s),l)try{return h(o,a,s)}catch(o){}if("get"in s||"set"in s)throw TypeError("Accessors not supported!");return"value"in s&&(o[a]=s.value),o}},function(o,a,s){var u=s(31);o.exports=function(o){return Object(u(o))}},function(o,a){o.exports=function(o){if("function"!=typeof o)throw TypeError(o+" is not a function!");return o}},function(o,a,s){var u=s(14),l=s(40);o.exports=s(13)?function(o,a,s){return u.f(o,a,l(1,s))}:function(o,a,s){return o[a]=s,o}},function(o,a,s){var u=s(7),l=s(17),c=s(20),h=s(41)("src"),f=s(157),p="toString",m=(""+f).split(p);s(25).inspectSource=function(o){return f.call(o)},(o.exports=function(o,a,s,f){var p="function"==typeof s;p&&(c(s,"name")||l(s,"name",a)),o[a]!==s&&(p&&(c(s,h)||l(s,h,o[a]?""+o[a]:m.join(String(a)))),o===u?o[a]=s:f?o[a]?o[a]=s:l(o,a,s):(delete o[a],l(o,a,s)))})(Function.prototype,p,(function toString(){return"function"==typeof this&&this[h]||f.call(this)}))},function(o,a,s){var u=s(1),l=s(8),c=s(31),h=/"/g,createHTML=function(o,a,s,u){var l=String(c(o)),f="<"+a;return""!==s&&(f+=" "+s+'="'+String(u).replace(h,"&quot;")+'"'),f+">"+l+"</"+a+">"};o.exports=function(o,a){var s={};s[o]=a(createHTML),u(u.P+u.F*l((function(){var a=""[o]('"');return a!==a.toLowerCase()||a.split('"').length>3})),"String",s)}},function(o,a){var s={}.hasOwnProperty;o.exports=function(o,a){return s.call(o,a)}},function(o,a,s){var u=s(56),l=s(31);o.exports=function(o){return u(l(o))}},function(o,a,s){var u=s(57),l=s(40),c=s(21),h=s(30),f=s(20),p=s(109),m=Object.getOwnPropertyDescriptor;a.f=s(13)?m:function getOwnPropertyDescriptor(o,a){if(o=c(o),a=h(a,!0),p)try{return m(o,a)}catch(o){}if(f(o,a))return l(!u.f.call(o,a),o[a])}},function(o,a,s){var u=s(20),l=s(15),c=s(80)("IE_PROTO"),h=Object.prototype;o.exports=Object.getPrototypeOf||function(o){return o=l(o),u(o,c)?o[c]:"function"==typeof o.constructor&&o instanceof o.constructor?o.constructor.prototype:o instanceof Object?h:null}},function(o,a){function _extends(){return o.exports=_extends=Object.assign||function(o){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(o[u]=s[u])}return o},o.exports.default=o.exports,o.exports.__esModule=!0,_extends.apply(this,arguments)}o.exports=_extends,o.exports.default=o.exports,o.exports.__esModule=!0},function(o,a){var s=o.exports={version:"2.6.12"};"number"==typeof __e&&(__e=s)},function(o,a,s){var u=s(16);o.exports=function(o,a,s){if(u(o),void 0===a)return o;switch(s){case 1:return function(s){return o.call(a,s)};case 2:return function(s,u){return o.call(a,s,u)};case 3:return function(s,u,l){return o.call(a,s,u,l)}}return function(){return o.apply(a,arguments)}}},function(o,a){var s={}.toString;o.exports=function(o){return s.call(o).slice(8,-1)}},function(o,a){var s=Math.ceil,u=Math.floor;o.exports=function(o){return isNaN(o=+o)?0:(o>0?u:s)(o)}},function(o,a,s){"use strict";var u=s(8);o.exports=function(o,a){return!!o&&u((function(){a?o.call(null,(function(){}),1):o.call(null)}))}},function(o,a,s){var u=s(9);o.exports=function(o,a){if(!u(o))return o;var s,l;if(a&&"function"==typeof(s=o.toString)&&!u(l=s.call(o)))return l;if("function"==typeof(s=o.valueOf)&&!u(l=s.call(o)))return l;if(!a&&"function"==typeof(s=o.toString)&&!u(l=s.call(o)))return l;throw TypeError("Can't convert object to primitive value")}},function(o,a){o.exports=function(o){if(null==o)throw TypeError("Can't call method on  "+o);return o}},function(o,a,s){var u=s(1),l=s(25),c=s(8);o.exports=function(o,a){var s=(l.Object||{})[o]||Object[o],h={};h[o]=a(s),u(u.S+u.F*c((function(){s(1)})),"Object",h)}},function(o,a,s){var u=s(26),l=s(56),c=s(15),h=s(12),f=s(96);o.exports=function(o,a){var s=1==o,p=2==o,m=3==o,g=4==o,v=6==o,y=5==o||v,_=a||f;return function(a,f,b){for(var T,S,w=c(a),k=l(w),x=u(f,b,3),P=h(k.length),I=0,O=s?_(a,P):p?_(a,0):void 0;P>I;I++)if((y||I in k)&&(S=x(T=k[I],I,w),o))if(s)O[I]=S;else if(S)switch(o){case 3:return!0;case 5:return T;case 6:return I;case 2:O.push(T)}else if(g)return!1;return v?-1:m||g?g:O}}},function(o,a){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch(o){"object"==typeof window&&(s=window)}o.exports=s},function(o,a,s){"use strict";if(s(13)){var u=s(37),l=s(7),c=s(8),h=s(1),f=s(71),p=s(104),m=s(26),g=s(47),v=s(40),y=s(17),_=s(49),b=s(28),T=s(12),S=s(137),w=s(43),k=s(30),x=s(20),P=s(52),I=s(9),O=s(15),L=s(93),M=s(44),D=s(23),R=s(45).f,N=s(95),j=s(41),U=s(11),H=s(33),q=s(61),V=s(59),W=s(98),z=s(54),G=s(66),X=s(46),Y=s(97),K=s(126),Q=s(14),J=s(22),Z=Q.f,ee=J.f,te=l.RangeError,ne=l.TypeError,re=l.Uint8Array,ie="ArrayBuffer",oe="SharedArrayBuffer",ae="BYTES_PER_ELEMENT",se=Array.prototype,ue=p.ArrayBuffer,le=p.DataView,ce=H(0),de=H(2),he=H(3),fe=H(4),pe=H(5),me=H(6),ge=q(!0),ve=q(!1),ye=W.values,_e=W.keys,be=W.entries,Te=se.lastIndexOf,Se=se.reduce,we=se.reduceRight,Ee=se.join,ke=se.sort,Ce=se.slice,xe=se.toString,Pe=se.toLocaleString,Ae=U("iterator"),Ie=U("toStringTag"),Oe=j("typed_constructor"),Le=j("def_constructor"),Me=f.CONSTR,De=f.TYPED,Re=f.VIEW,Ne="Wrong length!",Be=H(1,(function(o,a){return allocate(V(o,o[Le]),a)})),Fe=c((function(){return 1===new re(new Uint16Array([1]).buffer)[0]})),je=!!re&&!!re.prototype.set&&c((function(){new re(1).set({})})),toOffset=function(o,a){var s=b(o);if(s<0||s%a)throw te("Wrong offset!");return s},validate=function(o){if(I(o)&&De in o)return o;throw ne(o+" is not a typed array!")},allocate=function(o,a){if(!I(o)||!(Oe in o))throw ne("It is not a typed array constructor!");return new o(a)},speciesFromList=function(o,a){return fromList(V(o,o[Le]),a)},fromList=function(o,a){for(var s=0,u=a.length,l=allocate(o,u);u>s;)l[s]=a[s++];return l},addGetter=function(o,a,s){Z(o,a,{get:function(){return this._d[s]}})},Ue=function from(o){var a,s,u,l,c,h,f=O(o),p=arguments.length,g=p>1?arguments[1]:void 0,v=void 0!==g,y=N(f);if(null!=y&&!L(y)){for(h=y.call(f),u=[],a=0;!(c=h.next()).done;a++)u.push(c.value);f=u}for(v&&p>2&&(g=m(g,arguments[2],2)),a=0,s=T(f.length),l=allocate(this,s);s>a;a++)l[a]=v?g(f[a],a):f[a];return l},He=function of(){for(var o=0,a=arguments.length,s=allocate(this,a);a>o;)s[o]=arguments[o++];return s},qe=!!re&&c((function(){Pe.call(new re(1))})),Ve=function toLocaleString(){return Pe.apply(qe?Ce.call(validate(this)):validate(this),arguments)},We={copyWithin:function copyWithin(o,a){return K.call(validate(this),o,a,arguments.length>2?arguments[2]:void 0)},every:function every(o){return fe(validate(this),o,arguments.length>1?arguments[1]:void 0)},fill:function fill(o){return Y.apply(validate(this),arguments)},filter:function filter(o){return speciesFromList(this,de(validate(this),o,arguments.length>1?arguments[1]:void 0))},find:function find(o){return pe(validate(this),o,arguments.length>1?arguments[1]:void 0)},findIndex:function findIndex(o){return me(validate(this),o,arguments.length>1?arguments[1]:void 0)},forEach:function forEach(o){ce(validate(this),o,arguments.length>1?arguments[1]:void 0)},indexOf:function indexOf(o){return ve(validate(this),o,arguments.length>1?arguments[1]:void 0)},includes:function includes(o){return ge(validate(this),o,arguments.length>1?arguments[1]:void 0)},join:function join(o){return Ee.apply(validate(this),arguments)},lastIndexOf:function lastIndexOf(o){return Te.apply(validate(this),arguments)},map:function map(o){return Be(validate(this),o,arguments.length>1?arguments[1]:void 0)},reduce:function reduce(o){return Se.apply(validate(this),arguments)},reduceRight:function reduceRight(o){return we.apply(validate(this),arguments)},reverse:function reverse(){for(var o,a=this,s=validate(a).length,u=Math.floor(s/2),l=0;l<u;)o=a[l],a[l++]=a[--s],a[s]=o;return a},some:function some(o){return he(validate(this),o,arguments.length>1?arguments[1]:void 0)},sort:function sort(o){return ke.call(validate(this),o)},subarray:function subarray(o,a){var s=validate(this),u=s.length,l=w(o,u);return new(V(s,s[Le]))(s.buffer,s.byteOffset+l*s.BYTES_PER_ELEMENT,T((void 0===a?u:w(a,u))-l))}},ze=function slice(o,a){return speciesFromList(this,Ce.call(validate(this),o,a))},Ge=function set(o){validate(this);var a=toOffset(arguments[1],1),s=this.length,u=O(o),l=T(u.length),c=0;if(l+a>s)throw te(Ne);for(;c<l;)this[a+c]=u[c++]},Xe={entries:function entries(){return be.call(validate(this))},keys:function keys(){return _e.call(validate(this))},values:function values(){return ye.call(validate(this))}},isTAIndex=function(o,a){return I(o)&&o[De]&&"symbol"!=typeof a&&a in o&&String(+a)==String(a)},Ye=function getOwnPropertyDescriptor(o,a){return isTAIndex(o,a=k(a,!0))?v(2,o[a]):ee(o,a)},$e=function defineProperty(o,a,s){return!(isTAIndex(o,a=k(a,!0))&&I(s)&&x(s,"value"))||x(s,"get")||x(s,"set")||s.configurable||x(s,"writable")&&!s.writable||x(s,"enumerable")&&!s.enumerable?Z(o,a,s):(o[a]=s.value,o)};Me||(J.f=Ye,Q.f=$e),h(h.S+h.F*!Me,"Object",{getOwnPropertyDescriptor:Ye,defineProperty:$e}),c((function(){xe.call({})}))&&(xe=Pe=function toString(){return Ee.call(this)});var Ke=_({},We);_(Ke,Xe),y(Ke,Ae,Xe.values),_(Ke,{slice:ze,set:Ge,constructor:function(){},toString:xe,toLocaleString:Ve}),addGetter(Ke,"buffer","b"),addGetter(Ke,"byteOffset","o"),addGetter(Ke,"byteLength","l"),addGetter(Ke,"length","e"),Z(Ke,Ie,{get:function(){return this[De]}}),o.exports=function(o,a,s,p){var m=o+((p=!!p)?"Clamped":"")+"Array",v="get"+o,_="set"+o,b=l[m],w=b||{},k=b&&D(b),x=!b||!f.ABV,O={},L=b&&b.prototype,addElement=function(o,s){Z(o,s,{get:function(){return function(o,s){var u=o._d;return u.v[v](s*a+u.o,Fe)}(this,s)},set:function(o){return function(o,s,u){var l=o._d;p&&(u=(u=Math.round(u))<0?0:u>255?255:255&u),l.v[_](s*a+l.o,u,Fe)}(this,s,o)},enumerable:!0})};x?(b=s((function(o,s,u,l){g(o,b,m,"_d");var c,h,f,p,v=0,_=0;if(I(s)){if(!(s instanceof ue||(p=P(s))==ie||p==oe))return De in s?fromList(b,s):Ue.call(b,s);c=s,_=toOffset(u,a);var w=s.byteLength;if(void 0===l){if(w%a)throw te(Ne);if((h=w-_)<0)throw te(Ne)}else if((h=T(l)*a)+_>w)throw te(Ne);f=h/a}else f=S(s),c=new ue(h=f*a);for(y(o,"_d",{b:c,o:_,l:h,e:f,v:new le(c)});v<f;)addElement(o,v++)})),L=b.prototype=M(Ke),y(L,"constructor",b)):c((function(){b(1)}))&&c((function(){new b(-1)}))&&G((function(o){new b,new b(null),new b(1.5),new b(o)}),!0)||(b=s((function(o,s,u,l){var c;return g(o,b,m),I(s)?s instanceof ue||(c=P(s))==ie||c==oe?void 0!==l?new w(s,toOffset(u,a),l):void 0!==u?new w(s,toOffset(u,a)):new w(s):De in s?fromList(b,s):Ue.call(b,s):new w(S(s))})),ce(k!==Function.prototype?R(w).concat(R(k)):R(w),(function(o){o in b||y(b,o,w[o])})),b.prototype=L,u||(L.constructor=b));var N=L[Ae],j=!!N&&("values"==N.name||null==N.name),U=Xe.values;y(b,Oe,!0),y(L,De,m),y(L,Re,!0),y(L,Le,b),(p?new b(1)[Ie]==m:Ie in L)||Z(L,Ie,{get:function(){return m}}),O[m]=b,h(h.G+h.W+h.F*(b!=w),O),h(h.S,m,{BYTES_PER_ELEMENT:a}),h(h.S+h.F*c((function(){w.of.call(b,1)})),m,{from:Ue,of:He}),ae in L||y(L,ae,a),h(h.P,m,We),X(m),h(h.P+h.F*je,m,{set:Ge}),h(h.P+h.F*!j,m,Xe),u||L.toString==xe||(L.toString=xe),h(h.P+h.F*c((function(){new b(1).slice()})),m,{slice:ze}),h(h.P+h.F*(c((function(){return[1,2].toLocaleString()!=new b([1,2]).toLocaleString()}))||!c((function(){L.toLocaleString.call([1,2])}))),m,{toLocaleString:Ve}),z[m]=j?N:U,u||j||y(L,Ae,U)}}else o.exports=function(){}},function(o,a,s){var u=s(132),l=s(1),c=s(55)("metadata"),h=c.store||(c.store=new(s(135))),getOrCreateMetadataMap=function(o,a,s){var l=h.get(o);if(!l){if(!s)return;h.set(o,l=new u)}var c=l.get(a);if(!c){if(!s)return;l.set(a,c=new u)}return c};o.exports={store:h,map:getOrCreateMetadataMap,has:function(o,a,s){var u=getOrCreateMetadataMap(a,s,!1);return void 0!==u&&u.has(o)},get:function(o,a,s){var u=getOrCreateMetadataMap(a,s,!1);return void 0===u?void 0:u.get(o)},set:function(o,a,s,u){getOrCreateMetadataMap(s,u,!0).set(o,a)},keys:function(o,a){var s=getOrCreateMetadataMap(o,a,!1),u=[];return s&&s.forEach((function(o,a){u.push(a)})),u},key:function(o){return void 0===o||"symbol"==typeof o?o:String(o)},exp:function(o){l(l.S,"Reflect",o)}}},function(o,a){o.exports=!1},function(o,a,s){var u=s(41)("meta"),l=s(9),c=s(20),h=s(14).f,f=0,p=Object.isExtensible||function(){return!0},m=!s(8)((function(){return p(Object.preventExtensions({}))})),setMeta=function(o){h(o,u,{value:{i:"O"+ ++f,w:{}}})},g=o.exports={KEY:u,NEED:!1,fastKey:function(o,a){if(!l(o))return"symbol"==typeof o?o:("string"==typeof o?"S":"P")+o;if(!c(o,u)){if(!p(o))return"F";if(!a)return"E";setMeta(o)}return o[u].i},getWeak:function(o,a){if(!c(o,u)){if(!p(o))return!0;if(!a)return!1;setMeta(o)}return o[u].w},onFreeze:function(o){return m&&g.NEED&&p(o)&&!c(o,u)&&setMeta(o),o}}},function(o,a,s){var u=s(11)("unscopables"),l=Array.prototype;null==l[u]&&s(17)(l,u,{}),o.exports=function(o){l[u][o]=!0}},function(o,a){o.exports=function(o,a){return{enumerable:!(1&o),configurable:!(2&o),writable:!(4&o),value:a}}},function(o,a){var s=0,u=Math.random();o.exports=function(o){return"Symbol(".concat(void 0===o?"":o,")_",(++s+u).toString(36))}},function(o,a,s){var u=s(111),l=s(81);o.exports=Object.keys||function keys(o){return u(o,l)}},function(o,a,s){var u=s(28),l=Math.max,c=Math.min;o.exports=function(o,a){return(o=u(o))<0?l(o+a,0):c(o,a)}},function(o,a,s){var u=s(6),l=s(112),c=s(81),h=s(80)("IE_PROTO"),Empty=function(){},createDict=function(){var o,a=s(78)("iframe"),u=c.length;for(a.style.display="none",s(82).appendChild(a),a.src="javascript:",(o=a.contentWindow.document).open(),o.write("<script>document.F=Object<\/script>"),o.close(),createDict=o.F;u--;)delete createDict.prototype[c[u]];return createDict()};o.exports=Object.create||function create(o,a){var s;return null!==o?(Empty.prototype=u(o),s=new Empty,Empty.prototype=null,s[h]=o):s=createDict(),void 0===a?s:l(s,a)}},function(o,a,s){var u=s(111),l=s(81).concat("length","prototype");a.f=Object.getOwnPropertyNames||function getOwnPropertyNames(o){return u(o,l)}},function(o,a,s){"use strict";var u=s(7),l=s(14),c=s(13),h=s(11)("species");o.exports=function(o){var a=u[o];c&&a&&!a[h]&&l.f(a,h,{configurable:!0,get:function(){return this}})}},function(o,a){o.exports=function(o,a,s,u){if(!(o instanceof a)||void 0!==u&&u in o)throw TypeError(s+": incorrect invocation!");return o}},function(o,a,s){var u=s(26),l=s(124),c=s(93),h=s(6),f=s(12),p=s(95),m={},g={};(a=o.exports=function(o,a,s,v,y){var _,b,T,S,w=y?function(){return o}:p(o),k=u(s,v,a?2:1),x=0;if("function"!=typeof w)throw TypeError(o+" is not iterable!");if(c(w)){for(_=f(o.length);_>x;x++)if((S=a?k(h(b=o[x])[0],b[1]):k(o[x]))===m||S===g)return S}else for(T=w.call(o);!(b=T.next()).done;)if((S=l(T,k,b.value,a))===m||S===g)return S}).BREAK=m,a.RETURN=g},function(o,a,s){var u=s(18);o.exports=function(o,a,s){for(var l in a)u(o,l,a[l],s);return o}},function(o,a,s){var u=s(9);o.exports=function(o,a){if(!u(o)||o._t!==a)throw TypeError("Incompatible receiver, "+a+" required!");return o}},function(o,a,s){var u=s(14).f,l=s(20),c=s(11)("toStringTag");o.exports=function(o,a,s){o&&!l(o=s?o:o.prototype,c)&&u(o,c,{configurable:!0,value:a})}},function(o,a,s){var u=s(27),l=s(11)("toStringTag"),c="Arguments"==u(function(){return arguments}());o.exports=function(o){var a,s,h;return void 0===o?"Undefined":null===o?"Null":"string"==typeof(s=function(o,a){try{return o[a]}catch(o){}}(a=Object(o),l))?s:c?u(a):"Object"==(h=u(a))&&"function"==typeof a.callee?"Arguments":h}},function(o,a,s){var u=s(1),l=s(31),c=s(8),h=s(84),f="["+h+"]",p=RegExp("^"+f+f+"*"),m=RegExp(f+f+"*$"),exporter=function(o,a,s){var l={},f=c((function(){return!!h[o]()||"​"!="​"[o]()})),p=l[o]=f?a(g):h[o];s&&(l[s]=p),u(u.P+u.F*f,"String",l)},g=exporter.trim=function(o,a){return o=String(l(o)),1&a&&(o=o.replace(p,"")),2&a&&(o=o.replace(m,"")),o};o.exports=exporter},function(o,a){o.exports={}},function(o,a,s){var u=s(25),l=s(7),c="__core-js_shared__",h=l[c]||(l[c]={});(o.exports=function(o,a){return h[o]||(h[o]=void 0!==a?a:{})})("versions",[]).push({version:u.version,mode:s(37)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(o,a,s){var u=s(27);o.exports=Object("z").propertyIsEnumerable(0)?Object:function(o){return"String"==u(o)?o.split(""):Object(o)}},function(o,a){a.f={}.propertyIsEnumerable},function(o,a,s){"use strict";var u=s(6);o.exports=function(){var o=u(this),a="";return o.global&&(a+="g"),o.ignoreCase&&(a+="i"),o.multiline&&(a+="m"),o.unicode&&(a+="u"),o.sticky&&(a+="y"),a}},function(o,a,s){var u=s(6),l=s(16),c=s(11)("species");o.exports=function(o,a){var s,h=u(o).constructor;return void 0===h||null==(s=u(h)[c])?a:l(s)}},function(o,a){var s,u,l,c,h,f,p,m=9e4;s=function(o){return o*m},u=function(o,a){return o*a},l=function(o){return o/m},c=function(o,a){return o/a},h=function(o,a){return s(c(o,a))},f=function(o,a){return u(l(o),a)},p=function(o,a,s){return l(s?o:o-a)},o.exports={ONE_SECOND_IN_TS:m,secondsToVideoTs:s,secondsToAudioTs:u,videoTsToSeconds:l,audioTsToSeconds:c,audioTsToVideoTs:h,videoTsToAudioTs:f,metadataTsToSeconds:p}},function(o,a,s){var u=s(21),l=s(12),c=s(43);o.exports=function(o){return function(a,s,h){var f,p=u(a),m=l(p.length),g=c(h,m);if(o&&s!=s){for(;m>g;)if((f=p[g++])!=f)return!0}else for(;m>g;g++)if((o||g in p)&&p[g]===s)return o||g||0;return!o&&-1}}},function(o,a){a.f=Object.getOwnPropertySymbols},function(o,a,s){var u=s(27);o.exports=Array.isArray||function isArray(o){return"Array"==u(o)}},function(o,a,s){var u=s(28),l=s(31);o.exports=function(o){return function(a,s){var c,h,f=String(l(a)),p=u(s),m=f.length;return p<0||p>=m?o?"":void 0:(c=f.charCodeAt(p))<55296||c>56319||p+1===m||(h=f.charCodeAt(p+1))<56320||h>57343?o?f.charAt(p):c:o?f.slice(p,p+2):h-56320+(c-55296<<10)+65536}}},function(o,a,s){var u=s(9),l=s(27),c=s(11)("match");o.exports=function(o){var a;return u(o)&&(void 0!==(a=o[c])?!!a:"RegExp"==l(o))}},function(o,a,s){var u=s(11)("iterator"),l=!1;try{var c=[7][u]();c.return=function(){l=!0},Array.from(c,(function(){throw 2}))}catch(o){}o.exports=function(o,a){if(!a&&!l)return!1;var s=!1;try{var c=[7],h=c[u]();h.next=function(){return{done:s=!0}},c[u]=function(){return h},o(c)}catch(o){}return s}},function(o,a,s){"use strict";var u=s(52),l=RegExp.prototype.exec;o.exports=function(o,a){var s=o.exec;if("function"==typeof s){var c=s.call(o,a);if("object"!=typeof c)throw new TypeError("RegExp exec method returned something other than an Object or null");return c}if("RegExp"!==u(o))throw new TypeError("RegExp#exec called on incompatible receiver");return l.call(o,a)}},function(o,a,s){"use strict";s(128);var u=s(18),l=s(17),c=s(8),h=s(31),f=s(11),p=s(99),m=f("species"),g=!c((function(){var o=/./;return o.exec=function(){var o=[];return o.groups={a:"7"},o},"7"!=="".replace(o,"$<a>")})),v=function(){var o=/(?:)/,a=o.exec;o.exec=function(){return a.apply(this,arguments)};var s="ab".split(o);return 2===s.length&&"a"===s[0]&&"b"===s[1]}();o.exports=function(o,a,s){var y=f(o),_=!c((function(){var a={};return a[y]=function(){return 7},7!=""[o](a)})),b=_?!c((function(){var a=!1,s=/a/;return s.exec=function(){return a=!0,null},"split"===o&&(s.constructor={},s.constructor[m]=function(){return s}),s[y](""),!a})):void 0;if(!_||!b||"replace"===o&&!g||"split"===o&&!v){var T=/./[y],S=s(h,y,""[o],(function maybeCallNative(o,a,s,u,l){return a.exec===p?_&&!l?{done:!0,value:T.call(a,s,u)}:{done:!0,value:o.call(s,a,u)}:{done:!1}})),w=S[0],k=S[1];u(String.prototype,o,w),l(RegExp.prototype,y,2==a?function(o,a){return k.call(o,this,a)}:function(o){return k.call(o,this)})}}},function(o,a,s){var u=s(7).navigator;o.exports=u&&u.userAgent||""},function(o,a,s){"use strict";var u=s(7),l=s(1),c=s(18),h=s(49),f=s(38),p=s(48),m=s(47),g=s(9),v=s(8),y=s(66),_=s(51),b=s(85);o.exports=function(o,a,s,T,S,w){var k=u[o],x=k,P=S?"set":"add",I=x&&x.prototype,O={},fixMethod=function(o){var a=I[o];c(I,o,"delete"==o?function(o){return!(w&&!g(o))&&a.call(this,0===o?0:o)}:"has"==o?function has(o){return!(w&&!g(o))&&a.call(this,0===o?0:o)}:"get"==o?function get(o){return w&&!g(o)?void 0:a.call(this,0===o?0:o)}:"add"==o?function add(o){return a.call(this,0===o?0:o),this}:function set(o,s){return a.call(this,0===o?0:o,s),this})};if("function"==typeof x&&(w||I.forEach&&!v((function(){(new x).entries().next()})))){var L=new x,M=L[P](w?{}:-0,1)!=L,D=v((function(){L.has(1)})),R=y((function(o){new x(o)})),N=!w&&v((function(){for(var o=new x,a=5;a--;)o[P](a,a);return!o.has(-0)}));R||((x=a((function(a,s){m(a,x,o);var u=b(new k,a,x);return null!=s&&p(s,S,u[P],u),u}))).prototype=I,I.constructor=x),(D||N)&&(fixMethod("delete"),fixMethod("has"),S&&fixMethod("get")),(N||M)&&fixMethod(P),w&&I.clear&&delete I.clear}else x=T.getConstructor(a,o,S,P),h(x.prototype,s),f.NEED=!0;return _(x,o),O[o]=x,l(l.G+l.W+l.F*(x!=k),O),w||T.setStrong(x,o,S),x}},function(o,a,s){for(var u,l=s(7),c=s(17),h=s(41),f=h("typed_array"),p=h("view"),m=!(!l.ArrayBuffer||!l.DataView),g=m,v=0,y="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");v<9;)(u=l[y[v++]])?(c(u.prototype,f,!0),c(u.prototype,p,!0)):g=!1;o.exports={ABV:m,CONSTR:g,TYPED:f,VIEW:p}},function(o,a,s){"use strict";o.exports=s(37)||!s(8)((function(){var o=Math.random();__defineSetter__.call(null,o,(function(){})),delete s(7)[o]}))},function(o,a,s){"use strict";var u=s(1);o.exports=function(o){u(u.S,o,{of:function of(){for(var o=arguments.length,a=new Array(o);o--;)a[o]=arguments[o];return new this(a)}})}},function(o,a,s){"use strict";var u=s(1),l=s(16),c=s(26),h=s(48);o.exports=function(o){u(u.S,o,{from:function from(o){var a,s,u,f,p=arguments[1];return l(this),(a=void 0!==p)&&l(p),null==o?new this:(s=[],a?(u=0,f=c(p,arguments[2],2),h(o,!1,(function(o){s.push(f(o,u++))}))):h(o,!1,s.push,s),new this(s))}})}},function(o,a,s){"use strict";function freeze(o,a){return void 0===a&&(a=Object),a&&"function"==typeof a.freeze?a.freeze(o):o}var u=freeze({HTML:"text/html",isHTML:function(o){return o===u.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),l=freeze({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(o){return o===l.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});a.freeze=freeze,a.MIME_TYPE=u,a.NAMESPACE=l},function(o,a,s){"use strict";(function(o,s){function _classCallCheck(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties(o,a){for(var s=0;s<a.length;s++){var u=a[s];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(o,u.key,u)}}var u=void 0!==o&&"[object global]"==={}.toString.call(o);function getMethodName(o,a){return 0===o.indexOf(a.toLowerCase())?o:"".concat(a.toLowerCase()).concat(o.substr(0,1).toUpperCase()).concat(o.substr(1))}function isDomElement(o){return Boolean(o&&1===o.nodeType&&"nodeName"in o&&o.ownerDocument&&o.ownerDocument.defaultView)}function isInteger(o){return!isNaN(parseFloat(o))&&isFinite(o)&&Math.floor(o)==o}function isVimeoUrl(o){return/^(https?:)?\/\/((player|www)\.)?vimeo\.com(?=$|\/)/.test(o)}function isVimeoEmbed(o){return/^https:\/\/player\.vimeo\.com\/video\/\d+/.test(o)}function getVimeoUrl(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=o.id,s=o.url,u=a||s;if(!u)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(isInteger(u))return"https://vimeo.com/".concat(u);if(isVimeoUrl(u))return u.replace("http:","https:");if(a)throw new TypeError("“".concat(a,"” is not a valid video id."));throw new TypeError("“".concat(u,"” is not a vimeo.com url."))}var l=void 0!==Array.prototype.indexOf,c="undefined"!=typeof window&&void 0!==window.postMessage;if(!(u||l&&c))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var h="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==o?o:"undefined"!=typeof self?self:{};!function(o){if(!o.WeakMap){var a=Object.prototype.hasOwnProperty,s=Object.defineProperty&&function(){try{return 1===Object.defineProperty({},"x",{value:1}).x}catch(o){}}(),defineProperty=function(o,a,u){s?Object.defineProperty(o,a,{configurable:!0,writable:!0,value:u}):o[a]=u};o.WeakMap=function(){function WeakMap(){if(void 0===this)throw new TypeError("Constructor WeakMap requires 'new'");if(defineProperty(this,"_id",genId("_WeakMap")),arguments.length>0)throw new TypeError("WeakMap iterable is not supported")}function checkInstance(o,s){if(!isObject(o)||!a.call(o,"_id"))throw new TypeError(s+" method called on incompatible receiver "+typeof o)}function genId(o){return o+"_"+rand()+"."+rand()}function rand(){return Math.random().toString().substring(2)}return defineProperty(WeakMap.prototype,"delete",(function(o){if(checkInstance(this,"delete"),!isObject(o))return!1;var a=o[this._id];return!(!a||a[0]!==o)&&(delete o[this._id],!0)})),defineProperty(WeakMap.prototype,"get",(function(o){if(checkInstance(this,"get"),isObject(o)){var a=o[this._id];return a&&a[0]===o?a[1]:void 0}})),defineProperty(WeakMap.prototype,"has",(function(o){if(checkInstance(this,"has"),!isObject(o))return!1;var a=o[this._id];return!(!a||a[0]!==o)})),defineProperty(WeakMap.prototype,"set",(function(o,a){if(checkInstance(this,"set"),!isObject(o))throw new TypeError("Invalid value used as weak map key");var s=o[this._id];return s&&s[0]===o?(s[1]=a,this):(defineProperty(o,this._id,[o,a]),this)})),defineProperty(WeakMap,"_polyfill",!0),WeakMap}()}function isObject(o){return Object(o)===o}}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:h);var f=function createCommonjsModule(o,a){return o(a={exports:{}},a.exports),a.exports}((function(o){!function UMD(a,s,u){s[a]=s[a]||u(),o.exports&&(o.exports=s[a])}("Promise",h,(function DEF(){var o,a,u,l=Object.prototype.toString,c=void 0!==s?function timer(o){return s(o)}:setTimeout;try{Object.defineProperty({},"x",{}),o=function builtInProp(o,a,s,u){return Object.defineProperty(o,a,{value:s,writable:!0,configurable:!1!==u})}}catch(a){o=function builtInProp(o,a,s){return o[a]=s,o}}function schedule(o,s){u.add(o,s),a||(a=c(u.drain))}function isThenable(o){var a,s=typeof o;return null==o||"object"!=s&&"function"!=s||(a=o.then),"function"==typeof a&&a}function notify(){for(var o=0;o<this.chain.length;o++)notifyIsolated(this,1===this.state?this.chain[o].success:this.chain[o].failure,this.chain[o]);this.chain.length=0}function notifyIsolated(o,a,s){var u,l;try{!1===a?s.reject(o.msg):(u=!0===a?o.msg:a.call(void 0,o.msg))===s.promise?s.reject(TypeError("Promise-chain cycle")):(l=isThenable(u))?l.call(u,s.resolve,s.reject):s.resolve(u)}catch(o){s.reject(o)}}function resolve(o){var a,s=this;if(!s.triggered){s.triggered=!0,s.def&&(s=s.def);try{(a=isThenable(o))?schedule((function(){var u=new MakeDefWrapper(s);try{a.call(o,(function $resolve$(){resolve.apply(u,arguments)}),(function $reject$(){reject.apply(u,arguments)}))}catch(o){reject.call(u,o)}})):(s.msg=o,s.state=1,s.chain.length>0&&schedule(notify,s))}catch(o){reject.call(new MakeDefWrapper(s),o)}}}function reject(o){var a=this;a.triggered||(a.triggered=!0,a.def&&(a=a.def),a.msg=o,a.state=2,a.chain.length>0&&schedule(notify,a))}function iteratePromises(o,a,s,u){for(var l=0;l<a.length;l++)!function IIFE(l){o.resolve(a[l]).then((function $resolver$(o){s(l,o)}),u)}(l)}function MakeDefWrapper(o){this.def=o,this.triggered=!1}function MakeDef(o){this.promise=o,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function Promise(o){if("function"!=typeof o)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var a=new MakeDef(this);this.then=function then(o,s){var u={success:"function"!=typeof o||o,failure:"function"==typeof s&&s};return u.promise=new this.constructor((function extractChain(o,a){if("function"!=typeof o||"function"!=typeof a)throw TypeError("Not a function");u.resolve=o,u.reject=a})),a.chain.push(u),0!==a.state&&schedule(notify,a),u.promise},this.catch=function $catch$(o){return this.then(void 0,o)};try{o.call(void 0,(function publicResolve(o){resolve.call(a,o)}),(function publicReject(o){reject.call(a,o)}))}catch(o){reject.call(a,o)}}u=function Queue(){var o,s,u;function Item(o,a){this.fn=o,this.self=a,this.next=void 0}return{add:function add(a,l){u=new Item(a,l),s?s.next=u:o=u,s=u,u=void 0},drain:function drain(){var u=o;for(o=s=a=void 0;u;)u.fn.call(u.self),u=u.next}}}();var h=o({},"constructor",Promise,!1);return Promise.prototype=h,o(h,"__NPO__",0,!1),o(Promise,"resolve",(function Promise$resolve(o){return o&&"object"==typeof o&&1===o.__NPO__?o:new this((function executor(a,s){if("function"!=typeof a||"function"!=typeof s)throw TypeError("Not a function");a(o)}))})),o(Promise,"reject",(function Promise$reject(o){return new this((function executor(a,s){if("function"!=typeof a||"function"!=typeof s)throw TypeError("Not a function");s(o)}))})),o(Promise,"all",(function Promise$all(o){var a=this;return"[object Array]"!=l.call(o)?a.reject(TypeError("Not an array")):0===o.length?a.resolve([]):new a((function executor(s,u){if("function"!=typeof s||"function"!=typeof u)throw TypeError("Not a function");var l=o.length,c=Array(l),h=0;iteratePromises(a,o,(function resolver(o,a){c[o]=a,++h===l&&s(c)}),u)}))})),o(Promise,"race",(function Promise$race(o){var a=this;return"[object Array]"!=l.call(o)?a.reject(TypeError("Not an array")):new a((function executor(s,u){if("function"!=typeof s||"function"!=typeof u)throw TypeError("Not a function");iteratePromises(a,o,(function resolver(o,a){s(a)}),u)}))})),Promise}))})),p=new WeakMap;function storeCallback(o,a,s){var u=p.get(o.element)||{};a in u||(u[a]=[]),u[a].push(s),p.set(o.element,u)}function getCallbacks(o,a){return(p.get(o.element)||{})[a]||[]}function removeCallback(o,a,s){var u=p.get(o.element)||{};if(!u[a])return!0;if(!s)return u[a]=[],p.set(o.element,u),!0;var l=u[a].indexOf(s);return-1!==l&&u[a].splice(l,1),p.set(o.element,u),u[a]&&0===u[a].length}function swapCallbacks(o,a){var s=p.get(o);p.set(a,s),p.delete(o)}function parseMessageData(o){if("string"==typeof o)try{o=JSON.parse(o)}catch(o){return console.warn(o),{}}return o}function postMessage(o,a,s){if(o.element.contentWindow&&o.element.contentWindow.postMessage){var u={method:a};void 0!==s&&(u.value=s);var l=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));l>=8&&l<10&&(u=JSON.stringify(u)),o.element.contentWindow.postMessage(u,o.origin)}}function processData(o,a){var s,u=[];if((a=parseMessageData(a)).event){if("error"===a.event)getCallbacks(o,a.data.method).forEach((function(s){var u=new Error(a.data.message);u.name=a.data.name,s.reject(u),removeCallback(o,a.data.method,s)}));u=getCallbacks(o,"event:".concat(a.event)),s=a.data}else if(a.method){var l=function shiftCallbacks(o,a){var s=getCallbacks(o,a);if(s.length<1)return!1;var u=s.shift();return removeCallback(o,a,u),u}(o,a.method);l&&(u.push(l),s=a.value)}u.forEach((function(a){try{if("function"==typeof a)return void a.call(o,s);a.resolve(s)}catch(o){}}))}var m=["autopause","autoplay","background","byline","color","controls","dnt","height","id","interactive_params","keyboard","loop","maxheight","maxwidth","muted","playsinline","portrait","responsive","speed","texttrack","title","transparent","url","width"];function getOEmbedParameters(o){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return m.reduce((function(a,s){var u=o.getAttribute("data-vimeo-".concat(s));return(u||""===u)&&(a[s]=""===u?1:u),a}),a)}function createEmbed(o,a){var s=o.html;if(!a)throw new TypeError("An element must be provided");if(null!==a.getAttribute("data-vimeo-initialized"))return a.querySelector("iframe");var u=document.createElement("div");return u.innerHTML=s,a.appendChild(u.firstChild),a.setAttribute("data-vimeo-initialized","true"),a.querySelector("iframe")}function getOEmbedData(o){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0;return new Promise((function(u,l){if(!isVimeoUrl(o))throw new TypeError("“".concat(o,"” is not a vimeo.com url."));var c="https://vimeo.com/api/oembed.json?url=".concat(encodeURIComponent(o));for(var h in a)a.hasOwnProperty(h)&&(c+="&".concat(h,"=").concat(encodeURIComponent(a[h])));var f="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;f.open("GET",c,!0),f.onload=function(){if(404!==f.status)if(403!==f.status)try{var a=JSON.parse(f.responseText);if(403===a.domain_status_code)return createEmbed(a,s),void l(new Error("“".concat(o,"” is not embeddable.")));u(a)}catch(o){l(o)}else l(new Error("“".concat(o,"” is not embeddable.")));else l(new Error("“".concat(o,"” was not found.")))},f.onerror=function(){var o=f.status?" (".concat(f.status,")"):"";l(new Error("There was an error fetching the embed code from Vimeo".concat(o,".")))},f.send()}))}var g=new WeakMap,v=new WeakMap,y={},_=function(){function Player(o){var a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(_classCallCheck(this,Player),window.jQuery&&o instanceof jQuery&&(o.length>1&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),o=o[0]),"undefined"!=typeof document&&"string"==typeof o&&(o=document.getElementById(o)),!isDomElement(o))throw new TypeError("You must pass either a valid element or a valid id.");if("IFRAME"!==o.nodeName){var u=o.querySelector("iframe");u&&(o=u)}if("IFRAME"===o.nodeName&&!isVimeoUrl(o.getAttribute("src")||""))throw new Error("The player element passed isn’t a Vimeo embed.");if(g.has(o))return g.get(o);this._window=o.ownerDocument.defaultView,this.element=o,this.origin="*";var l=new f((function(u,l){if(a._onMessage=function(o){if(isVimeoUrl(o.origin)&&a.element.contentWindow===o.source){"*"===a.origin&&(a.origin=o.origin);var s=parseMessageData(o.data);if(s&&"error"===s.event&&s.data&&"ready"===s.data.method){var c=new Error(s.data.message);return c.name=s.data.name,void l(c)}var h=s&&"ready"===s.event,f=s&&"ping"===s.method;if(h||f)return a.element.setAttribute("data-ready","true"),void u();processData(a,s)}},a._window.addEventListener("message",a._onMessage),"IFRAME"!==a.element.nodeName){var c=getOEmbedParameters(o,s);getOEmbedData(getVimeoUrl(c),c,o).then((function(s){var u=createEmbed(s,o);return a.element=u,a._originalElement=o,swapCallbacks(o,u),g.set(a.element,a),s})).catch(l)}}));if(v.set(this,l),g.set(this.element,this),"IFRAME"===this.element.nodeName&&postMessage(this,"ping"),y.isEnabled){var c=function exitFullscreen(){return y.exit()};this.fullscreenchangeHandler=function(){y.isFullscreen?storeCallback(a,"event:exitFullscreen",c):removeCallback(a,"event:exitFullscreen",c),a.ready().then((function(){postMessage(a,"fullscreenchange",y.isFullscreen)}))},y.on("fullscreenchange",this.fullscreenchangeHandler)}return this}return function _createClass(o,a,s){return a&&_defineProperties(o.prototype,a),s&&_defineProperties(o,s),o}(Player,[{key:"callMethod",value:function callMethod(o){var a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new f((function(u,l){return a.ready().then((function(){storeCallback(a,o,{resolve:u,reject:l}),postMessage(a,o,s)})).catch(l)}))}},{key:"get",value:function get(o){var a=this;return new f((function(s,u){return o=getMethodName(o,"get"),a.ready().then((function(){storeCallback(a,o,{resolve:s,reject:u}),postMessage(a,o)})).catch(u)}))}},{key:"set",value:function set(o,a){var s=this;return new f((function(u,l){if(o=getMethodName(o,"set"),null==a)throw new TypeError("There must be a value to set.");return s.ready().then((function(){storeCallback(s,o,{resolve:u,reject:l}),postMessage(s,o,a)})).catch(l)}))}},{key:"on",value:function on(o,a){if(!o)throw new TypeError("You must pass an event name.");if(!a)throw new TypeError("You must pass a callback function.");if("function"!=typeof a)throw new TypeError("The callback must be a function.");0===getCallbacks(this,"event:".concat(o)).length&&this.callMethod("addEventListener",o).catch((function(){})),storeCallback(this,"event:".concat(o),a)}},{key:"off",value:function off(o,a){if(!o)throw new TypeError("You must pass an event name.");if(a&&"function"!=typeof a)throw new TypeError("The callback must be a function.");removeCallback(this,"event:".concat(o),a)&&this.callMethod("removeEventListener",o).catch((function(o){}))}},{key:"loadVideo",value:function loadVideo(o){return this.callMethod("loadVideo",o)}},{key:"ready",value:function ready(){var o=v.get(this)||new f((function(o,a){a(new Error("Unknown player. Probably unloaded."))}));return f.resolve(o)}},{key:"addCuePoint",value:function addCuePoint(o){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.callMethod("addCuePoint",{time:o,data:a})}},{key:"removeCuePoint",value:function removeCuePoint(o){return this.callMethod("removeCuePoint",o)}},{key:"enableTextTrack",value:function enableTextTrack(o,a){if(!o)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:o,kind:a})}},{key:"disableTextTrack",value:function disableTextTrack(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function pause(){return this.callMethod("pause")}},{key:"play",value:function play(){return this.callMethod("play")}},{key:"requestFullscreen",value:function requestFullscreen(){return y.isEnabled?y.request(this.element):this.callMethod("requestFullscreen")}},{key:"exitFullscreen",value:function exitFullscreen(){return y.isEnabled?y.exit():this.callMethod("exitFullscreen")}},{key:"getFullscreen",value:function getFullscreen(){return y.isEnabled?f.resolve(y.isFullscreen):this.get("fullscreen")}},{key:"requestPictureInPicture",value:function requestPictureInPicture(){return this.callMethod("requestPictureInPicture")}},{key:"exitPictureInPicture",value:function exitPictureInPicture(){return this.callMethod("exitPictureInPicture")}},{key:"getPictureInPicture",value:function getPictureInPicture(){return this.get("pictureInPicture")}},{key:"unload",value:function unload(){return this.callMethod("unload")}},{key:"destroy",value:function destroy(){var o=this;return new f((function(a){if(v.delete(o),g.delete(o.element),o._originalElement&&(g.delete(o._originalElement),o._originalElement.removeAttribute("data-vimeo-initialized")),o.element&&"IFRAME"===o.element.nodeName&&o.element.parentNode&&(o.element.parentNode.parentNode&&o._originalElement&&o._originalElement!==o.element.parentNode?o.element.parentNode.parentNode.removeChild(o.element.parentNode):o.element.parentNode.removeChild(o.element)),o.element&&"DIV"===o.element.nodeName&&o.element.parentNode){o.element.removeAttribute("data-vimeo-initialized");var s=o.element.querySelector("iframe");s&&s.parentNode&&(s.parentNode.parentNode&&o._originalElement&&o._originalElement!==s.parentNode?s.parentNode.parentNode.removeChild(s.parentNode):s.parentNode.removeChild(s))}o._window.removeEventListener("message",o._onMessage),y.isEnabled&&y.off("fullscreenchange",o.fullscreenchangeHandler),a()}))}},{key:"getAutopause",value:function getAutopause(){return this.get("autopause")}},{key:"setAutopause",value:function setAutopause(o){return this.set("autopause",o)}},{key:"getBuffered",value:function getBuffered(){return this.get("buffered")}},{key:"getCameraProps",value:function getCameraProps(){return this.get("cameraProps")}},{key:"setCameraProps",value:function setCameraProps(o){return this.set("cameraProps",o)}},{key:"getChapters",value:function getChapters(){return this.get("chapters")}},{key:"getCurrentChapter",value:function getCurrentChapter(){return this.get("currentChapter")}},{key:"getColor",value:function getColor(){return this.get("color")}},{key:"setColor",value:function setColor(o){return this.set("color",o)}},{key:"getCuePoints",value:function getCuePoints(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function getCurrentTime(){return this.get("currentTime")}},{key:"setCurrentTime",value:function setCurrentTime(o){return this.set("currentTime",o)}},{key:"getDuration",value:function getDuration(){return this.get("duration")}},{key:"getEnded",value:function getEnded(){return this.get("ended")}},{key:"getLoop",value:function getLoop(){return this.get("loop")}},{key:"setLoop",value:function setLoop(o){return this.set("loop",o)}},{key:"setMuted",value:function setMuted(o){return this.set("muted",o)}},{key:"getMuted",value:function getMuted(){return this.get("muted")}},{key:"getPaused",value:function getPaused(){return this.get("paused")}},{key:"getPlaybackRate",value:function getPlaybackRate(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function setPlaybackRate(o){return this.set("playbackRate",o)}},{key:"getPlayed",value:function getPlayed(){return this.get("played")}},{key:"getQualities",value:function getQualities(){return this.get("qualities")}},{key:"getQuality",value:function getQuality(){return this.get("quality")}},{key:"setQuality",value:function setQuality(o){return this.set("quality",o)}},{key:"getSeekable",value:function getSeekable(){return this.get("seekable")}},{key:"getSeeking",value:function getSeeking(){return this.get("seeking")}},{key:"getTextTracks",value:function getTextTracks(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function getVideoEmbedCode(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function getVideoId(){return this.get("videoId")}},{key:"getVideoTitle",value:function getVideoTitle(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function getVideoWidth(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function getVideoHeight(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function getVideoUrl(){return this.get("videoUrl")}},{key:"getVolume",value:function getVolume(){return this.get("volume")}},{key:"setVolume",value:function setVolume(o){return this.set("volume",o)}}]),Player}();u||(y=function initializeScreenfull(){var o=function(){for(var o,a=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],s=0,u=a.length,l={};s<u;s++)if((o=a[s])&&o[1]in document){for(s=0;s<o.length;s++)l[a[0][s]]=o[s];return l}return!1}(),a={fullscreenchange:o.fullscreenchange,fullscreenerror:o.fullscreenerror},s={request:function request(a){return new Promise((function(u,l){var c=function onFullScreenEntered(){s.off("fullscreenchange",onFullScreenEntered),u()};s.on("fullscreenchange",c);var h=(a=a||document.documentElement)[o.requestFullscreen]();h instanceof Promise&&h.then(c).catch(l)}))},exit:function exit(){return new Promise((function(a,u){if(s.isFullscreen){var l=function onFullScreenExit(){s.off("fullscreenchange",onFullScreenExit),a()};s.on("fullscreenchange",l);var c=document[o.exitFullscreen]();c instanceof Promise&&c.then(l).catch(u)}else a()}))},on:function on(o,s){var u=a[o];u&&document.addEventListener(u,s)},off:function off(o,s){var u=a[o];u&&document.removeEventListener(u,s)}};return Object.defineProperties(s,{isFullscreen:{get:function get(){return Boolean(document[o.fullscreenElement])}},element:{enumerable:!0,get:function get(){return document[o.fullscreenElement]}},isEnabled:{enumerable:!0,get:function get(){return Boolean(document[o.fullscreenEnabled])}}}),s}(),function initializeEmbeds(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,a=[].slice.call(o.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),s=function handleError(o){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(o))};a.forEach((function(o){try{if(null!==o.getAttribute("data-vimeo-defer"))return;var a=getOEmbedParameters(o);getOEmbedData(getVimeoUrl(a),a,o).then((function(a){return createEmbed(a,o)})).catch(s)}catch(o){s(o)}}))}(),function resizeEmbeds(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(!window.VimeoPlayerResizeEmbeds_){window.VimeoPlayerResizeEmbeds_=!0;var a=function onMessage(a){if(isVimeoUrl(a.origin)&&a.data&&"spacechange"===a.data.event)for(var s=o.querySelectorAll("iframe"),u=0;u<s.length;u++)if(s[u].contentWindow===a.source){s[u].parentElement.style.paddingBottom="".concat(a.data.data[0].bottom,"px");break}};window.addEventListener("message",a)}}(),function initAppendVideoMetadata(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(!window.VimeoSeoMetadataAppended){window.VimeoSeoMetadataAppended=!0;var a=function onMessage(a){var s=parseMessageData(a.data);if(s&&"ready"===s.event&&isVimeoUrl(a.origin))for(var u=o.querySelectorAll("iframe"),l=0;l<u.length;l++){var c=u[l],h=c.contentWindow===a.source;isVimeoEmbed(c.src)&&h&&new _(c).callMethod("appendVideoMetadata",window.location.href)}};window.addEventListener("message",a)}}()),a.a=_}).call(this,s(34),s(357).setImmediate)},function(o,a,s){"use strict";(function(o){s.d(a,"a",(function(){return decodeB64ToUint8Array}));var u=s(0),l=s.n(u);function decodeB64ToUint8Array(a){for(var s=function atob(a){return l.a.atob?l.a.atob(a):o.from(a,"base64").toString("binary")}(a),u=new Uint8Array(s.length),c=0;c<s.length;c++)u[c]=s.charCodeAt(c);return u}}).call(this,s(367).Buffer)},function(o,a,s){var u=s(9),l=s(7).document,c=u(l)&&u(l.createElement);o.exports=function(o){return c?l.createElement(o):{}}},function(o,a,s){var u=s(7),l=s(25),c=s(37),h=s(110),f=s(14).f;o.exports=function(o){var a=l.Symbol||(l.Symbol=c?{}:u.Symbol||{});"_"==o.charAt(0)||o in a||f(a,o,{value:h.f(o)})}},function(o,a,s){var u=s(55)("keys"),l=s(41);o.exports=function(o){return u[o]||(u[o]=l(o))}},function(o,a){o.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(o,a,s){var u=s(7).document;o.exports=u&&u.documentElement},function(o,a,s){var u=s(9),l=s(6),check=function(o,a){if(l(o),!u(a)&&null!==a)throw TypeError(a+": can't set as prototype!")};o.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(o,a,u){try{(u=s(26)(Function.call,s(22).f(Object.prototype,"__proto__").set,2))(o,[]),a=!(o instanceof Array)}catch(o){a=!0}return function setPrototypeOf(o,s){return check(o,s),a?o.__proto__=s:u(o,s),o}}({},!1):void 0),check:check}},function(o,a){o.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(o,a,s){var u=s(9),l=s(83).set;o.exports=function(o,a,s){var c,h=a.constructor;return h!==s&&"function"==typeof h&&(c=h.prototype)!==s.prototype&&u(c)&&l&&l(o,c),o}},function(o,a,s){"use strict";var u=s(28),l=s(31);o.exports=function repeat(o){var a=String(l(this)),s="",c=u(o);if(c<0||c==1/0)throw RangeError("Count can't be negative");for(;c>0;(c>>>=1)&&(a+=a))1&c&&(s+=a);return s}},function(o,a){o.exports=Math.sign||function sign(o){return 0==(o=+o)||o!=o?o:o<0?-1:1}},function(o,a){var s=Math.expm1;o.exports=!s||s(10)>22025.465794806718||s(10)<22025.465794806718||-2e-17!=s(-2e-17)?function expm1(o){return 0==(o=+o)?o:o>-1e-6&&o<1e-6?o+o*o/2:Math.exp(o)-1}:s},function(o,a,s){"use strict";var u=s(37),l=s(1),c=s(18),h=s(17),f=s(54),p=s(90),m=s(51),g=s(23),v=s(11)("iterator"),y=!([].keys&&"next"in[].keys()),_="keys",b="values",returnThis=function(){return this};o.exports=function(o,a,s,T,S,w,k){p(s,a,T);var x,P,I,getMethod=function(o){if(!y&&o in D)return D[o];switch(o){case _:return function keys(){return new s(this,o)};case b:return function values(){return new s(this,o)}}return function entries(){return new s(this,o)}},O=a+" Iterator",L=S==b,M=!1,D=o.prototype,R=D[v]||D["@@iterator"]||S&&D[S],N=R||getMethod(S),j=S?L?getMethod("entries"):N:void 0,U="Array"==a&&D.entries||R;if(U&&(I=g(U.call(new o)))!==Object.prototype&&I.next&&(m(I,O,!0),u||"function"==typeof I[v]||h(I,v,returnThis)),L&&R&&R.name!==b&&(M=!0,N=function values(){return R.call(this)}),u&&!k||!y&&!M&&D[v]||h(D,v,N),f[a]=N,f[O]=returnThis,S)if(x={values:L?N:getMethod(b),keys:w?N:getMethod(_),entries:j},k)for(P in x)P in D||c(D,P,x[P]);else l(l.P+l.F*(y||M),a,x);return x}},function(o,a,s){"use strict";var u=s(44),l=s(40),c=s(51),h={};s(17)(h,s(11)("iterator"),(function(){return this})),o.exports=function(o,a,s){o.prototype=u(h,{next:l(1,s)}),c(o,a+" Iterator")}},function(o,a,s){var u=s(65),l=s(31);o.exports=function(o,a,s){if(u(a))throw TypeError("String#"+s+" doesn't accept regex!");return String(l(o))}},function(o,a,s){var u=s(11)("match");o.exports=function(o){var a=/./;try{"/./"[o](a)}catch(s){try{return a[u]=!1,!"/./"[o](a)}catch(o){}}return!0}},function(o,a,s){var u=s(54),l=s(11)("iterator"),c=Array.prototype;o.exports=function(o){return void 0!==o&&(u.Array===o||c[l]===o)}},function(o,a,s){"use strict";var u=s(14),l=s(40);o.exports=function(o,a,s){a in o?u.f(o,a,l(0,s)):o[a]=s}},function(o,a,s){var u=s(52),l=s(11)("iterator"),c=s(54);o.exports=s(25).getIteratorMethod=function(o){if(null!=o)return o[l]||o["@@iterator"]||c[u(o)]}},function(o,a,s){var u=s(246);o.exports=function(o,a){return new(u(o))(a)}},function(o,a,s){"use strict";var u=s(15),l=s(43),c=s(12);o.exports=function fill(o){for(var a=u(this),s=c(a.length),h=arguments.length,f=l(h>1?arguments[1]:void 0,s),p=h>2?arguments[2]:void 0,m=void 0===p?s:l(p,s);m>f;)a[f++]=o;return a}},function(o,a,s){"use strict";var u=s(39),l=s(127),c=s(54),h=s(21);o.exports=s(89)(Array,"Array",(function(o,a){this._t=h(o),this._i=0,this._k=a}),(function(){var o=this._t,a=this._k,s=this._i++;return!o||s>=o.length?(this._t=void 0,l(1)):l(0,"keys"==a?s:"values"==a?o[s]:[s,o[s]])}),"values"),c.Arguments=c.Array,u("keys"),u("values"),u("entries")},function(o,a,s){"use strict";var u,l,c=s(58),h=RegExp.prototype.exec,f=String.prototype.replace,p=h,m=(u=/a/,l=/b*/g,h.call(u,"a"),h.call(l,"a"),0!==u.lastIndex||0!==l.lastIndex),g=void 0!==/()??/.exec("")[1];(m||g)&&(p=function exec(o){var a,s,u,l,p=this;return g&&(s=new RegExp("^"+p.source+"$(?!\\s)",c.call(p))),m&&(a=p.lastIndex),u=h.call(p,o),m&&u&&(p.lastIndex=p.global?u.index+u[0].length:a),g&&u&&u.length>1&&f.call(u[0],s,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(u[l]=void 0)})),u}),o.exports=p},function(o,a,s){"use strict";var u=s(64)(!0);o.exports=function(o,a,s){return a+(s?u(o,a).length:1)}},function(o,a,s){var u,l,c,h=s(26),f=s(117),p=s(82),m=s(78),g=s(7),v=g.process,y=g.setImmediate,_=g.clearImmediate,b=g.MessageChannel,T=g.Dispatch,S=0,w={},k="onreadystatechange",run=function(){var o=+this;if(w.hasOwnProperty(o)){var a=w[o];delete w[o],a()}},listener=function(o){run.call(o.data)};y&&_||(y=function setImmediate(o){for(var a=[],s=1;arguments.length>s;)a.push(arguments[s++]);return w[++S]=function(){f("function"==typeof o?o:Function(o),a)},u(S),S},_=function clearImmediate(o){delete w[o]},"process"==s(27)(v)?u=function(o){v.nextTick(h(run,o,1))}:T&&T.now?u=function(o){T.now(h(run,o,1))}:b?(c=(l=new b).port2,l.port1.onmessage=listener,u=h(c.postMessage,c,1)):g.addEventListener&&"function"==typeof postMessage&&!g.importScripts?(u=function(o){g.postMessage(o+"","*")},g.addEventListener("message",listener,!1)):u=k in m("script")?function(o){p.appendChild(m("script")).onreadystatechange=function(){p.removeChild(this),run.call(o)}}:function(o){setTimeout(h(run,o,1),0)}),o.exports={set:y,clear:_}},function(o,a,s){var u=s(7),l=s(101).set,c=u.MutationObserver||u.WebKitMutationObserver,h=u.process,f=u.Promise,p="process"==s(27)(h);o.exports=function(){var o,a,s,flush=function(){var u,l;for(p&&(u=h.domain)&&u.exit();o;){l=o.fn,o=o.next;try{l()}catch(u){throw o?s():a=void 0,u}}a=void 0,u&&u.enter()};if(p)s=function(){h.nextTick(flush)};else if(!c||u.navigator&&u.navigator.standalone)if(f&&f.resolve){var m=f.resolve(void 0);s=function(){m.then(flush)}}else s=function(){l.call(u,flush)};else{var g=!0,v=document.createTextNode("");new c(flush).observe(v,{characterData:!0}),s=function(){v.data=g=!g}}return function(u){var l={fn:u,next:void 0};a&&(a.next=l),o||(o=l,s()),a=l}}},function(o,a,s){"use strict";var u=s(16);function PromiseCapability(o){var a,s;this.promise=new o((function(o,u){if(void 0!==a||void 0!==s)throw TypeError("Bad Promise constructor");a=o,s=u})),this.resolve=u(a),this.reject=u(s)}o.exports.f=function(o){return new PromiseCapability(o)}},function(o,a,s){"use strict";var u=s(7),l=s(13),c=s(37),h=s(71),f=s(17),p=s(49),m=s(8),g=s(47),v=s(28),y=s(12),_=s(137),b=s(45).f,T=s(14).f,S=s(97),w=s(51),k="ArrayBuffer",x="DataView",P="Wrong index!",I=u.ArrayBuffer,O=u.DataView,L=u.Math,M=u.RangeError,D=u.Infinity,R=I,N=L.abs,j=L.pow,U=L.floor,H=L.log,q=L.LN2,V="buffer",W="byteLength",z="byteOffset",G=l?"_b":V,X=l?"_l":W,Y=l?"_o":z;function packIEEE754(o,a,s){var u,l,c,h=new Array(s),f=8*s-a-1,p=(1<<f)-1,m=p>>1,g=23===a?j(2,-24)-j(2,-77):0,v=0,y=o<0||0===o&&1/o<0?1:0;for((o=N(o))!=o||o===D?(l=o!=o?1:0,u=p):(u=U(H(o)/q),o*(c=j(2,-u))<1&&(u--,c*=2),(o+=u+m>=1?g/c:g*j(2,1-m))*c>=2&&(u++,c/=2),u+m>=p?(l=0,u=p):u+m>=1?(l=(o*c-1)*j(2,a),u+=m):(l=o*j(2,m-1)*j(2,a),u=0));a>=8;h[v++]=255&l,l/=256,a-=8);for(u=u<<a|l,f+=a;f>0;h[v++]=255&u,u/=256,f-=8);return h[--v]|=128*y,h}function unpackIEEE754(o,a,s){var u,l=8*s-a-1,c=(1<<l)-1,h=c>>1,f=l-7,p=s-1,m=o[p--],g=127&m;for(m>>=7;f>0;g=256*g+o[p],p--,f-=8);for(u=g&(1<<-f)-1,g>>=-f,f+=a;f>0;u=256*u+o[p],p--,f-=8);if(0===g)g=1-h;else{if(g===c)return u?NaN:m?-D:D;u+=j(2,a),g-=h}return(m?-1:1)*u*j(2,g-a)}function unpackI32(o){return o[3]<<24|o[2]<<16|o[1]<<8|o[0]}function packI8(o){return[255&o]}function packI16(o){return[255&o,o>>8&255]}function packI32(o){return[255&o,o>>8&255,o>>16&255,o>>24&255]}function packF64(o){return packIEEE754(o,52,8)}function packF32(o){return packIEEE754(o,23,4)}function addGetter(o,a,s){T(o.prototype,a,{get:function(){return this[s]}})}function get(o,a,s,u){var l=_(+s);if(l+a>o[X])throw M(P);var c=o[G]._b,h=l+o[Y],f=c.slice(h,h+a);return u?f:f.reverse()}function set(o,a,s,u,l,c){var h=_(+s);if(h+a>o[X])throw M(P);for(var f=o[G]._b,p=h+o[Y],m=u(+l),g=0;g<a;g++)f[p+g]=m[c?g:a-g-1]}if(h.ABV){if(!m((function(){I(1)}))||!m((function(){new I(-1)}))||m((function(){return new I,new I(1.5),new I(NaN),I.name!=k}))){for(var K,Q=(I=function ArrayBuffer(o){return g(this,I),new R(_(o))}).prototype=R.prototype,J=b(R),Z=0;J.length>Z;)(K=J[Z++])in I||f(I,K,R[K]);c||(Q.constructor=I)}var ee=new O(new I(2)),te=O.prototype.setInt8;ee.setInt8(0,2147483648),ee.setInt8(1,2147483649),!ee.getInt8(0)&&ee.getInt8(1)||p(O.prototype,{setInt8:function setInt8(o,a){te.call(this,o,a<<24>>24)},setUint8:function setUint8(o,a){te.call(this,o,a<<24>>24)}},!0)}else I=function ArrayBuffer(o){g(this,I,k);var a=_(o);this._b=S.call(new Array(a),0),this[X]=a},O=function DataView(o,a,s){g(this,O,x),g(o,I,x);var u=o[X],l=v(a);if(l<0||l>u)throw M("Wrong offset!");if(l+(s=void 0===s?u-l:y(s))>u)throw M("Wrong length!");this[G]=o,this[Y]=l,this[X]=s},l&&(addGetter(I,W,"_l"),addGetter(O,V,"_b"),addGetter(O,W,"_l"),addGetter(O,z,"_o")),p(O.prototype,{getInt8:function getInt8(o){return get(this,1,o)[0]<<24>>24},getUint8:function getUint8(o){return get(this,1,o)[0]},getInt16:function getInt16(o){var a=get(this,2,o,arguments[1]);return(a[1]<<8|a[0])<<16>>16},getUint16:function getUint16(o){var a=get(this,2,o,arguments[1]);return a[1]<<8|a[0]},getInt32:function getInt32(o){return unpackI32(get(this,4,o,arguments[1]))},getUint32:function getUint32(o){return unpackI32(get(this,4,o,arguments[1]))>>>0},getFloat32:function getFloat32(o){return unpackIEEE754(get(this,4,o,arguments[1]),23,4)},getFloat64:function getFloat64(o){return unpackIEEE754(get(this,8,o,arguments[1]),52,8)},setInt8:function setInt8(o,a){set(this,1,o,packI8,a)},setUint8:function setUint8(o,a){set(this,1,o,packI8,a)},setInt16:function setInt16(o,a){set(this,2,o,packI16,a,arguments[2])},setUint16:function setUint16(o,a){set(this,2,o,packI16,a,arguments[2])},setInt32:function setInt32(o,a){set(this,4,o,packI32,a,arguments[2])},setUint32:function setUint32(o,a){set(this,4,o,packI32,a,arguments[2])},setFloat32:function setFloat32(o,a){set(this,4,o,packF32,a,arguments[2])},setFloat64:function setFloat64(o,a){set(this,8,o,packF64,a,arguments[2])}});w(I,k),w(O,x),f(O.prototype,h.VIEW,!0),a.ArrayBuffer=I,a.DataView=O},function(o,a){function _setPrototypeOf(a,s){return o.exports=_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,a){return o.__proto__=a,o},o.exports.default=o.exports,o.exports.__esModule=!0,_setPrototypeOf(a,s)}o.exports=_setPrototypeOf,o.exports.default=o.exports,o.exports.__esModule=!0},function(o,a,s){"use strict";var u=s(0),l=s(24),c=s(361);createXHR.httpHandler=s(362);function initParams(o,a,s){var u=o;return c(a)?(s=a,"string"==typeof o&&(u={uri:o})):u=l({},a,{uri:o}),u.callback=s,u}function createXHR(o,a,s){return _createXHR(a=initParams(o,a,s))}function _createXHR(o){if(void 0===o.callback)throw new Error("callback argument missing");var a=!1,s=function cbOnce(s,u,l){a||(a=!0,o.callback(s,u,l))};function getBody(){var o=void 0;if(o=c.response?c.response:c.responseText||function getXml(o){try{if("document"===o.responseType)return o.responseXML;var a=o.responseXML&&"parsererror"===o.responseXML.documentElement.nodeName;if(""===o.responseType&&!a)return o.responseXML}catch(o){}return null}(c),y)try{o=JSON.parse(o)}catch(o){}return o}function errorFunc(o){return clearTimeout(h),o instanceof Error||(o=new Error(""+(o||"Unknown XMLHttpRequest Error"))),o.statusCode=0,s(o,_)}function loadFunc(){if(!l){var a;clearTimeout(h),a=o.useXDR&&void 0===c.status?200:1223===c.status?204:c.status;var u=_,m=null;return 0!==a?(u={body:getBody(),statusCode:a,method:p,headers:{},url:f,rawRequest:c},c.getAllResponseHeaders&&(u.headers=function parseHeaders(o){var a={};return o?(o.trim().split("\n").forEach((function(o){var s=o.indexOf(":"),u=o.slice(0,s).trim().toLowerCase(),l=o.slice(s+1).trim();void 0===a[u]?a[u]=l:Array.isArray(a[u])?a[u].push(l):a[u]=[a[u],l]})),a):a}(c.getAllResponseHeaders()))):m=new Error("Internal XMLHttpRequest Error"),s(m,u,u.body)}}var u,l,c=o.xhr||null;c||(c=o.cors||o.useXDR?new createXHR.XDomainRequest:new createXHR.XMLHttpRequest);var h,f=c.url=o.uri||o.url,p=c.method=o.method||"GET",m=o.body||o.data,g=c.headers=o.headers||{},v=!!o.sync,y=!1,_={body:void 0,headers:{},statusCode:0,method:p,url:f,rawRequest:c};if("json"in o&&!1!==o.json&&(y=!0,g.accept||g.Accept||(g.Accept="application/json"),"GET"!==p&&"HEAD"!==p&&(g["content-type"]||g["Content-Type"]||(g["Content-Type"]="application/json"),m=JSON.stringify(!0===o.json?m:o.json))),c.onreadystatechange=function readystatechange(){4===c.readyState&&setTimeout(loadFunc,0)},c.onload=loadFunc,c.onerror=errorFunc,c.onprogress=function(){},c.onabort=function(){l=!0},c.ontimeout=errorFunc,c.open(p,f,!v,o.username,o.password),v||(c.withCredentials=!!o.withCredentials),!v&&o.timeout>0&&(h=setTimeout((function(){if(!l){l=!0,c.abort("timeout");var o=new Error("XMLHttpRequest timeout");o.code="ETIMEDOUT",errorFunc(o)}}),o.timeout)),c.setRequestHeader)for(u in g)g.hasOwnProperty(u)&&c.setRequestHeader(u,g[u]);else if(o.headers&&!function isEmpty(o){for(var a in o)if(o.hasOwnProperty(a))return!1;return!0}(o.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in o&&(c.responseType=o.responseType),"beforeSend"in o&&"function"==typeof o.beforeSend&&o.beforeSend(c),c.send(m||null),c}o.exports=createXHR,o.exports.default=createXHR,createXHR.XMLHttpRequest=u.XMLHttpRequest||function noop(){},createXHR.XDomainRequest="withCredentials"in new createXHR.XMLHttpRequest?createXHR.XMLHttpRequest:u.XDomainRequest,function forEachArray(o,a){for(var s=0;s<o.length;s++)a(o[s])}(["get","put","post","patch","head","delete"],(function(o){createXHR["delete"===o?"del":o]=function(a,s,u){return(s=initParams(a,s,u)).method=o.toUpperCase(),_createXHR(s)}}))},function(o,a,s){var u=s(0),l=o.exports={WebVTT:s(363),VTTCue:s(364),VTTRegion:s(365)};u.vttjs=l,u.WebVTT=l.WebVTT;var c=l.VTTCue,h=l.VTTRegion,f=u.VTTCue,p=u.VTTRegion;l.shim=function(){u.VTTCue=c,u.VTTRegion=h},l.restore=function(){u.VTTCue=f,u.VTTRegion=p},u.VTTCue||l.shim()},function(o,a,s){var u,l,c,h,f;u=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,l=/^([^\/?#]*)([^]*)$/,c=/(?:\/|^)\.(?=\/)/g,h=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,f={buildAbsoluteURL:function(o,a,s){if(s=s||{},o=o.trim(),!(a=a.trim())){if(!s.alwaysNormalize)return o;var u=f.parseURL(o);if(!u)throw new Error("Error trying to parse base URL.");return u.path=f.normalizePath(u.path),f.buildURLFromParts(u)}var c=f.parseURL(a);if(!c)throw new Error("Error trying to parse relative URL.");if(c.scheme)return s.alwaysNormalize?(c.path=f.normalizePath(c.path),f.buildURLFromParts(c)):a;var h=f.parseURL(o);if(!h)throw new Error("Error trying to parse base URL.");if(!h.netLoc&&h.path&&"/"!==h.path[0]){var p=l.exec(h.path);h.netLoc=p[1],h.path=p[2]}h.netLoc&&!h.path&&(h.path="/");var m={scheme:h.scheme,netLoc:c.netLoc,path:null,params:c.params,query:c.query,fragment:c.fragment};if(!c.netLoc&&(m.netLoc=h.netLoc,"/"!==c.path[0]))if(c.path){var g=h.path,v=g.substring(0,g.lastIndexOf("/")+1)+c.path;m.path=f.normalizePath(v)}else m.path=h.path,c.params||(m.params=h.params,c.query||(m.query=h.query));return null===m.path&&(m.path=s.alwaysNormalize?f.normalizePath(c.path):c.path),f.buildURLFromParts(m)},parseURL:function(o){var a=u.exec(o);return a?{scheme:a[1]||"",netLoc:a[2]||"",path:a[3]||"",params:a[4]||"",query:a[5]||"",fragment:a[6]||""}:null},normalizePath:function(o){for(o=o.split("").reverse().join("").replace(c,"");o.length!==(o=o.replace(h,"")).length;);return o.split("").reverse().join("")},buildURLFromParts:function(o){return o.scheme+o.netLoc+o.path+o.params+o.query+o.fragment}},o.exports=f},function(o,a,s){o.exports=!s(13)&&!s(8)((function(){return 7!=Object.defineProperty(s(78)("div"),"a",{get:function(){return 7}}).a}))},function(o,a,s){a.f=s(11)},function(o,a,s){var u=s(20),l=s(21),c=s(61)(!1),h=s(80)("IE_PROTO");o.exports=function(o,a){var s,f=l(o),p=0,m=[];for(s in f)s!=h&&u(f,s)&&m.push(s);for(;a.length>p;)u(f,s=a[p++])&&(~c(m,s)||m.push(s));return m}},function(o,a,s){var u=s(14),l=s(6),c=s(42);o.exports=s(13)?Object.defineProperties:function defineProperties(o,a){l(o);for(var s,h=c(a),f=h.length,p=0;f>p;)u.f(o,s=h[p++],a[s]);return o}},function(o,a,s){var u=s(21),l=s(45).f,c={}.toString,h="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];o.exports.f=function getOwnPropertyNames(o){return h&&"[object Window]"==c.call(o)?function(o){try{return l(o)}catch(o){return h.slice()}}(o):l(u(o))}},function(o,a,s){"use strict";var u=s(13),l=s(42),c=s(62),h=s(57),f=s(15),p=s(56),m=Object.assign;o.exports=!m||s(8)((function(){var o={},a={},s=Symbol(),u="abcdefghijklmnopqrst";return o[s]=7,u.split("").forEach((function(o){a[o]=o})),7!=m({},o)[s]||Object.keys(m({},a)).join("")!=u}))?function assign(o,a){for(var s=f(o),m=arguments.length,g=1,v=c.f,y=h.f;m>g;)for(var _,b=p(arguments[g++]),T=v?l(b).concat(v(b)):l(b),S=T.length,w=0;S>w;)_=T[w++],u&&!y.call(b,_)||(s[_]=b[_]);return s}:m},function(o,a){o.exports=Object.is||function is(o,a){return o===a?0!==o||1/o==1/a:o!=o&&a!=a}},function(o,a,s){"use strict";var u=s(16),l=s(9),c=s(117),h=[].slice,f={},construct=function(o,a,s){if(!(a in f)){for(var u=[],l=0;l<a;l++)u[l]="a["+l+"]";f[a]=Function("F,a","return new F("+u.join(",")+")")}return f[a](o,s)};o.exports=Function.bind||function bind(o){var a=u(this),s=h.call(arguments,1),bound=function(){var u=s.concat(h.call(arguments));return this instanceof bound?construct(a,u.length,u):c(a,u,o)};return l(a.prototype)&&(bound.prototype=a.prototype),bound}},function(o,a){o.exports=function(o,a,s){var u=void 0===s;switch(a.length){case 0:return u?o():o.call(s);case 1:return u?o(a[0]):o.call(s,a[0]);case 2:return u?o(a[0],a[1]):o.call(s,a[0],a[1]);case 3:return u?o(a[0],a[1],a[2]):o.call(s,a[0],a[1],a[2]);case 4:return u?o(a[0],a[1],a[2],a[3]):o.call(s,a[0],a[1],a[2],a[3])}return o.apply(s,a)}},function(o,a,s){var u=s(7).parseInt,l=s(53).trim,c=s(84),h=/^[-+]?0[xX]/;o.exports=8!==u(c+"08")||22!==u(c+"0x16")?function parseInt(o,a){var s=l(String(o),3);return u(s,a>>>0||(h.test(s)?16:10))}:u},function(o,a,s){var u=s(7).parseFloat,l=s(53).trim;o.exports=1/u(s(84)+"-0")!=-1/0?function parseFloat(o){var a=l(String(o),3),s=u(a);return 0===s&&"-"==a.charAt(0)?-0:s}:u},function(o,a,s){var u=s(27);o.exports=function(o,a){if("number"!=typeof o&&"Number"!=u(o))throw TypeError(a);return+o}},function(o,a,s){var u=s(9),l=Math.floor;o.exports=function isInteger(o){return!u(o)&&isFinite(o)&&l(o)===o}},function(o,a){o.exports=Math.log1p||function log1p(o){return(o=+o)>-1e-8&&o<1e-8?o-o*o/2:Math.log(1+o)}},function(o,a,s){var u=s(87),l=Math.pow,c=l(2,-52),h=l(2,-23),f=l(2,127)*(2-h),p=l(2,-126);o.exports=Math.fround||function fround(o){var a,s,l=Math.abs(o),m=u(o);return l<p?m*(l/p/h+1/c-1/c)*p*h:(s=(a=(1+h/c)*l)-(a-l))>f||s!=s?m*(1/0):m*s}},function(o,a,s){var u=s(6);o.exports=function(o,a,s,l){try{return l?a(u(s)[0],s[1]):a(s)}catch(a){var c=o.return;throw void 0!==c&&u(c.call(o)),a}}},function(o,a,s){var u=s(16),l=s(15),c=s(56),h=s(12);o.exports=function(o,a,s,f,p){u(a);var m=l(o),g=c(m),v=h(m.length),y=p?v-1:0,_=p?-1:1;if(s<2)for(;;){if(y in g){f=g[y],y+=_;break}if(y+=_,p?y<0:v<=y)throw TypeError("Reduce of empty array with no initial value")}for(;p?y>=0:v>y;y+=_)y in g&&(f=a(f,g[y],y,m));return f}},function(o,a,s){"use strict";var u=s(15),l=s(43),c=s(12);o.exports=[].copyWithin||function copyWithin(o,a){var s=u(this),h=c(s.length),f=l(o,h),p=l(a,h),m=arguments.length>2?arguments[2]:void 0,g=Math.min((void 0===m?h:l(m,h))-p,h-f),v=1;for(p<f&&f<p+g&&(v=-1,p+=g-1,f+=g-1);g-- >0;)p in s?s[f]=s[p]:delete s[f],f+=v,p+=v;return s}},function(o,a){o.exports=function(o,a){return{value:a,done:!!o}}},function(o,a,s){"use strict";var u=s(99);s(1)({target:"RegExp",proto:!0,forced:u!==/./.exec},{exec:u})},function(o,a,s){s(13)&&"g"!=/./g.flags&&s(14).f(RegExp.prototype,"flags",{configurable:!0,get:s(58)})},function(o,a){o.exports=function(o){try{return{e:!1,v:o()}}catch(o){return{e:!0,v:o}}}},function(o,a,s){var u=s(6),l=s(9),c=s(103);o.exports=function(o,a){if(u(o),l(a)&&a.constructor===o)return a;var s=c.f(o);return(0,s.resolve)(a),s.promise}},function(o,a,s){"use strict";var u=s(133),l=s(50),c="Map";o.exports=s(70)(c,(function(o){return function Map(){return o(this,arguments.length>0?arguments[0]:void 0)}}),{get:function get(o){var a=u.getEntry(l(this,c),o);return a&&a.v},set:function set(o,a){return u.def(l(this,c),0===o?0:o,a)}},u,!0)},function(o,a,s){"use strict";var u=s(14).f,l=s(44),c=s(49),h=s(26),f=s(47),p=s(48),m=s(89),g=s(127),v=s(46),y=s(13),_=s(38).fastKey,b=s(50),T=y?"_s":"size",getEntry=function(o,a){var s,u=_(a);if("F"!==u)return o._i[u];for(s=o._f;s;s=s.n)if(s.k==a)return s};o.exports={getConstructor:function(o,a,s,m){var g=o((function(o,u){f(o,g,a,"_i"),o._t=a,o._i=l(null),o._f=void 0,o._l=void 0,o[T]=0,null!=u&&p(u,s,o[m],o)}));return c(g.prototype,{clear:function clear(){for(var o=b(this,a),s=o._i,u=o._f;u;u=u.n)u.r=!0,u.p&&(u.p=u.p.n=void 0),delete s[u.i];o._f=o._l=void 0,o[T]=0},delete:function(o){var s=b(this,a),u=getEntry(s,o);if(u){var l=u.n,c=u.p;delete s._i[u.i],u.r=!0,c&&(c.n=l),l&&(l.p=c),s._f==u&&(s._f=l),s._l==u&&(s._l=c),s[T]--}return!!u},forEach:function forEach(o){b(this,a);for(var s,u=h(o,arguments.length>1?arguments[1]:void 0,3);s=s?s.n:this._f;)for(u(s.v,s.k,this);s&&s.r;)s=s.p},has:function has(o){return!!getEntry(b(this,a),o)}}),y&&u(g.prototype,"size",{get:function(){return b(this,a)[T]}}),g},def:function(o,a,s){var u,l,c=getEntry(o,a);return c?c.v=s:(o._l=c={i:l=_(a,!0),k:a,v:s,p:u=o._l,n:void 0,r:!1},o._f||(o._f=c),u&&(u.n=c),o[T]++,"F"!==l&&(o._i[l]=c)),o},getEntry:getEntry,setStrong:function(o,a,s){m(o,a,(function(o,s){this._t=b(o,a),this._k=s,this._l=void 0}),(function(){for(var o=this,a=o._k,s=o._l;s&&s.r;)s=s.p;return o._t&&(o._l=s=s?s.n:o._t._f)?g(0,"keys"==a?s.k:"values"==a?s.v:[s.k,s.v]):(o._t=void 0,g(1))}),s?"entries":"values",!s,!0),v(a)}}},function(o,a,s){"use strict";var u=s(133),l=s(50);o.exports=s(70)("Set",(function(o){return function Set(){return o(this,arguments.length>0?arguments[0]:void 0)}}),{add:function add(o){return u.def(l(this,"Set"),o=0===o?0:o,o)}},u)},function(o,a,s){"use strict";var u,l=s(7),c=s(33)(0),h=s(18),f=s(38),p=s(114),m=s(136),g=s(9),v=s(50),y=s(50),_=!l.ActiveXObject&&"ActiveXObject"in l,b="WeakMap",T=f.getWeak,S=Object.isExtensible,w=m.ufstore,wrapper=function(o){return function WeakMap(){return o(this,arguments.length>0?arguments[0]:void 0)}},k={get:function get(o){if(g(o)){var a=T(o);return!0===a?w(v(this,b)).get(o):a?a[this._i]:void 0}},set:function set(o,a){return m.def(v(this,b),o,a)}},x=o.exports=s(70)(b,wrapper,k,m,!0,!0);y&&_&&(p((u=m.getConstructor(wrapper,b)).prototype,k),f.NEED=!0,c(["delete","has","get","set"],(function(o){var a=x.prototype,s=a[o];h(a,o,(function(a,l){if(g(a)&&!S(a)){this._f||(this._f=new u);var c=this._f[o](a,l);return"set"==o?this:c}return s.call(this,a,l)}))})))},function(o,a,s){"use strict";var u=s(49),l=s(38).getWeak,c=s(6),h=s(9),f=s(47),p=s(48),m=s(33),g=s(20),v=s(50),y=m(5),_=m(6),b=0,uncaughtFrozenStore=function(o){return o._l||(o._l=new UncaughtFrozenStore)},UncaughtFrozenStore=function(){this.a=[]},findUncaughtFrozen=function(o,a){return y(o.a,(function(o){return o[0]===a}))};UncaughtFrozenStore.prototype={get:function(o){var a=findUncaughtFrozen(this,o);if(a)return a[1]},has:function(o){return!!findUncaughtFrozen(this,o)},set:function(o,a){var s=findUncaughtFrozen(this,o);s?s[1]=a:this.a.push([o,a])},delete:function(o){var a=_(this.a,(function(a){return a[0]===o}));return~a&&this.a.splice(a,1),!!~a}},o.exports={getConstructor:function(o,a,s,c){var m=o((function(o,u){f(o,m,a,"_i"),o._t=a,o._i=b++,o._l=void 0,null!=u&&p(u,s,o[c],o)}));return u(m.prototype,{delete:function(o){if(!h(o))return!1;var s=l(o);return!0===s?uncaughtFrozenStore(v(this,a)).delete(o):s&&g(s,this._i)&&delete s[this._i]},has:function has(o){if(!h(o))return!1;var s=l(o);return!0===s?uncaughtFrozenStore(v(this,a)).has(o):s&&g(s,this._i)}}),m},def:function(o,a,s){var u=l(c(a),!0);return!0===u?uncaughtFrozenStore(o).set(a,s):u[o._i]=s,o},ufstore:uncaughtFrozenStore}},function(o,a,s){var u=s(28),l=s(12);o.exports=function(o){if(void 0===o)return 0;var a=u(o),s=l(a);if(a!==s)throw RangeError("Wrong length!");return s}},function(o,a,s){var u=s(45),l=s(62),c=s(6),h=s(7).Reflect;o.exports=h&&h.ownKeys||function ownKeys(o){var a=u.f(c(o)),s=l.f;return s?a.concat(s(o)):a}},function(o,a,s){"use strict";var u=s(63),l=s(9),c=s(12),h=s(26),f=s(11)("isConcatSpreadable");o.exports=function flattenIntoArray(o,a,s,p,m,g,v,y){for(var _,b,T=m,S=0,w=!!v&&h(v,y,3);S<p;){if(S in s){if(_=w?w(s[S],S,a):s[S],b=!1,l(_)&&(b=void 0!==(b=_[f])?!!b:u(_)),b&&g>0)T=flattenIntoArray(o,a,_,c(_.length),T,g-1)-1;else{if(T>=9007199254740991)throw TypeError();o[T]=_}T++}S++}return T}},function(o,a,s){var u=s(12),l=s(86),c=s(31);o.exports=function(o,a,s,h){var f=String(c(o)),p=f.length,m=void 0===s?" ":String(s),g=u(a);if(g<=p||""==m)return f;var v=g-p,y=l.call(m,Math.ceil(v/m.length));return y.length>v&&(y=y.slice(0,v)),h?y+f:f+y}},function(o,a,s){var u=s(13),l=s(42),c=s(21),h=s(57).f;o.exports=function(o){return function(a){for(var s,f=c(a),p=l(f),m=p.length,g=0,v=[];m>g;)s=p[g++],u&&!h.call(f,s)||v.push(o?[s,f[s]]:f[s]);return v}}},function(o,a,s){var u=s(52),l=s(143);o.exports=function(o){return function toJSON(){if(u(this)!=o)throw TypeError(o+"#toJSON isn't generic");return l(this)}}},function(o,a,s){var u=s(48);o.exports=function(o,a){var s=[];return u(o,!1,s.push,s,a),s}},function(o,a){o.exports=Math.scale||function scale(o,a,s,u,l){return 0===arguments.length||o!=o||a!=a||s!=s||u!=u||l!=l?NaN:o===1/0||o===-1/0?o:(o-a)*(l-u)/(s-a)+u}},function(o,a,s){var u=s(75).NAMESPACE;function notEmptyString(o){return""!==o}function orderedSetReducer(o,a){return o.hasOwnProperty(a)||(o[a]=!0),o}function toOrderedSet(o){if(!o)return[];var a=function splitOnASCIIWhitespace(o){return o?o.split(/[\t\n\f\r ]+/).filter(notEmptyString):[]}(o);return Object.keys(a.reduce(orderedSetReducer,{}))}function copy(o,a){for(var s in o)a[s]=o[s]}function _extends(o,a){var s=o.prototype;if(!(s instanceof a)){function t(){}t.prototype=a.prototype,copy(s,t=new t),o.prototype=s=t}s.constructor!=o&&("function"!=typeof o&&console.error("unknown Class:"+o),s.constructor=o)}var l={},c=l.ELEMENT_NODE=1,h=l.ATTRIBUTE_NODE=2,f=l.TEXT_NODE=3,p=l.CDATA_SECTION_NODE=4,m=l.ENTITY_REFERENCE_NODE=5,g=l.ENTITY_NODE=6,v=l.PROCESSING_INSTRUCTION_NODE=7,y=l.COMMENT_NODE=8,_=l.DOCUMENT_NODE=9,b=l.DOCUMENT_TYPE_NODE=10,T=l.DOCUMENT_FRAGMENT_NODE=11,S=l.NOTATION_NODE=12,w={},k={},x=(w.INDEX_SIZE_ERR=(k[1]="Index size error",1),w.DOMSTRING_SIZE_ERR=(k[2]="DOMString size error",2),w.HIERARCHY_REQUEST_ERR=(k[3]="Hierarchy request error",3)),P=(w.WRONG_DOCUMENT_ERR=(k[4]="Wrong document",4),w.INVALID_CHARACTER_ERR=(k[5]="Invalid character",5),w.NO_DATA_ALLOWED_ERR=(k[6]="No data allowed",6),w.NO_MODIFICATION_ALLOWED_ERR=(k[7]="No modification allowed",7),w.NOT_FOUND_ERR=(k[8]="Not found",8)),I=(w.NOT_SUPPORTED_ERR=(k[9]="Not supported",9),w.INUSE_ATTRIBUTE_ERR=(k[10]="Attribute in use",10));w.INVALID_STATE_ERR=(k[11]="Invalid state",11),w.SYNTAX_ERR=(k[12]="Syntax error",12),w.INVALID_MODIFICATION_ERR=(k[13]="Invalid modification",13),w.NAMESPACE_ERR=(k[14]="Invalid namespace",14),w.INVALID_ACCESS_ERR=(k[15]="Invalid access",15);function DOMException(o,a){if(a instanceof Error)var s=a;else s=this,Error.call(this,k[o]),this.message=k[o],Error.captureStackTrace&&Error.captureStackTrace(this,DOMException);return s.code=o,a&&(this.message=this.message+": "+a),s}function NodeList(){}function LiveNodeList(o,a){this._node=o,this._refresh=a,_updateLiveList(this)}function _updateLiveList(o){var a=o._node._inc||o._node.ownerDocument._inc;if(o._inc!=a){var s=o._refresh(o._node);__set__(o,"length",s.length),copy(s,o),o._inc=a}}function NamedNodeMap(){}function _findNodeIndex(o,a){for(var s=o.length;s--;)if(o[s]===a)return s}function _addNamedNode(o,a,s,l){if(l?a[_findNodeIndex(a,l)]=s:a[a.length++]=s,o){s.ownerElement=o;var c=o.ownerDocument;c&&(l&&_onRemoveAttribute(c,o,l),function _onAddAttribute(o,a,s){o&&o._inc++,s.namespaceURI===u.XMLNS&&(a._nsMap[s.prefix?s.localName:""]=s.value)}(c,o,s))}}function _removeNamedNode(o,a,s){var u=_findNodeIndex(a,s);if(!(u>=0))throw DOMException(P,new Error(o.tagName+"@"+s));for(var l=a.length-1;u<l;)a[u]=a[++u];if(a.length=l,o){var c=o.ownerDocument;c&&(_onRemoveAttribute(c,o,s),s.ownerElement=null)}}function DOMImplementation(){}function Node(){}function _xmlEncoder(o){return("<"==o?"&lt;":">"==o&&"&gt;")||"&"==o&&"&amp;"||'"'==o&&"&quot;"||"&#"+o.charCodeAt()+";"}function _visitNode(o,a){if(a(o))return!0;if(o=o.firstChild)do{if(_visitNode(o,a))return!0}while(o=o.nextSibling)}function Document(){}function _onRemoveAttribute(o,a,s,l){o&&o._inc++,s.namespaceURI===u.XMLNS&&delete a._nsMap[s.prefix?s.localName:""]}function _onUpdateChild(o,a,s){if(o&&o._inc){o._inc++;var u=a.childNodes;if(s)u[u.length++]=s;else{for(var l=a.firstChild,c=0;l;)u[c++]=l,l=l.nextSibling;u.length=c}}}function _removeChild(o,a){var s=a.previousSibling,u=a.nextSibling;return s?s.nextSibling=u:o.firstChild=u,u?u.previousSibling=s:o.lastChild=s,_onUpdateChild(o.ownerDocument,o),a}function _insertBefore(o,a,s){var u=a.parentNode;if(u&&u.removeChild(a),a.nodeType===T){var l=a.firstChild;if(null==l)return a;var c=a.lastChild}else l=c=a;var h=s?s.previousSibling:o.lastChild;l.previousSibling=h,c.nextSibling=s,h?h.nextSibling=l:o.firstChild=l,null==s?o.lastChild=c:s.previousSibling=c;do{l.parentNode=o}while(l!==c&&(l=l.nextSibling));return _onUpdateChild(o.ownerDocument||o,o),a.nodeType==T&&(a.firstChild=a.lastChild=null),a}function Element(){this._nsMap={}}function Attr(){}function CharacterData(){}function Text(){}function Comment(){}function CDATASection(){}function DocumentType(){}function Notation(){}function Entity(){}function EntityReference(){}function DocumentFragment(){}function ProcessingInstruction(){}function XMLSerializer(){}function nodeSerializeToString(o,a){var s=[],u=9==this.nodeType&&this.documentElement||this,l=u.prefix,c=u.namespaceURI;if(c&&null==l&&null==(l=u.lookupPrefix(c)))var h=[{namespace:c,prefix:null}];return serializeToString(this,s,o,a,h),s.join("")}function needNamespaceDefine(o,a,s){var l=o.prefix||"",c=o.namespaceURI;if(!c)return!1;if("xml"===l&&c===u.XML||c===u.XMLNS)return!1;for(var h=s.length;h--;){var f=s[h];if(f.prefix===l)return f.namespace!==c}return!0}function addSerializedAttribute(o,a,s){o.push(" ",a,'="',s.replace(/[<&"]/g,_xmlEncoder),'"')}function serializeToString(o,a,s,l,g){if(g||(g=[]),l){if(!(o=l(o)))return;if("string"==typeof o)return void a.push(o)}switch(o.nodeType){case c:var S=o.attributes,w=S.length,k=o.firstChild,x=o.tagName,P=x;if(!(s=u.isHTML(o.namespaceURI)||s)&&!o.prefix&&o.namespaceURI){for(var I,O=0;O<S.length;O++)if("xmlns"===S.item(O).name){I=S.item(O).value;break}if(!I)for(var L=g.length-1;L>=0;L--){if(""===(M=g[L]).prefix&&M.namespace===o.namespaceURI){I=M.namespace;break}}if(I!==o.namespaceURI)for(L=g.length-1;L>=0;L--){var M;if((M=g[L]).namespace===o.namespaceURI){M.prefix&&(P=M.prefix+":"+x);break}}}a.push("<",P);for(var D=0;D<w;D++){"xmlns"==(R=S.item(D)).prefix?g.push({prefix:R.localName,namespace:R.value}):"xmlns"==R.nodeName&&g.push({prefix:"",namespace:R.value})}for(D=0;D<w;D++){var R,N,j;if(needNamespaceDefine(R=S.item(D),0,g))addSerializedAttribute(a,(N=R.prefix||"")?"xmlns:"+N:"xmlns",j=R.namespaceURI),g.push({prefix:N,namespace:j});serializeToString(R,a,s,l,g)}if(x===P&&needNamespaceDefine(o,0,g))addSerializedAttribute(a,(N=o.prefix||"")?"xmlns:"+N:"xmlns",j=o.namespaceURI),g.push({prefix:N,namespace:j});if(k||s&&!/^(?:meta|link|img|br|hr|input)$/i.test(x)){if(a.push(">"),s&&/^script$/i.test(x))for(;k;)k.data?a.push(k.data):serializeToString(k,a,s,l,g.slice()),k=k.nextSibling;else for(;k;)serializeToString(k,a,s,l,g.slice()),k=k.nextSibling;a.push("</",P,">")}else a.push("/>");return;case _:case T:for(k=o.firstChild;k;)serializeToString(k,a,s,l,g.slice()),k=k.nextSibling;return;case h:return addSerializedAttribute(a,o.name,o.value);case f:return a.push(o.data.replace(/[<&]/g,_xmlEncoder).replace(/]]>/g,"]]&gt;"));case p:return a.push("<![CDATA[",o.data,"]]>");case y:return a.push("\x3c!--",o.data,"--\x3e");case b:var U=o.publicId,H=o.systemId;if(a.push("<!DOCTYPE ",o.name),U)a.push(" PUBLIC ",U),H&&"."!=H&&a.push(" ",H),a.push(">");else if(H&&"."!=H)a.push(" SYSTEM ",H,">");else{var q=o.internalSubset;q&&a.push(" [",q,"]"),a.push(">")}return;case v:return a.push("<?",o.target," ",o.data,"?>");case m:return a.push("&",o.nodeName,";");default:a.push("??",o.nodeName)}}function importNode(o,a,s){var u;switch(a.nodeType){case c:(u=a.cloneNode(!1)).ownerDocument=o;case T:break;case h:s=!0}if(u||(u=a.cloneNode(!1)),u.ownerDocument=o,u.parentNode=null,s)for(var l=a.firstChild;l;)u.appendChild(importNode(o,l,s)),l=l.nextSibling;return u}function cloneNode(o,a,s){var u=new a.constructor;for(var l in a){var f=a[l];"object"!=typeof f&&f!=u[l]&&(u[l]=f)}switch(a.childNodes&&(u.childNodes=new NodeList),u.ownerDocument=o,u.nodeType){case c:var p=a.attributes,m=u.attributes=new NamedNodeMap,g=p.length;m._ownerElement=u;for(var v=0;v<g;v++)u.setAttributeNode(cloneNode(o,p.item(v),!0));break;case h:s=!0}if(s)for(var y=a.firstChild;y;)u.appendChild(cloneNode(o,y,s)),y=y.nextSibling;return u}function __set__(o,a,s){o[a]=s}DOMException.prototype=Error.prototype,copy(w,DOMException),NodeList.prototype={length:0,item:function(o){return this[o]||null},toString:function(o,a){for(var s=[],u=0;u<this.length;u++)serializeToString(this[u],s,o,a);return s.join("")}},LiveNodeList.prototype.item=function(o){return _updateLiveList(this),this[o]},_extends(LiveNodeList,NodeList),NamedNodeMap.prototype={length:0,item:NodeList.prototype.item,getNamedItem:function(o){for(var a=this.length;a--;){var s=this[a];if(s.nodeName==o)return s}},setNamedItem:function(o){var a=o.ownerElement;if(a&&a!=this._ownerElement)throw new DOMException(I);var s=this.getNamedItem(o.nodeName);return _addNamedNode(this._ownerElement,this,o,s),s},setNamedItemNS:function(o){var a,s=o.ownerElement;if(s&&s!=this._ownerElement)throw new DOMException(I);return a=this.getNamedItemNS(o.namespaceURI,o.localName),_addNamedNode(this._ownerElement,this,o,a),a},removeNamedItem:function(o){var a=this.getNamedItem(o);return _removeNamedNode(this._ownerElement,this,a),a},removeNamedItemNS:function(o,a){var s=this.getNamedItemNS(o,a);return _removeNamedNode(this._ownerElement,this,s),s},getNamedItemNS:function(o,a){for(var s=this.length;s--;){var u=this[s];if(u.localName==a&&u.namespaceURI==o)return u}return null}},DOMImplementation.prototype={hasFeature:function(o,a){return!0},createDocument:function(o,a,s){var u=new Document;if(u.implementation=this,u.childNodes=new NodeList,u.doctype=s||null,s&&u.appendChild(s),a){var l=u.createElementNS(o,a);u.appendChild(l)}return u},createDocumentType:function(o,a,s){var u=new DocumentType;return u.name=o,u.nodeName=o,u.publicId=a||"",u.systemId=s||"",u}},Node.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(o,a){return _insertBefore(this,o,a)},replaceChild:function(o,a){this.insertBefore(o,a),a&&this.removeChild(a)},removeChild:function(o){return _removeChild(this,o)},appendChild:function(o){return this.insertBefore(o,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(o){return cloneNode(this.ownerDocument||this,this,o)},normalize:function(){for(var o=this.firstChild;o;){var a=o.nextSibling;a&&a.nodeType==f&&o.nodeType==f?(this.removeChild(a),o.appendData(a.data)):(o.normalize(),o=a)}},isSupported:function(o,a){return this.ownerDocument.implementation.hasFeature(o,a)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(o){for(var a=this;a;){var s=a._nsMap;if(s)for(var u in s)if(s[u]==o)return u;a=a.nodeType==h?a.ownerDocument:a.parentNode}return null},lookupNamespaceURI:function(o){for(var a=this;a;){var s=a._nsMap;if(s&&o in s)return s[o];a=a.nodeType==h?a.ownerDocument:a.parentNode}return null},isDefaultNamespace:function(o){return null==this.lookupPrefix(o)}},copy(l,Node),copy(l,Node.prototype),Document.prototype={nodeName:"#document",nodeType:_,doctype:null,documentElement:null,_inc:1,insertBefore:function(o,a){if(o.nodeType==T){for(var s=o.firstChild;s;){var u=s.nextSibling;this.insertBefore(s,a),s=u}return o}return null==this.documentElement&&o.nodeType==c&&(this.documentElement=o),_insertBefore(this,o,a),o.ownerDocument=this,o},removeChild:function(o){return this.documentElement==o&&(this.documentElement=null),_removeChild(this,o)},importNode:function(o,a){return importNode(this,o,a)},getElementById:function(o){var a=null;return _visitNode(this.documentElement,(function(s){if(s.nodeType==c&&s.getAttribute("id")==o)return a=s,!0})),a},getElementsByClassName:function(o){var a=toOrderedSet(o);return new LiveNodeList(this,(function(s){var u=[];return a.length>0&&_visitNode(s.documentElement,(function(l){if(l!==s&&l.nodeType===c){var h=l.getAttribute("class");if(h){var f=o===h;if(!f){var p=toOrderedSet(h);f=a.every(function arrayIncludes(o){return function(a){return o&&-1!==o.indexOf(a)}}(p))}f&&u.push(l)}}})),u}))},createElement:function(o){var a=new Element;return a.ownerDocument=this,a.nodeName=o,a.tagName=o,a.localName=o,a.childNodes=new NodeList,(a.attributes=new NamedNodeMap)._ownerElement=a,a},createDocumentFragment:function(){var o=new DocumentFragment;return o.ownerDocument=this,o.childNodes=new NodeList,o},createTextNode:function(o){var a=new Text;return a.ownerDocument=this,a.appendData(o),a},createComment:function(o){var a=new Comment;return a.ownerDocument=this,a.appendData(o),a},createCDATASection:function(o){var a=new CDATASection;return a.ownerDocument=this,a.appendData(o),a},createProcessingInstruction:function(o,a){var s=new ProcessingInstruction;return s.ownerDocument=this,s.tagName=s.target=o,s.nodeValue=s.data=a,s},createAttribute:function(o){var a=new Attr;return a.ownerDocument=this,a.name=o,a.nodeName=o,a.localName=o,a.specified=!0,a},createEntityReference:function(o){var a=new EntityReference;return a.ownerDocument=this,a.nodeName=o,a},createElementNS:function(o,a){var s=new Element,u=a.split(":"),l=s.attributes=new NamedNodeMap;return s.childNodes=new NodeList,s.ownerDocument=this,s.nodeName=a,s.tagName=a,s.namespaceURI=o,2==u.length?(s.prefix=u[0],s.localName=u[1]):s.localName=a,l._ownerElement=s,s},createAttributeNS:function(o,a){var s=new Attr,u=a.split(":");return s.ownerDocument=this,s.nodeName=a,s.name=a,s.namespaceURI=o,s.specified=!0,2==u.length?(s.prefix=u[0],s.localName=u[1]):s.localName=a,s}},_extends(Document,Node),Element.prototype={nodeType:c,hasAttribute:function(o){return null!=this.getAttributeNode(o)},getAttribute:function(o){var a=this.getAttributeNode(o);return a&&a.value||""},getAttributeNode:function(o){return this.attributes.getNamedItem(o)},setAttribute:function(o,a){var s=this.ownerDocument.createAttribute(o);s.value=s.nodeValue=""+a,this.setAttributeNode(s)},removeAttribute:function(o){var a=this.getAttributeNode(o);a&&this.removeAttributeNode(a)},appendChild:function(o){return o.nodeType===T?this.insertBefore(o,null):function _appendSingleChild(o,a){var s=a.parentNode;if(s){var u=o.lastChild;s.removeChild(a),u=o.lastChild}return u=o.lastChild,a.parentNode=o,a.previousSibling=u,a.nextSibling=null,u?u.nextSibling=a:o.firstChild=a,o.lastChild=a,_onUpdateChild(o.ownerDocument,o,a),a}(this,o)},setAttributeNode:function(o){return this.attributes.setNamedItem(o)},setAttributeNodeNS:function(o){return this.attributes.setNamedItemNS(o)},removeAttributeNode:function(o){return this.attributes.removeNamedItem(o.nodeName)},removeAttributeNS:function(o,a){var s=this.getAttributeNodeNS(o,a);s&&this.removeAttributeNode(s)},hasAttributeNS:function(o,a){return null!=this.getAttributeNodeNS(o,a)},getAttributeNS:function(o,a){var s=this.getAttributeNodeNS(o,a);return s&&s.value||""},setAttributeNS:function(o,a,s){var u=this.ownerDocument.createAttributeNS(o,a);u.value=u.nodeValue=""+s,this.setAttributeNode(u)},getAttributeNodeNS:function(o,a){return this.attributes.getNamedItemNS(o,a)},getElementsByTagName:function(o){return new LiveNodeList(this,(function(a){var s=[];return _visitNode(a,(function(u){u===a||u.nodeType!=c||"*"!==o&&u.tagName!=o||s.push(u)})),s}))},getElementsByTagNameNS:function(o,a){return new LiveNodeList(this,(function(s){var u=[];return _visitNode(s,(function(l){l===s||l.nodeType!==c||"*"!==o&&l.namespaceURI!==o||"*"!==a&&l.localName!=a||u.push(l)})),u}))}},Document.prototype.getElementsByTagName=Element.prototype.getElementsByTagName,Document.prototype.getElementsByTagNameNS=Element.prototype.getElementsByTagNameNS,_extends(Element,Node),Attr.prototype.nodeType=h,_extends(Attr,Node),CharacterData.prototype={data:"",substringData:function(o,a){return this.data.substring(o,o+a)},appendData:function(o){o=this.data+o,this.nodeValue=this.data=o,this.length=o.length},insertData:function(o,a){this.replaceData(o,0,a)},appendChild:function(o){throw new Error(k[x])},deleteData:function(o,a){this.replaceData(o,a,"")},replaceData:function(o,a,s){s=this.data.substring(0,o)+s+this.data.substring(o+a),this.nodeValue=this.data=s,this.length=s.length}},_extends(CharacterData,Node),Text.prototype={nodeName:"#text",nodeType:f,splitText:function(o){var a=this.data,s=a.substring(o);a=a.substring(0,o),this.data=this.nodeValue=a,this.length=a.length;var u=this.ownerDocument.createTextNode(s);return this.parentNode&&this.parentNode.insertBefore(u,this.nextSibling),u}},_extends(Text,CharacterData),Comment.prototype={nodeName:"#comment",nodeType:y},_extends(Comment,CharacterData),CDATASection.prototype={nodeName:"#cdata-section",nodeType:p},_extends(CDATASection,CharacterData),DocumentType.prototype.nodeType=b,_extends(DocumentType,Node),Notation.prototype.nodeType=S,_extends(Notation,Node),Entity.prototype.nodeType=g,_extends(Entity,Node),EntityReference.prototype.nodeType=m,_extends(EntityReference,Node),DocumentFragment.prototype.nodeName="#document-fragment",DocumentFragment.prototype.nodeType=T,_extends(DocumentFragment,Node),ProcessingInstruction.prototype.nodeType=v,_extends(ProcessingInstruction,Node),XMLSerializer.prototype.serializeToString=function(o,a,s){return nodeSerializeToString.call(o,a,s)},Node.prototype.toString=nodeSerializeToString;try{if(Object.defineProperty){function getTextContent(o){switch(o.nodeType){case c:case T:var a=[];for(o=o.firstChild;o;)7!==o.nodeType&&8!==o.nodeType&&a.push(getTextContent(o)),o=o.nextSibling;return a.join("");default:return o.nodeValue}}Object.defineProperty(LiveNodeList.prototype,"length",{get:function(){return _updateLiveList(this),this.$$length}}),Object.defineProperty(Node.prototype,"textContent",{get:function(){return getTextContent(this)},set:function(o){switch(this.nodeType){case c:case T:for(;this.firstChild;)this.removeChild(this.firstChild);(o||String(o))&&this.appendChild(this.ownerDocument.createTextNode(o));break;default:this.data=o,this.value=o,this.nodeValue=o}}}),__set__=function(o,a,s){o["$$"+a]=s}}}catch(o){}a.DocumentType=DocumentType,a.DOMException=DOMException,a.DOMImplementation=DOMImplementation,a.Element=Element,a.Node=Node,a.NodeList=NodeList,a.XMLSerializer=XMLSerializer},function(o,a,s){"use strict";(function(o){function _classCallCheck(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties(o,a){for(var s=0;s<a.length;s++){var u=a[s];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(o,u.key,u)}}function _createClass(o,a,s){return a&&_defineProperties(o.prototype,a),s&&_defineProperties(o,s),o}function _defineProperty(o,a,s){return a in o?Object.defineProperty(o,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[a]=s,o}function ownKeys(o,a){var s=Object.keys(o);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(o);a&&(u=u.filter((function(a){return Object.getOwnPropertyDescriptor(o,a).enumerable}))),s.push.apply(s,u)}return s}function _objectSpread2(o){for(var a=1;a<arguments.length;a++){var s=null!=arguments[a]?arguments[a]:{};a%2?ownKeys(Object(s),!0).forEach((function(a){_defineProperty(o,a,s[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(s)):ownKeys(Object(s)).forEach((function(a){Object.defineProperty(o,a,Object.getOwnPropertyDescriptor(s,a))}))}return o}function _inherits(o,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&_setPrototypeOf(o,a)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,a){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,a){return o.__proto__=a,o})(o,a)}function _assertThisInitialized(o){if(void 0===o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _possibleConstructorReturn(o,a){return!a||"object"!=typeof a&&"function"!=typeof a?_assertThisInitialized(o):a}function _createSuper(o){var a=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(o){return!1}}();return function _createSuperInternal(){var s,u=_getPrototypeOf(o);if(a){var l=_getPrototypeOf(this).constructor;s=Reflect.construct(u,arguments,l)}else s=u.apply(this,arguments);return _possibleConstructorReturn(this,s)}}function _get(o,a,s){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(o,a,s){var u=function _superPropBase(o,a){for(;!Object.prototype.hasOwnProperty.call(o,a)&&null!==(o=_getPrototypeOf(o)););return o}(o,a);if(u){var l=Object.getOwnPropertyDescriptor(u,a);return l.get?l.get.call(s):l.value}})(o,a,s||o)}function _slicedToArray(o,a){return function _arrayWithHoles(o){if(Array.isArray(o))return o}(o)||function _iterableToArrayLimit(o,a){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(o)))return;var s=[],u=!0,l=!1,c=void 0;try{for(var h,f=o[Symbol.iterator]();!(u=(h=f.next()).done)&&(s.push(h.value),!a||s.length!==a);u=!0);}catch(o){l=!0,c=o}finally{try{u||null==f.return||f.return()}finally{if(l)throw c}}return s}(o,a)||_unsupportedIterableToArray(o,a)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toConsumableArray(o){return function _arrayWithoutHoles(o){if(Array.isArray(o))return _arrayLikeToArray(o)}(o)||function _iterableToArray(o){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(o))return Array.from(o)}(o)||_unsupportedIterableToArray(o)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,a){if(o){if("string"==typeof o)return _arrayLikeToArray(o,a);var s=Object.prototype.toString.call(o).slice(8,-1);return"Object"===s&&o.constructor&&(s=o.constructor.name),"Map"===s||"Set"===s?Array.from(o):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?_arrayLikeToArray(o,a):void 0}}function _arrayLikeToArray(o,a){(null==a||a>o.length)&&(a=o.length);for(var s=0,u=new Array(a);s<a;s++)u[s]=o[s];return u}var s={el:document,name:"scroll",offset:[0,0],repeat:!1,smooth:!1,initPosition:{x:0,y:0},direction:"vertical",gestureDirection:"vertical",reloadOnContextChange:!1,lerp:.1,class:"is-inview",scrollbarContainer:!1,scrollbarClass:"c-scrollbar",scrollingClass:"has-scroll-scrolling",draggingClass:"has-scroll-dragging",smoothClass:"has-scroll-smooth",initClass:"has-scroll-init",getSpeed:!1,getDirection:!1,scrollFromAnywhere:!1,multiplier:1,firefoxMultiplier:50,touchMultiplier:2,resetNativeScroll:!0,tablet:{smooth:!1,direction:"vertical",gestureDirection:"vertical",breakpoint:1024},smartphone:{smooth:!1,direction:"vertical",gestureDirection:"vertical"}},u=function(){function _default(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,_default),Object.assign(this,s,o),this.smartphone=s.smartphone,o.smartphone&&Object.assign(this.smartphone,o.smartphone),this.tablet=s.tablet,o.tablet&&Object.assign(this.tablet,o.tablet),this.namespace="locomotive",this.html=document.documentElement,this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,this.windowMiddle={x:this.windowWidth/2,y:this.windowHeight/2},this.els={},this.currentElements={},this.listeners={},this.hasScrollTicking=!1,this.hasCallEventSet=!1,this.checkScroll=this.checkScroll.bind(this),this.checkResize=this.checkResize.bind(this),this.checkEvent=this.checkEvent.bind(this),this.instance={scroll:{x:0,y:0},limit:{x:this.html.offsetWidth,y:this.html.offsetHeight},currentElements:this.currentElements},this.isMobile?this.isTablet?this.context="tablet":this.context="smartphone":this.context="desktop",this.isMobile&&(this.direction=this[this.context].direction),"horizontal"===this.direction?this.directionAxis="x":this.directionAxis="y",this.getDirection&&(this.instance.direction=null),this.getDirection&&(this.instance.speed=0),this.html.classList.add(this.initClass),window.addEventListener("resize",this.checkResize,!1)}return _createClass(_default,[{key:"init",value:function init(){this.initEvents()}},{key:"checkScroll",value:function checkScroll(){this.dispatchScroll()}},{key:"checkResize",value:function checkResize(){var o=this;this.resizeTick||(this.resizeTick=!0,requestAnimationFrame((function(){o.resize(),o.resizeTick=!1})))}},{key:"resize",value:function resize(){}},{key:"checkContext",value:function checkContext(){if(this.reloadOnContextChange){this.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||this.windowWidth<this.tablet.breakpoint,this.isTablet=this.isMobile&&this.windowWidth>=this.tablet.breakpoint;var o=this.context;if(this.isMobile?this.isTablet?this.context="tablet":this.context="smartphone":this.context="desktop",o!=this.context)("desktop"==o?this.smooth:this[o].smooth)!=("desktop"==this.context?this.smooth:this[this.context].smooth)&&window.location.reload()}}},{key:"initEvents",value:function initEvents(){var o=this;this.scrollToEls=this.el.querySelectorAll("[data-".concat(this.name,"-to]")),this.setScrollTo=this.setScrollTo.bind(this),this.scrollToEls.forEach((function(a){a.addEventListener("click",o.setScrollTo,!1)}))}},{key:"setScrollTo",value:function setScrollTo(o){o.preventDefault(),this.scrollTo(o.currentTarget.getAttribute("data-".concat(this.name,"-href"))||o.currentTarget.getAttribute("href"),{offset:o.currentTarget.getAttribute("data-".concat(this.name,"-offset"))})}},{key:"addElements",value:function addElements(){}},{key:"detectElements",value:function detectElements(o){var a=this,s=this.instance.scroll.y,u=s+this.windowHeight,l=this.instance.scroll.x,c=l+this.windowWidth;Object.entries(this.els).forEach((function(h){var f=_slicedToArray(h,2),p=f[0],m=f[1];if(!m||m.inView&&!o||("horizontal"===a.direction?c>=m.left&&l<m.right&&a.setInView(m,p):u>=m.top&&s<m.bottom&&a.setInView(m,p)),m&&m.inView)if("horizontal"===a.direction){var g=m.right-m.left;m.progress=(a.instance.scroll.x-(m.left-a.windowWidth))/(g+a.windowWidth),(c<m.left||l>m.right)&&a.setOutOfView(m,p)}else{var v=m.bottom-m.top;m.progress=(a.instance.scroll.y-(m.top-a.windowHeight))/(v+a.windowHeight),(u<m.top||s>m.bottom)&&a.setOutOfView(m,p)}})),this.hasScrollTicking=!1}},{key:"setInView",value:function setInView(o,a){this.els[a].inView=!0,o.el.classList.add(o.class),this.currentElements[a]=o,o.call&&this.hasCallEventSet&&(this.dispatchCall(o,"enter"),o.repeat||(this.els[a].call=!1))}},{key:"setOutOfView",value:function setOutOfView(o,a){var s=this;this.els[a].inView=!1,Object.keys(this.currentElements).forEach((function(o){o===a&&delete s.currentElements[o]})),o.call&&this.hasCallEventSet&&this.dispatchCall(o,"exit"),o.repeat&&o.el.classList.remove(o.class)}},{key:"dispatchCall",value:function dispatchCall(o,a){this.callWay=a,this.callValue=o.call.split(",").map((function(o){return o.trim()})),this.callObj=o,1==this.callValue.length&&(this.callValue=this.callValue[0]);var s=new Event(this.namespace+"call");this.el.dispatchEvent(s)}},{key:"dispatchScroll",value:function dispatchScroll(){var o=new Event(this.namespace+"scroll");this.el.dispatchEvent(o)}},{key:"setEvents",value:function setEvents(o,a){this.listeners[o]||(this.listeners[o]=[]);var s=this.listeners[o];s.push(a),1===s.length&&this.el.addEventListener(this.namespace+o,this.checkEvent,!1),"call"===o&&(this.hasCallEventSet=!0,this.detectElements(!0))}},{key:"unsetEvents",value:function unsetEvents(o,a){if(this.listeners[o]){var s=this.listeners[o],u=s.indexOf(a);u<0||(s.splice(u,1),0===s.index&&this.el.removeEventListener(this.namespace+o,this.checkEvent,!1))}}},{key:"checkEvent",value:function checkEvent(o){var a=this,s=o.type.replace(this.namespace,""),u=this.listeners[s];u&&0!==u.length&&u.forEach((function(o){switch(s){case"scroll":return o(a.instance);case"call":return o(a.callValue,a.callWay,a.callObj);default:return o()}}))}},{key:"startScroll",value:function startScroll(){}},{key:"stopScroll",value:function stopScroll(){}},{key:"setScroll",value:function setScroll(o,a){this.instance.scroll={x:0,y:0}}},{key:"destroy",value:function destroy(){var o=this;window.removeEventListener("resize",this.checkResize,!1),Object.keys(this.listeners).forEach((function(a){o.el.removeEventListener(o.namespace+a,o.checkEvent,!1)})),this.listeners={},this.scrollToEls.forEach((function(a){a.removeEventListener("click",o.setScrollTo,!1)})),this.html.classList.remove(this.initClass)}}]),_default}(),l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==o?o:"undefined"!=typeof self?self:{};function createCommonjsModule(o,a){return o(a={exports:{}},a.exports),a.exports}var c=createCommonjsModule((function(o,a){o.exports={polyfill:function polyfill(){var o=window,a=document;if(!("scrollBehavior"in a.documentElement.style)||!0===o.__forceSmoothScrollPolyfill__){var s=o.HTMLElement||o.Element,u={scroll:o.scroll||o.scrollTo,scrollBy:o.scrollBy,elementScroll:s.prototype.scroll||scrollElement,scrollIntoView:s.prototype.scrollIntoView},l=o.performance&&o.performance.now?o.performance.now.bind(o.performance):Date.now,c=function isMicrosoftBrowser(o){return new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(o)}(o.navigator.userAgent)?1:0;o.scroll=o.scrollTo=function(){void 0!==arguments[0]&&(!0!==shouldBailOut(arguments[0])?smoothScroll.call(o,a.body,void 0!==arguments[0].left?~~arguments[0].left:o.scrollX||o.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:o.scrollY||o.pageYOffset):u.scroll.call(o,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:o.scrollX||o.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:o.scrollY||o.pageYOffset))},o.scrollBy=function(){void 0!==arguments[0]&&(shouldBailOut(arguments[0])?u.scrollBy.call(o,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):smoothScroll.call(o,a.body,~~arguments[0].left+(o.scrollX||o.pageXOffset),~~arguments[0].top+(o.scrollY||o.pageYOffset)))},s.prototype.scroll=s.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==shouldBailOut(arguments[0])){var o=arguments[0].left,a=arguments[0].top;smoothScroll.call(this,this,void 0===o?this.scrollLeft:~~o,void 0===a?this.scrollTop:~~a)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");u.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},s.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==shouldBailOut(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):u.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},s.prototype.scrollIntoView=function(){if(!0!==shouldBailOut(arguments[0])){var s=findScrollableParent(this),l=s.getBoundingClientRect(),c=this.getBoundingClientRect();s!==a.body?(smoothScroll.call(this,s,s.scrollLeft+c.left-l.left,s.scrollTop+c.top-l.top),"fixed"!==o.getComputedStyle(s).position&&o.scrollBy({left:l.left,top:l.top,behavior:"smooth"})):o.scrollBy({left:c.left,top:c.top,behavior:"smooth"})}else u.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function scrollElement(o,a){this.scrollLeft=o,this.scrollTop=a}function shouldBailOut(o){if(null===o||"object"!=typeof o||void 0===o.behavior||"auto"===o.behavior||"instant"===o.behavior)return!0;if("object"==typeof o&&"smooth"===o.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+o.behavior+" is not a valid value for enumeration ScrollBehavior.")}function hasScrollableSpace(o,a){return"Y"===a?o.clientHeight+c<o.scrollHeight:"X"===a?o.clientWidth+c<o.scrollWidth:void 0}function canOverflow(a,s){var u=o.getComputedStyle(a,null)["overflow"+s];return"auto"===u||"scroll"===u}function isScrollable(o){var a=hasScrollableSpace(o,"Y")&&canOverflow(o,"Y"),s=hasScrollableSpace(o,"X")&&canOverflow(o,"X");return a||s}function findScrollableParent(o){for(;o!==a.body&&!1===isScrollable(o);)o=o.parentNode||o.host;return o}function step(a){var s,u,c,h=(l()-a.startTime)/468;s=function ease(o){return.5*(1-Math.cos(Math.PI*o))}(h=h>1?1:h),u=a.startX+(a.x-a.startX)*s,c=a.startY+(a.y-a.startY)*s,a.method.call(a.scrollable,u,c),u===a.x&&c===a.y||o.requestAnimationFrame(step.bind(o,a))}function smoothScroll(s,c,h){var f,p,m,g,v=l();s===a.body?(f=o,p=o.scrollX||o.pageXOffset,m=o.scrollY||o.pageYOffset,g=u.scroll):(f=s,p=s.scrollLeft,m=s.scrollTop,g=scrollElement),step({scrollable:f,method:g,startTime:v,startX:p,startY:m,x:c,y:h})}}}})),h=(c.polyfill,function(o){_inherits(_default,o);var a=_createSuper(_default);function _default(){var o,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,_default),(o=a.call(this,s)).resetNativeScroll&&(history.scrollRestoration&&(history.scrollRestoration="manual"),window.scrollTo(0,0)),window.addEventListener("scroll",o.checkScroll,!1),void 0===window.smoothscrollPolyfill&&(window.smoothscrollPolyfill=c,window.smoothscrollPolyfill.polyfill()),o}return _createClass(_default,[{key:"init",value:function init(){this.instance.scroll.y=window.pageYOffset,this.addElements(),this.detectElements(),_get(_getPrototypeOf(_default.prototype),"init",this).call(this)}},{key:"checkScroll",value:function checkScroll(){var o=this;_get(_getPrototypeOf(_default.prototype),"checkScroll",this).call(this),this.getDirection&&this.addDirection(),this.getSpeed&&(this.addSpeed(),this.speedTs=Date.now()),this.instance.scroll.y=window.pageYOffset,Object.entries(this.els).length&&(this.hasScrollTicking||(requestAnimationFrame((function(){o.detectElements()})),this.hasScrollTicking=!0))}},{key:"addDirection",value:function addDirection(){window.pageYOffset>this.instance.scroll.y?"down"!==this.instance.direction&&(this.instance.direction="down"):window.pageYOffset<this.instance.scroll.y&&"up"!==this.instance.direction&&(this.instance.direction="up")}},{key:"addSpeed",value:function addSpeed(){window.pageYOffset!=this.instance.scroll.y?this.instance.speed=(window.pageYOffset-this.instance.scroll.y)/Math.max(1,Date.now()-this.speedTs):this.instance.speed=0}},{key:"resize",value:function resize(){Object.entries(this.els).length&&(this.windowHeight=window.innerHeight,this.updateElements())}},{key:"addElements",value:function addElements(){var o=this;this.els={},this.el.querySelectorAll("[data-"+this.name+"]").forEach((function(a,s){a.getBoundingClientRect();var u,l,c,h=a.dataset[o.name+"Class"]||o.class,f="string"==typeof a.dataset[o.name+"Id"]?a.dataset[o.name+"Id"]:s,p="string"==typeof a.dataset[o.name+"Offset"]?a.dataset[o.name+"Offset"].split(","):o.offset,m=a.dataset[o.name+"Repeat"],g=a.dataset[o.name+"Call"],v=a.dataset[o.name+"Target"],y=(c=void 0!==v?document.querySelector("".concat(v)):a).getBoundingClientRect();u=y.top+o.instance.scroll.y,l=y.left+o.instance.scroll.x;var _=u+c.offsetHeight,b=l+c.offsetWidth;m="false"!=m&&(null!=m||o.repeat);var T=o.getRelativeOffset(p),S={el:a,targetEl:c,id:f,class:h,top:u+=T[0],bottom:_-=T[1],left:l,right:b,offset:p,progress:0,repeat:m,inView:!1,call:g};o.els[f]=S,a.classList.contains(h)&&o.setInView(o.els[f],f)}))}},{key:"updateElements",value:function updateElements(){var o=this;Object.entries(this.els).forEach((function(a){var s=_slicedToArray(a,2),u=s[0],l=s[1],c=l.targetEl.getBoundingClientRect().top+o.instance.scroll.y,h=c+l.targetEl.offsetHeight,f=o.getRelativeOffset(l.offset);o.els[u].top=c+f[0],o.els[u].bottom=h-f[1]})),this.hasScrollTicking=!1}},{key:"getRelativeOffset",value:function getRelativeOffset(o){var a=[0,0];if(o)for(var s=0;s<o.length;s++)"string"==typeof o[s]?o[s].includes("%")?a[s]=parseInt(o[s].replace("%","")*this.windowHeight/100):a[s]=parseInt(o[s]):a[s]=o[s];return a}},{key:"scrollTo",value:function scrollTo(o){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=parseInt(a.offset)||0,u=!!a.callback&&a.callback;if("string"==typeof o){if("top"===o)o=this.html;else if("bottom"===o)o=this.html.offsetHeight-window.innerHeight;else if(!(o=document.querySelector(o)))return}else if("number"==typeof o)o=parseInt(o);else if(!o||!o.tagName)return void console.warn("`target` parameter is not valid");s="number"!=typeof o?o.getBoundingClientRect().top+s+this.instance.scroll.y:o+s;var l=function isTargetReached(){return parseInt(window.pageYOffset)===parseInt(s)};if(u){if(l())return void u();var c=function onScroll(){l()&&(window.removeEventListener("scroll",onScroll),u())};window.addEventListener("scroll",c)}window.scrollTo({top:s,behavior:0===a.duration?"auto":"smooth"})}},{key:"update",value:function update(){this.addElements(),this.detectElements()}},{key:"destroy",value:function destroy(){_get(_getPrototypeOf(_default.prototype),"destroy",this).call(this),window.removeEventListener("scroll",this.checkScroll,!1)}}]),_default}(u)),f=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable;function toObject(o){if(null==o)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(o)}var g=function shouldUseNative(){try{if(!Object.assign)return!1;var o=new String("abc");if(o[5]="de","5"===Object.getOwnPropertyNames(o)[0])return!1;for(var a={},s=0;s<10;s++)a["_"+String.fromCharCode(s)]=s;if("0123456789"!==Object.getOwnPropertyNames(a).map((function(o){return a[o]})).join(""))return!1;var u={};return"abcdefghijklmnopqrst".split("").forEach((function(o){u[o]=o})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},u)).join("")}catch(o){return!1}}()?Object.assign:function(o,a){for(var s,u,l=toObject(o),c=1;c<arguments.length;c++){for(var h in s=Object(arguments[c]))p.call(s,h)&&(l[h]=s[h]);if(f){u=f(s);for(var g=0;g<u.length;g++)m.call(s,u[g])&&(l[u[g]]=s[u[g]])}}return l};function E(){}E.prototype={on:function(o,a,s){var u=this.e||(this.e={});return(u[o]||(u[o]=[])).push({fn:a,ctx:s}),this},once:function(o,a,s){var u=this;function listener(){u.off(o,listener),a.apply(s,arguments)}return listener._=a,this.on(o,listener,s)},emit:function(o){for(var a=[].slice.call(arguments,1),s=((this.e||(this.e={}))[o]||[]).slice(),u=0,l=s.length;u<l;u++)s[u].fn.apply(s[u].ctx,a);return this},off:function(o,a){var s=this.e||(this.e={}),u=s[o],l=[];if(u&&a)for(var c=0,h=u.length;c<h;c++)u[c].fn!==a&&u[c].fn._!==a&&l.push(u[c]);return l.length?s[o]=l:delete s[o],this}};var v=E,y=createCommonjsModule((function(o,a){(function(){(null!==a?a:this).Lethargy=function(){function Lethargy(o,a,s,u){this.stability=null!=o?Math.abs(o):8,this.sensitivity=null!=a?1+Math.abs(a):100,this.tolerance=null!=s?1+Math.abs(s):1.1,this.delay=null!=u?u:150,this.lastUpDeltas=function(){var o,a,s;for(s=[],o=1,a=2*this.stability;1<=a?o<=a:o>=a;1<=a?o++:o--)s.push(null);return s}.call(this),this.lastDownDeltas=function(){var o,a,s;for(s=[],o=1,a=2*this.stability;1<=a?o<=a:o>=a;1<=a?o++:o--)s.push(null);return s}.call(this),this.deltasTimestamp=function(){var o,a,s;for(s=[],o=1,a=2*this.stability;1<=a?o<=a:o>=a;1<=a?o++:o--)s.push(null);return s}.call(this)}return Lethargy.prototype.check=function(o){var a;return null!=(o=o.originalEvent||o).wheelDelta?a=o.wheelDelta:null!=o.deltaY?a=-40*o.deltaY:null==o.detail&&0!==o.detail||(a=-40*o.detail),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),a>0?(this.lastUpDeltas.push(a),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(a),this.lastDownDeltas.shift(),this.isInertia(-1))},Lethargy.prototype.isInertia=function(o){var a,s,u,l,c,h,f;return null===(a=-1===o?this.lastDownDeltas:this.lastUpDeltas)[0]?o:!(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&a[0]===a[2*this.stability-1])&&(u=a.slice(0,this.stability),s=a.slice(this.stability,2*this.stability),f=u.reduce((function(o,a){return o+a})),c=s.reduce((function(o,a){return o+a})),h=f/u.length,l=c/s.length,Math.abs(h)<Math.abs(l*this.tolerance)&&this.sensitivity<Math.abs(l)&&o)},Lethargy.prototype.showLastUpDeltas=function(){return this.lastUpDeltas},Lethargy.prototype.showLastDownDeltas=function(){return this.lastDownDeltas},Lethargy}()}).call(l)})),_=function getSupport(){return{hasWheelEvent:"onwheel"in document,hasMouseWheelEvent:"onmousewheel"in document,hasTouch:"ontouchstart"in window||window.TouchEvent||window.DocumentTouch&&document instanceof DocumentTouch,hasTouchWin:navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints>1,hasPointer:!!window.navigator.msPointerEnabled,hasKeyDown:"onkeydown"in document,isFirefox:navigator.userAgent.indexOf("Firefox")>-1}}(),b=Object.prototype.toString,T=Object.prototype.hasOwnProperty;function bind(o,a){return function(){return o.apply(a,arguments)}}var S=y.Lethargy,w="virtualscroll",k=VirtualScroll,x=37,P=38,I=39,O=40,L=32;function VirtualScroll(o){!function(o){if(!o)return console.warn("bindAll requires at least one argument.");var a=Array.prototype.slice.call(arguments,1);if(0===a.length)for(var s in o)T.call(o,s)&&"function"==typeof o[s]&&"[object Function]"==b.call(o[s])&&a.push(s);for(var u=0;u<a.length;u++){var l=a[u];o[l]=bind(o[l],o)}}(this,"_onWheel","_onMouseWheel","_onTouchStart","_onTouchMove","_onKeyDown"),this.el=window,o&&o.el&&(this.el=o.el,delete o.el),this.options=g({mouseMultiplier:1,touchMultiplier:2,firefoxMultiplier:15,keyStep:120,preventTouch:!1,unpreventTouchClass:"vs-touchmove-allowed",limitInertia:!1,useKeyboard:!0,useTouch:!0},o),this.options.limitInertia&&(this._lethargy=new S),this._emitter=new v,this._event={y:0,x:0,deltaX:0,deltaY:0},this.touchStartX=null,this.touchStartY=null,this.bodyTouchAction=null,void 0!==this.options.passive&&(this.listenerOptions={passive:this.options.passive})}function lerp(o,a,s){return(1-s)*o+s*a}function getTranslate(o){var a={};if(window.getComputedStyle){var s=getComputedStyle(o),u=s.transform||s.webkitTransform||s.mozTransform,l=u.match(/^matrix3d\((.+)\)$/);return l?(a.x=l?parseFloat(l[1].split(", ")[12]):0,a.y=l?parseFloat(l[1].split(", ")[13]):0):(l=u.match(/^matrix\((.+)\)$/),a.x=l?parseFloat(l[1].split(", ")[4]):0,a.y=l?parseFloat(l[1].split(", ")[5]):0),a}}function getParents(o){for(var a=[];o&&o!==document;o=o.parentNode)a.push(o);return a}VirtualScroll.prototype._notify=function(o){var a=this._event;a.x+=a.deltaX,a.y+=a.deltaY,this._emitter.emit(w,{x:a.x,y:a.y,deltaX:a.deltaX,deltaY:a.deltaY,originalEvent:o})},VirtualScroll.prototype._onWheel=function(o){var a=this.options;if(!this._lethargy||!1!==this._lethargy.check(o)){var s=this._event;s.deltaX=o.wheelDeltaX||-1*o.deltaX,s.deltaY=o.wheelDeltaY||-1*o.deltaY,_.isFirefox&&1==o.deltaMode&&(s.deltaX*=a.firefoxMultiplier,s.deltaY*=a.firefoxMultiplier),s.deltaX*=a.mouseMultiplier,s.deltaY*=a.mouseMultiplier,this._notify(o)}},VirtualScroll.prototype._onMouseWheel=function(o){if(!this.options.limitInertia||!1!==this._lethargy.check(o)){var a=this._event;a.deltaX=o.wheelDeltaX?o.wheelDeltaX:0,a.deltaY=o.wheelDeltaY?o.wheelDeltaY:o.wheelDelta,this._notify(o)}},VirtualScroll.prototype._onTouchStart=function(o){var a=o.targetTouches?o.targetTouches[0]:o;this.touchStartX=a.pageX,this.touchStartY=a.pageY},VirtualScroll.prototype._onTouchMove=function(o){var a=this.options;a.preventTouch&&!o.target.classList.contains(a.unpreventTouchClass)&&o.preventDefault();var s=this._event,u=o.targetTouches?o.targetTouches[0]:o;s.deltaX=(u.pageX-this.touchStartX)*a.touchMultiplier,s.deltaY=(u.pageY-this.touchStartY)*a.touchMultiplier,this.touchStartX=u.pageX,this.touchStartY=u.pageY,this._notify(o)},VirtualScroll.prototype._onKeyDown=function(o){var a=this._event;a.deltaX=a.deltaY=0;var s=window.innerHeight-40;switch(o.keyCode){case x:case P:a.deltaY=this.options.keyStep;break;case I:case O:a.deltaY=-this.options.keyStep;break;case o.shiftKey:a.deltaY=s;break;case L:a.deltaY=-s;break;default:return}this._notify(o)},VirtualScroll.prototype._bind=function(){_.hasWheelEvent&&this.el.addEventListener("wheel",this._onWheel,this.listenerOptions),_.hasMouseWheelEvent&&this.el.addEventListener("mousewheel",this._onMouseWheel,this.listenerOptions),_.hasTouch&&this.options.useTouch&&(this.el.addEventListener("touchstart",this._onTouchStart,this.listenerOptions),this.el.addEventListener("touchmove",this._onTouchMove,this.listenerOptions)),_.hasPointer&&_.hasTouchWin&&(this.bodyTouchAction=document.body.style.msTouchAction,document.body.style.msTouchAction="none",this.el.addEventListener("MSPointerDown",this._onTouchStart,!0),this.el.addEventListener("MSPointerMove",this._onTouchMove,!0)),_.hasKeyDown&&this.options.useKeyboard&&document.addEventListener("keydown",this._onKeyDown)},VirtualScroll.prototype._unbind=function(){_.hasWheelEvent&&this.el.removeEventListener("wheel",this._onWheel),_.hasMouseWheelEvent&&this.el.removeEventListener("mousewheel",this._onMouseWheel),_.hasTouch&&(this.el.removeEventListener("touchstart",this._onTouchStart),this.el.removeEventListener("touchmove",this._onTouchMove)),_.hasPointer&&_.hasTouchWin&&(document.body.style.msTouchAction=this.bodyTouchAction,this.el.removeEventListener("MSPointerDown",this._onTouchStart,!0),this.el.removeEventListener("MSPointerMove",this._onTouchMove,!0)),_.hasKeyDown&&this.options.useKeyboard&&document.removeEventListener("keydown",this._onKeyDown)},VirtualScroll.prototype.on=function(o,a){this._emitter.on(w,o,a);var s=this._emitter.e;s&&s[w]&&1===s[w].length&&this._bind()},VirtualScroll.prototype.off=function(o,a){this._emitter.off(w,o,a);var s=this._emitter.e;(!s[w]||s[w].length<=0)&&this._unbind()},VirtualScroll.prototype.reset=function(){var o=this._event;o.x=0,o.y=0},VirtualScroll.prototype.destroy=function(){this._emitter.off(),this._unbind()};var M=.1,D="function"==typeof Float32Array;function A(o,a){return 1-3*a+3*o}function B(o,a){return 3*a-6*o}function C(o){return 3*o}function calcBezier(o,a,s){return((A(a,s)*o+B(a,s))*o+C(a))*o}function getSlope(o,a,s){return 3*A(a,s)*o*o+2*B(a,s)*o+C(a)}function LinearEasing(o){return o}var R=function bezier(o,a,s,u){if(!(0<=o&&o<=1&&0<=s&&s<=1))throw new Error("bezier x values must be in [0, 1] range");if(o===a&&s===u)return LinearEasing;for(var l=D?new Float32Array(11):new Array(11),c=0;c<11;++c)l[c]=calcBezier(c*M,o,s);function getTForX(a){for(var u=0,c=1;10!==c&&l[c]<=a;++c)u+=M;--c;var h=u+(a-l[c])/(l[c+1]-l[c])*M,f=getSlope(h,o,s);return f>=.001?function newtonRaphsonIterate(o,a,s,u){for(var l=0;l<4;++l){var c=getSlope(a,s,u);if(0===c)return a;a-=(calcBezier(a,s,u)-o)/c}return a}(a,h,o,s):0===f?h:function binarySubdivide(o,a,s,u,l){var c,h,f=0;do{(c=calcBezier(h=a+(s-a)/2,u,l)-o)>0?s=h:a=h}while(Math.abs(c)>1e-7&&++f<10);return h}(a,u,u+M,o,s)}return function BezierEasing(o){return 0===o?0:1===o?1:calcBezier(getTForX(o),a,u)}},N=38,j=40,U=32,H=9,q=33,V=34,W=36,z=35,G=function(o){_inherits(_default,o);var a=_createSuper(_default);function _default(){var o,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,_default),history.scrollRestoration&&(history.scrollRestoration="manual"),window.scrollTo(0,0),(o=a.call(this,s)).inertia&&(o.lerp=.1*o.inertia),o.isScrolling=!1,o.isDraggingScrollbar=!1,o.isTicking=!1,o.hasScrollTicking=!1,o.parallaxElements={},o.stop=!1,o.scrollbarContainer=s.scrollbarContainer,o.checkKey=o.checkKey.bind(_assertThisInitialized(o)),window.addEventListener("keydown",o.checkKey,!1),o}return _createClass(_default,[{key:"init",value:function init(){var o=this;this.html.classList.add(this.smoothClass),this.html.setAttribute("data-".concat(this.name,"-direction"),this.direction),this.instance=_objectSpread2({delta:{x:this.initPosition.x,y:this.initPosition.y},scroll:{x:this.initPosition.x,y:this.initPosition.y}},this.instance),this.vs=new k({el:this.scrollFromAnywhere?document:this.el,mouseMultiplier:navigator.platform.indexOf("Win")>-1?1:.4,firefoxMultiplier:this.firefoxMultiplier,touchMultiplier:this.touchMultiplier,useKeyboard:!1,passive:!0}),this.vs.on((function(a){o.stop||o.isDraggingScrollbar||requestAnimationFrame((function(){o.updateDelta(a),o.isScrolling||o.startScrolling()}))})),this.setScrollLimit(),this.initScrollBar(),this.addSections(),this.addElements(),this.checkScroll(!0),this.transformElements(!0,!0),_get(_getPrototypeOf(_default.prototype),"init",this).call(this)}},{key:"setScrollLimit",value:function setScrollLimit(){if(this.instance.limit.y=this.el.offsetHeight-this.windowHeight,"horizontal"===this.direction){for(var o=0,a=this.el.children,s=0;s<a.length;s++)o+=a[s].offsetWidth;this.instance.limit.x=o-this.windowWidth}}},{key:"startScrolling",value:function startScrolling(){this.startScrollTs=Date.now(),this.isScrolling=!0,this.checkScroll(),this.html.classList.add(this.scrollingClass)}},{key:"stopScrolling",value:function stopScrolling(){cancelAnimationFrame(this.checkScrollRaf),this.startScrollTs=void 0,this.scrollToRaf&&(cancelAnimationFrame(this.scrollToRaf),this.scrollToRaf=null),this.isScrolling=!1,this.instance.scroll.y=Math.round(this.instance.scroll.y),this.html.classList.remove(this.scrollingClass)}},{key:"checkKey",value:function checkKey(o){var a=this;if(this.stop)o.keyCode==H&&requestAnimationFrame((function(){a.html.scrollTop=0,document.body.scrollTop=0,a.html.scrollLeft=0,document.body.scrollLeft=0}));else{switch(o.keyCode){case H:requestAnimationFrame((function(){a.html.scrollTop=0,document.body.scrollTop=0,a.html.scrollLeft=0,document.body.scrollLeft=0,a.scrollTo(document.activeElement,{offset:-window.innerHeight/2})}));break;case N:this.instance.delta[this.directionAxis]-=240;break;case j:this.instance.delta[this.directionAxis]+=240;break;case q:this.instance.delta[this.directionAxis]-=window.innerHeight;break;case V:this.instance.delta[this.directionAxis]+=window.innerHeight;break;case W:this.instance.delta[this.directionAxis]-=this.instance.limit[this.directionAxis];break;case z:this.instance.delta[this.directionAxis]+=this.instance.limit[this.directionAxis];break;case U:document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLTextAreaElement||(o.shiftKey?this.instance.delta[this.directionAxis]-=window.innerHeight:this.instance.delta[this.directionAxis]+=window.innerHeight);break;default:return}this.instance.delta[this.directionAxis]<0&&(this.instance.delta[this.directionAxis]=0),this.instance.delta[this.directionAxis]>this.instance.limit[this.directionAxis]&&(this.instance.delta[this.directionAxis]=this.instance.limit[this.directionAxis]),this.stopScrolling(),this.isScrolling=!0,this.checkScroll(),this.html.classList.add(this.scrollingClass)}}},{key:"checkScroll",value:function checkScroll(){var o=this,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(a||this.isScrolling||this.isDraggingScrollbar){this.hasScrollTicking||(this.checkScrollRaf=requestAnimationFrame((function(){return o.checkScroll()})),this.hasScrollTicking=!0),this.updateScroll();var s=Math.abs(this.instance.delta[this.directionAxis]-this.instance.scroll[this.directionAxis]),u=Date.now()-this.startScrollTs;if(!this.animatingScroll&&u>100&&(s<.5&&0!=this.instance.delta[this.directionAxis]||s<.5&&0==this.instance.delta[this.directionAxis])&&this.stopScrolling(),Object.entries(this.sections).forEach((function(s){var u=_slicedToArray(s,2),l=(u[0],u[1]);l.persistent||o.instance.scroll[o.directionAxis]>l.offset[o.directionAxis]&&o.instance.scroll[o.directionAxis]<l.limit[o.directionAxis]?("horizontal"===o.direction?o.transform(l.el,-o.instance.scroll[o.directionAxis],0):o.transform(l.el,0,-o.instance.scroll[o.directionAxis]),l.inView||(l.inView=!0,l.el.style.opacity=1,l.el.style.pointerEvents="all",l.el.setAttribute("data-".concat(o.name,"-section-inview"),""))):((l.inView||a)&&(l.inView=!1,l.el.style.opacity=0,l.el.style.pointerEvents="none",l.el.removeAttribute("data-".concat(o.name,"-section-inview"))),o.transform(l.el,0,0))})),this.getDirection&&this.addDirection(),this.getSpeed&&(this.addSpeed(),this.speedTs=Date.now()),this.detectElements(),this.transformElements(),this.hasScrollbar){var l=this.instance.scroll[this.directionAxis]/this.instance.limit[this.directionAxis]*this.scrollBarLimit[this.directionAxis];"horizontal"===this.direction?this.transform(this.scrollbarThumb,l,0):this.transform(this.scrollbarThumb,0,l)}_get(_getPrototypeOf(_default.prototype),"checkScroll",this).call(this),this.hasScrollTicking=!1}}},{key:"resize",value:function resize(){this.windowHeight=window.innerHeight,this.windowWidth=window.innerWidth,this.checkContext(),this.windowMiddle={x:this.windowWidth/2,y:this.windowHeight/2},this.update()}},{key:"updateDelta",value:function updateDelta(o){var a,s=this[this.context]&&this[this.context].gestureDirection?this[this.context].gestureDirection:this.gestureDirection;a="both"===s?o.deltaX+o.deltaY:"vertical"===s?o.deltaY:"horizontal"===s?o.deltaX:o.deltaY,this.instance.delta[this.directionAxis]-=a*this.multiplier,this.instance.delta[this.directionAxis]<0&&(this.instance.delta[this.directionAxis]=0),this.instance.delta[this.directionAxis]>this.instance.limit[this.directionAxis]&&(this.instance.delta[this.directionAxis]=this.instance.limit[this.directionAxis])}},{key:"updateScroll",value:function updateScroll(o){this.isScrolling||this.isDraggingScrollbar?this.instance.scroll[this.directionAxis]=lerp(this.instance.scroll[this.directionAxis],this.instance.delta[this.directionAxis],this.lerp):this.instance.scroll[this.directionAxis]>this.instance.limit[this.directionAxis]?this.setScroll(this.instance.scroll[this.directionAxis],this.instance.limit[this.directionAxis]):this.instance.scroll.y<0?this.setScroll(this.instance.scroll[this.directionAxis],0):this.setScroll(this.instance.scroll[this.directionAxis],this.instance.delta[this.directionAxis])}},{key:"addDirection",value:function addDirection(){this.instance.delta.y>this.instance.scroll.y?"down"!==this.instance.direction&&(this.instance.direction="down"):this.instance.delta.y<this.instance.scroll.y&&"up"!==this.instance.direction&&(this.instance.direction="up"),this.instance.delta.x>this.instance.scroll.x?"right"!==this.instance.direction&&(this.instance.direction="right"):this.instance.delta.x<this.instance.scroll.x&&"left"!==this.instance.direction&&(this.instance.direction="left")}},{key:"addSpeed",value:function addSpeed(){this.instance.delta[this.directionAxis]!=this.instance.scroll[this.directionAxis]?this.instance.speed=(this.instance.delta[this.directionAxis]-this.instance.scroll[this.directionAxis])/Math.max(1,Date.now()-this.speedTs):this.instance.speed=0}},{key:"initScrollBar",value:function initScrollBar(){if(this.scrollbar=document.createElement("span"),this.scrollbarThumb=document.createElement("span"),this.scrollbar.classList.add("".concat(this.scrollbarClass)),this.scrollbarThumb.classList.add("".concat(this.scrollbarClass,"_thumb")),this.scrollbar.append(this.scrollbarThumb),this.scrollbarContainer?this.scrollbarContainer.append(this.scrollbar):document.body.append(this.scrollbar),this.getScrollBar=this.getScrollBar.bind(this),this.releaseScrollBar=this.releaseScrollBar.bind(this),this.moveScrollBar=this.moveScrollBar.bind(this),this.scrollbarThumb.addEventListener("mousedown",this.getScrollBar),window.addEventListener("mouseup",this.releaseScrollBar),window.addEventListener("mousemove",this.moveScrollBar),this.hasScrollbar=!1,"horizontal"==this.direction){if(this.instance.limit.x+this.windowWidth<=this.windowWidth)return}else if(this.instance.limit.y+this.windowHeight<=this.windowHeight)return;this.hasScrollbar=!0,this.scrollbarBCR=this.scrollbar.getBoundingClientRect(),this.scrollbarHeight=this.scrollbarBCR.height,this.scrollbarWidth=this.scrollbarBCR.width,"horizontal"===this.direction?this.scrollbarThumb.style.width="".concat(this.scrollbarWidth*this.scrollbarWidth/(this.instance.limit.x+this.scrollbarWidth),"px"):this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit.y+this.scrollbarHeight),"px"),this.scrollbarThumbBCR=this.scrollbarThumb.getBoundingClientRect(),this.scrollBarLimit={x:this.scrollbarWidth-this.scrollbarThumbBCR.width,y:this.scrollbarHeight-this.scrollbarThumbBCR.height}}},{key:"reinitScrollBar",value:function reinitScrollBar(){if(this.hasScrollbar=!1,"horizontal"==this.direction){if(this.instance.limit.x+this.windowWidth<=this.windowWidth)return}else if(this.instance.limit.y+this.windowHeight<=this.windowHeight)return;this.hasScrollbar=!0,this.scrollbarBCR=this.scrollbar.getBoundingClientRect(),this.scrollbarHeight=this.scrollbarBCR.height,this.scrollbarWidth=this.scrollbarBCR.width,"horizontal"===this.direction?this.scrollbarThumb.style.width="".concat(this.scrollbarWidth*this.scrollbarWidth/(this.instance.limit.x+this.scrollbarWidth),"px"):this.scrollbarThumb.style.height="".concat(this.scrollbarHeight*this.scrollbarHeight/(this.instance.limit.y+this.scrollbarHeight),"px"),this.scrollbarThumbBCR=this.scrollbarThumb.getBoundingClientRect(),this.scrollBarLimit={x:this.scrollbarWidth-this.scrollbarThumbBCR.width,y:this.scrollbarHeight-this.scrollbarThumbBCR.height}}},{key:"destroyScrollBar",value:function destroyScrollBar(){this.scrollbarThumb.removeEventListener("mousedown",this.getScrollBar),window.removeEventListener("mouseup",this.releaseScrollBar),window.removeEventListener("mousemove",this.moveScrollBar),this.scrollbar.remove()}},{key:"getScrollBar",value:function getScrollBar(o){this.isDraggingScrollbar=!0,this.checkScroll(),this.html.classList.remove(this.scrollingClass),this.html.classList.add(this.draggingClass)}},{key:"releaseScrollBar",value:function releaseScrollBar(o){this.isDraggingScrollbar=!1,this.isScrolling&&this.html.classList.add(this.scrollingClass),this.html.classList.remove(this.draggingClass)}},{key:"moveScrollBar",value:function moveScrollBar(o){var a=this;this.isDraggingScrollbar&&requestAnimationFrame((function(){var s=100*(o.clientX-a.scrollbarBCR.left)/a.scrollbarWidth*a.instance.limit.x/100,u=100*(o.clientY-a.scrollbarBCR.top)/a.scrollbarHeight*a.instance.limit.y/100;u>0&&u<a.instance.limit.y&&(a.instance.delta.y=u),s>0&&s<a.instance.limit.x&&(a.instance.delta.x=s)}))}},{key:"addElements",value:function addElements(){var o=this;this.els={},this.parallaxElements={},this.el.querySelectorAll("[data-".concat(this.name,"]")).forEach((function(a,s){var u,l,c,h=getParents(a),f=Object.entries(o.sections).map((function(o){var a=_slicedToArray(o,2);a[0];return a[1]})).find((function(o){return h.includes(o.el)})),p=a.dataset[o.name+"Class"]||o.class,m="string"==typeof a.dataset[o.name+"Id"]?a.dataset[o.name+"Id"]:"el"+s,g=a.dataset[o.name+"Repeat"],v=a.dataset[o.name+"Call"],y=a.dataset[o.name+"Position"],_=a.dataset[o.name+"Delay"],b=a.dataset[o.name+"Direction"],T="string"==typeof a.dataset[o.name+"Sticky"],S=!!a.dataset[o.name+"Speed"]&&parseFloat(a.dataset[o.name+"Speed"])/10,w="string"==typeof a.dataset[o.name+"Offset"]?a.dataset[o.name+"Offset"].split(","):o.offset,k=a.dataset[o.name+"Target"],x=(c=void 0!==k?document.querySelector("".concat(k)):a).getBoundingClientRect();null===f||f.inView?(u=x.top+o.instance.scroll.y-getTranslate(c).y,l=x.left+o.instance.scroll.x-getTranslate(c).x):(u=x.top-getTranslate(f.el).y-getTranslate(c).y,l=x.left-getTranslate(f.el).x-getTranslate(c).x);var P=u+c.offsetHeight,I=l+c.offsetWidth,O={x:(I-l)/2+l,y:(P-u)/2+u};if(T){var L=a.getBoundingClientRect(),M=L.top,D=L.left,R={x:D-l,y:M-u};u+=window.innerHeight,l+=window.innerWidth,P=M+c.offsetHeight-a.offsetHeight-R[o.directionAxis],O={x:((I=D+c.offsetWidth-a.offsetWidth-R[o.directionAxis])-l)/2+l,y:(P-u)/2+u}}g="false"!=g&&(null!=g||o.repeat);var N=[0,0];if(w)if("horizontal"===o.direction){for(var j=0;j<w.length;j++)"string"==typeof w[j]?w[j].includes("%")?N[j]=parseInt(w[j].replace("%","")*o.windowWidth/100):N[j]=parseInt(w[j]):N[j]=w[j];l+=N[0],I-=N[1]}else{for(j=0;j<w.length;j++)"string"==typeof w[j]?w[j].includes("%")?N[j]=parseInt(w[j].replace("%","")*o.windowHeight/100):N[j]=parseInt(w[j]):N[j]=w[j];u+=N[0],P-=N[1]}var U={el:a,id:m,class:p,section:f,top:u,middle:O,bottom:P,left:l,right:I,offset:w,progress:0,repeat:g,inView:!1,call:v,speed:S,delay:_,position:y,target:c,direction:b,sticky:T};o.els[m]=U,a.classList.contains(p)&&o.setInView(o.els[m],m),(!1!==S||T)&&(o.parallaxElements[m]=U)}))}},{key:"addSections",value:function addSections(){var o=this;this.sections={};var a=this.el.querySelectorAll("[data-".concat(this.name,"-section]"));0===a.length&&(a=[this.el]),a.forEach((function(a,s){var u="string"==typeof a.dataset[o.name+"Id"]?a.dataset[o.name+"Id"]:"section"+s,l=a.getBoundingClientRect(),c={x:l.left-1.5*window.innerWidth-getTranslate(a).x,y:l.top-1.5*window.innerHeight-getTranslate(a).y},h={x:c.x+l.width+2*window.innerWidth,y:c.y+l.height+2*window.innerHeight},f="string"==typeof a.dataset[o.name+"Persistent"];a.setAttribute("data-scroll-section-id",u);var p={el:a,offset:c,limit:h,inView:!1,persistent:f,id:u};o.sections[u]=p}))}},{key:"transform",value:function transform(o,a,s,u){var transform;if(u){var l=getTranslate(o),c=lerp(l.x,a,u),h=lerp(l.y,s,u);transform="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(c,",").concat(h,",0,1)")}else transform="matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,".concat(a,",").concat(s,",0,1)");o.style.webkitTransform=transform,o.style.msTransform=transform,o.style.transform=transform}},{key:"transformElements",value:function transformElements(o){var a=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],u=this.instance.scroll.x+this.windowWidth,l=this.instance.scroll.y+this.windowHeight,c={x:this.instance.scroll.x+this.windowMiddle.x,y:this.instance.scroll.y+this.windowMiddle.y};Object.entries(this.parallaxElements).forEach((function(h){var f=_slicedToArray(h,2),p=(f[0],f[1]),m=!1;if(o&&(m=0),p.inView||s)switch(p.position){case"top":m=a.instance.scroll[a.directionAxis]*-p.speed;break;case"elementTop":m=(l-p.top)*-p.speed;break;case"bottom":m=(a.instance.limit[a.directionAxis]-l+a.windowHeight)*p.speed;break;case"left":m=a.instance.scroll[a.directionAxis]*-p.speed;break;case"elementLeft":m=(u-p.left)*-p.speed;break;case"right":m=(a.instance.limit[a.directionAxis]-u+a.windowHeight)*p.speed;break;default:m=(c[a.directionAxis]-p.middle[a.directionAxis])*-p.speed}p.sticky&&(m=p.inView?"horizontal"===a.direction?a.instance.scroll.x-p.left+window.innerWidth:a.instance.scroll.y-p.top+window.innerHeight:"horizontal"===a.direction?a.instance.scroll.x<p.left-window.innerWidth&&a.instance.scroll.x<p.left-window.innerWidth/2?0:a.instance.scroll.x>p.right&&a.instance.scroll.x>p.right+100&&p.right-p.left+window.innerWidth:a.instance.scroll.y<p.top-window.innerHeight&&a.instance.scroll.y<p.top-window.innerHeight/2?0:a.instance.scroll.y>p.bottom&&a.instance.scroll.y>p.bottom+100&&p.bottom-p.top+window.innerHeight),!1!==m&&("horizontal"===p.direction||"horizontal"===a.direction&&"vertical"!==p.direction?a.transform(p.el,m,0,!o&&p.delay):a.transform(p.el,0,m,!o&&p.delay))}))}},{key:"scrollTo",value:function scrollTo(o){var a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=parseInt(s.offset)||0,l=isNaN(parseInt(s.duration))?1e3:parseInt(s.duration),c=s.easing||[.25,0,.35,1],h=!!s.disableLerp,f=!!s.callback&&s.callback;if(c=R.apply(void 0,_toConsumableArray(c)),"string"==typeof o){if("top"===o)o=0;else if("bottom"===o)o=this.instance.limit.y;else if("left"===o)o=0;else if("right"===o)o=this.instance.limit.x;else if(!(o=document.querySelector(o)))return}else if("number"==typeof o)o=parseInt(o);else if(!o||!o.tagName)return void console.warn("`target` parameter is not valid");if("number"!=typeof o){var p=getParents(o).includes(this.el);if(!p)return;var m=o.getBoundingClientRect(),g=m.top,v=m.left,y=getParents(o),_=y.find((function(o){return Object.entries(a.sections).map((function(o){var a=_slicedToArray(o,2);a[0];return a[1]})).find((function(a){return a.el==o}))})),b=0;b=_?getTranslate(_)[this.directionAxis]:-this.instance.scroll[this.directionAxis],u="horizontal"===this.direction?v+u-b:g+u-b}else u=o+u;var T=parseFloat(this.instance.delta[this.directionAxis]),S=Math.max(0,Math.min(u,this.instance.limit[this.directionAxis])),w=S-T,k=function render(o){h?"horizontal"===a.direction?a.setScroll(T+w*o,a.instance.delta.y):a.setScroll(a.instance.delta.x,T+w*o):a.instance.delta[a.directionAxis]=T+w*o};this.animatingScroll=!0,this.stopScrolling(),this.startScrolling();var x=Date.now(),P=function loop(){var o=(Date.now()-x)/l;o>1?(k(1),a.animatingScroll=!1,0==l&&a.update(),f&&f()):(a.scrollToRaf=requestAnimationFrame(loop),k(c(o)))};P()}},{key:"update",value:function update(){this.setScrollLimit(),this.addSections(),this.addElements(),this.detectElements(),this.updateScroll(),this.transformElements(!0),this.reinitScrollBar(),this.checkScroll(!0)}},{key:"startScroll",value:function startScroll(){this.stop=!1}},{key:"stopScroll",value:function stopScroll(){this.stop=!0}},{key:"setScroll",value:function setScroll(o,a){this.instance=_objectSpread2(_objectSpread2({},this.instance),{},{scroll:{x:o,y:a},delta:{x:o,y:a},speed:0})}},{key:"destroy",value:function destroy(){_get(_getPrototypeOf(_default.prototype),"destroy",this).call(this),this.stopScrolling(),this.html.classList.remove(this.smoothClass),this.vs.destroy(),this.destroyScrollBar(),window.removeEventListener("keydown",this.checkKey,!1)}}]),_default}(u),X=function(){function Smooth(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,Smooth),this.options=o,Object.assign(this,s,o),this.smartphone=s.smartphone,o.smartphone&&Object.assign(this.smartphone,o.smartphone),this.tablet=s.tablet,o.tablet&&Object.assign(this.tablet,o.tablet),this.smooth||"horizontal"!=this.direction||console.warn("🚨 `smooth:false` & `horizontal` direction are not yet compatible"),this.tablet.smooth||"horizontal"!=this.tablet.direction||console.warn("🚨 `smooth:false` & `horizontal` direction are not yet compatible (tablet)"),this.smartphone.smooth||"horizontal"!=this.smartphone.direction||console.warn("🚨 `smooth:false` & `horizontal` direction are not yet compatible (smartphone)"),this.init()}return _createClass(Smooth,[{key:"init",value:function init(){if(this.options.isMobile=/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||window.innerWidth<this.tablet.breakpoint,this.options.isTablet=this.options.isMobile&&window.innerWidth>=this.tablet.breakpoint,this.smooth&&!this.options.isMobile||this.tablet.smooth&&this.options.isTablet||this.smartphone.smooth&&this.options.isMobile&&!this.options.isTablet?this.scroll=new G(this.options):this.scroll=new h(this.options),this.scroll.init(),window.location.hash){var o=window.location.hash.slice(1,window.location.hash.length),a=document.getElementById(o);a&&this.scroll.scrollTo(a)}}},{key:"update",value:function update(){this.scroll.update()}},{key:"start",value:function start(){this.scroll.startScroll()}},{key:"stop",value:function stop(){this.scroll.stopScroll()}},{key:"scrollTo",value:function scrollTo(o,a){this.scroll.scrollTo(o,a)}},{key:"setScroll",value:function setScroll(o,a){this.scroll.setScroll(o,a)}},{key:"on",value:function on(o,a){this.scroll.setEvents(o,a)}},{key:"off",value:function off(o,a){this.scroll.unsetEvents(o,a)}},{key:"destroy",value:function destroy(){this.scroll.destroy()}}]),Smooth}();a.a=X}).call(this,s(34))},function(o,a){o.exports=function SafeParseTuple(o,a){var s,u=null;try{s=JSON.parse(o,a)}catch(o){u=o}return[u,s]}},function(o,a,s){var u=s(105),l=s(366);function _construct(a,s,c){return l()?(o.exports=_construct=Reflect.construct,o.exports.default=o.exports,o.exports.__esModule=!0):(o.exports=_construct=function _construct(o,a,s){var l=[null];l.push.apply(l,a);var c=new(Function.bind.apply(o,l));return s&&u(c,s.prototype),c},o.exports.default=o.exports,o.exports.__esModule=!0),_construct.apply(null,arguments)}o.exports=_construct,o.exports.default=o.exports,o.exports.__esModule=!0},function(o,a,s){var u=s(105);o.exports=function _inherits(o,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&u(o,a)},o.exports.default=o.exports,o.exports.__esModule=!0},function(o,a,s){var u=s(145);a.DOMImplementation=u.DOMImplementation,a.XMLSerializer=u.XMLSerializer,a.DOMParser=s(371).DOMParser},function(o,a){var s=Math.pow(2,32);o.exports=function(o){var a=new DataView(o.buffer,o.byteOffset,o.byteLength),u={version:o[0],flags:new Uint8Array(o.subarray(1,4)),references:[],referenceId:a.getUint32(4),timescale:a.getUint32(8)},l=12;0===u.version?(u.earliestPresentationTime=a.getUint32(l),u.firstOffset=a.getUint32(l+4),l+=8):(u.earliestPresentationTime=a.getUint32(l)*s+a.getUint32(l+4),u.firstOffset=a.getUint32(l+8)*s+a.getUint32(l+12),l+=16),l+=2;var c=a.getUint16(l);for(l+=2;c>0;l+=12,c--)u.references.push({referenceType:(128&o[l])>>>7,referencedSize:2147483647&a.getUint32(l),subsegmentDuration:a.getUint32(l+4),startsWithSap:!!(128&o[l+8]),sapType:(112&o[l+8])>>>4,sapDeltaTime:268435455&a.getUint32(l+8)});return u}},function(o,a,s){o.exports=function(){"use strict";var o=document,a=o.createTextNode.bind(o);function setProperty(o,a,s){o.style.setProperty(a,s)}function appendChild(o,a){return o.appendChild(a)}function createElement(a,s,u,l){var c=o.createElement("span");return s&&(c.className=s),u&&(!l&&c.setAttribute("data-"+s,u),c.textContent=u),a&&appendChild(a,c)||c}function getData(o,a){return o.getAttribute("data-"+a)}function $(a,s){return a&&0!=a.length?a.nodeName?[a]:[].slice.call(a[0].nodeName?a:(s||o).querySelectorAll(a)):[]}function Array2D(o){for(var a=[];o--;)a[o]=[];return a}function each(o,a){o&&o.some(a)}function selectFrom(o){return function(a){return o[a]}}function index(o,a,s){var u="--"+a,l=u+"-index";each(s,(function(o,a){Array.isArray(o)?each(o,(function(o){setProperty(o,l,a)})):setProperty(o,l,a)})),setProperty(o,u+"-total",s.length)}var s={};function resolvePlugins(o,a,u){var l=u.indexOf(o);if(-1==l)u.unshift(o),each(s[o].depends,(function(a){resolvePlugins(a,o,u)}));else{var c=u.indexOf(a);u.splice(l,1),u.splice(c,0,o)}return u}function createPlugin(o,a,s,u){return{by:o,depends:a,key:s,split:u}}function resolve(o){return resolvePlugins(o,0,[]).map(selectFrom(s))}function add(o){s[o.by]=o}function splitText(o,s,u,l,c){o.normalize();var h=[],f=document.createDocumentFragment();l&&h.push(o.previousSibling);var p=[];return $(o.childNodes).some((function(o){if(!o.tagName||o.hasChildNodes()){if(o.childNodes&&o.childNodes.length)return p.push(o),void h.push.apply(h,splitText(o,s,u,l,c));var m=o.wholeText||"",g=m.trim();g.length&&(" "===m[0]&&p.push(a(" ")),each(g.split(u),(function(o,a){a&&c&&p.push(createElement(f,"whitespace"," ",c));var u=createElement(f,s,o);h.push(u),p.push(u)}))," "===m[m.length-1]&&p.push(a(" ")))}else p.push(o)})),each(p,(function(o){appendChild(f,o)})),o.innerHTML="",appendChild(o,f),h}var u=0;function copy(o,a){for(var s in a)o[s]=a[s];return o}var l="words",c=createPlugin(l,u,"word",(function(o){return splitText(o,"word",/\s+/,0,1)})),h="chars",f=createPlugin(h,[l],"char",(function(o,a,s){var u=[];return each(s[l],(function(o,s){u.push.apply(u,splitText(o,"char","",a.whitespace&&s))})),u}));function Splitting(o){var a=(o=o||{}).key;return $(o.target||"[data-splitting]").map((function(s){var u=s["🍌"];if(!o.force&&u)return u;u=s["🍌"]={el:s};var l=resolve(o.by||getData(s,"splitting")||h),c=copy({},o);return each(l,(function(o){if(o.split){var l=o.by,h=(a?"-"+a:"")+o.key,f=o.split(s,c,u);h&&index(s,h,f),u[l]=f,s.classList.add(l)}})),s.classList.add("splitting"),u}))}function html(o){var a=(o=o||{}).target=createElement();return a.innerHTML=o.content,Splitting(o),a.outerHTML}function detectGrid(o,a,s){var u=$(a.matching||o.children,o),l={};return each(u,(function(o){var a=Math.round(o[s]);(l[a]||(l[a]=[])).push(o)})),Object.keys(l).map(Number).sort(byNumber).map(selectFrom(l))}function byNumber(o,a){return o-a}Splitting.html=html,Splitting.add=add;var p=createPlugin("lines",[l],"line",(function(o,a,s){return detectGrid(o,{matching:s[l]},"offsetTop")})),m=createPlugin("items",u,"item",(function(o,a){return $(a.matching||o.children,o)})),g=createPlugin("rows",u,"row",(function(o,a){return detectGrid(o,a,"offsetTop")})),v=createPlugin("cols",u,"col",(function(o,a){return detectGrid(o,a,"offsetLeft")})),y=createPlugin("grid",["rows","cols"]),_="layout",b=createPlugin(_,u,u,(function(o,a){var s=a.rows=+(a.rows||getData(o,"rows")||1),l=a.columns=+(a.columns||getData(o,"columns")||1);if(a.image=a.image||getData(o,"image")||o.currentSrc||o.src,a.image){var c=$("img",o)[0];a.image=c&&(c.currentSrc||c.src)}a.image&&setProperty(o,"background-image","url("+a.image+")");for(var h=s*l,f=[],p=createElement(u,"cell-grid");h--;){var m=createElement(p,"cell");createElement(m,"cell-inner"),f.push(m)}return appendChild(o,p),f})),T=createPlugin("cellRows",[_],"row",(function(o,a,s){var u=a.rows,l=Array2D(u);return each(s[_],(function(o,a,s){l[Math.floor(a/(s.length/u))].push(o)})),l})),S=createPlugin("cellColumns",[_],"col",(function(o,a,s){var u=a.columns,l=Array2D(u);return each(s[_],(function(o,a){l[a%u].push(o)})),l})),w=createPlugin("cells",["cellRows","cellColumns"],"cell",(function(o,a,s){return s[_]}));return add(c),add(f),add(p),add(m),add(g),add(v),add(y),add(b),add(T),add(S),add(w),Splitting}()},function(o,a,s){s(154),o.exports=s(374)},function(o,a,s){"use strict";(function(o){if(s(155),s(352),s(353),o._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");o._babelPolyfill=!0;function define(o,a,s){o[a]||Object.defineProperty(o,a,{writable:!0,configurable:!0,value:s})}define(String.prototype,"padLeft","".padStart),define(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach((function(o){[][o]&&define(Array,o,Function.call.bind([][o]))}))}).call(this,s(34))},function(o,a,s){s(156),s(159),s(160),s(161),s(162),s(163),s(164),s(165),s(166),s(167),s(168),s(169),s(170),s(171),s(172),s(173),s(174),s(175),s(176),s(177),s(178),s(179),s(180),s(181),s(182),s(183),s(184),s(185),s(186),s(187),s(188),s(189),s(190),s(191),s(192),s(193),s(194),s(195),s(196),s(197),s(198),s(199),s(200),s(201),s(202),s(203),s(204),s(205),s(206),s(207),s(208),s(209),s(210),s(211),s(212),s(213),s(214),s(215),s(216),s(217),s(218),s(219),s(220),s(221),s(222),s(223),s(224),s(225),s(226),s(227),s(228),s(229),s(230),s(231),s(232),s(233),s(234),s(236),s(237),s(239),s(240),s(241),s(242),s(243),s(244),s(245),s(247),s(248),s(249),s(250),s(251),s(252),s(253),s(254),s(255),s(256),s(257),s(258),s(259),s(98),s(260),s(128),s(261),s(129),s(262),s(263),s(264),s(265),s(266),s(132),s(134),s(135),s(267),s(268),s(269),s(270),s(271),s(272),s(273),s(274),s(275),s(276),s(277),s(278),s(279),s(280),s(281),s(282),s(283),s(284),s(285),s(286),s(287),s(288),s(289),s(290),s(291),s(292),s(293),s(294),s(295),s(296),s(297),s(298),s(299),s(300),s(301),s(302),s(303),s(304),s(305),s(306),s(307),s(308),s(309),s(310),s(311),s(312),s(313),s(314),s(315),s(316),s(317),s(318),s(319),s(320),s(321),s(322),s(323),s(324),s(325),s(326),s(327),s(328),s(329),s(330),s(331),s(332),s(333),s(334),s(335),s(336),s(337),s(338),s(339),s(340),s(341),s(342),s(343),s(344),s(345),s(346),s(347),s(348),s(349),s(350),s(351),o.exports=s(25)},function(o,a,s){"use strict";var u=s(7),l=s(20),c=s(13),h=s(1),f=s(18),p=s(38).KEY,m=s(8),g=s(55),v=s(51),y=s(41),_=s(11),b=s(110),T=s(79),S=s(158),w=s(63),k=s(6),x=s(9),P=s(15),I=s(21),O=s(30),L=s(40),M=s(44),D=s(113),R=s(22),N=s(62),j=s(14),U=s(42),H=R.f,q=j.f,V=D.f,W=u.Symbol,z=u.JSON,G=z&&z.stringify,X=_("_hidden"),Y=_("toPrimitive"),K={}.propertyIsEnumerable,Q=g("symbol-registry"),J=g("symbols"),Z=g("op-symbols"),ee=Object.prototype,te="function"==typeof W&&!!N.f,ne=u.QObject,re=!ne||!ne.prototype||!ne.prototype.findChild,ie=c&&m((function(){return 7!=M(q({},"a",{get:function(){return q(this,"a",{value:7}).a}})).a}))?function(o,a,s){var u=H(ee,a);u&&delete ee[a],q(o,a,s),u&&o!==ee&&q(ee,a,u)}:q,wrap=function(o){var a=J[o]=M(W.prototype);return a._k=o,a},oe=te&&"symbol"==typeof W.iterator?function(o){return"symbol"==typeof o}:function(o){return o instanceof W},ae=function defineProperty(o,a,s){return o===ee&&ae(Z,a,s),k(o),a=O(a,!0),k(s),l(J,a)?(s.enumerable?(l(o,X)&&o[X][a]&&(o[X][a]=!1),s=M(s,{enumerable:L(0,!1)})):(l(o,X)||q(o,X,L(1,{})),o[X][a]=!0),ie(o,a,s)):q(o,a,s)},se=function defineProperties(o,a){k(o);for(var s,u=S(a=I(a)),l=0,c=u.length;c>l;)ae(o,s=u[l++],a[s]);return o},ue=function propertyIsEnumerable(o){var a=K.call(this,o=O(o,!0));return!(this===ee&&l(J,o)&&!l(Z,o))&&(!(a||!l(this,o)||!l(J,o)||l(this,X)&&this[X][o])||a)},le=function getOwnPropertyDescriptor(o,a){if(o=I(o),a=O(a,!0),o!==ee||!l(J,a)||l(Z,a)){var s=H(o,a);return!s||!l(J,a)||l(o,X)&&o[X][a]||(s.enumerable=!0),s}},ce=function getOwnPropertyNames(o){for(var a,s=V(I(o)),u=[],c=0;s.length>c;)l(J,a=s[c++])||a==X||a==p||u.push(a);return u},de=function getOwnPropertySymbols(o){for(var a,s=o===ee,u=V(s?Z:I(o)),c=[],h=0;u.length>h;)!l(J,a=u[h++])||s&&!l(ee,a)||c.push(J[a]);return c};te||(f((W=function Symbol(){if(this instanceof W)throw TypeError("Symbol is not a constructor!");var o=y(arguments.length>0?arguments[0]:void 0),$set=function(a){this===ee&&$set.call(Z,a),l(this,X)&&l(this[X],o)&&(this[X][o]=!1),ie(this,o,L(1,a))};return c&&re&&ie(ee,o,{configurable:!0,set:$set}),wrap(o)}).prototype,"toString",(function toString(){return this._k})),R.f=le,j.f=ae,s(45).f=D.f=ce,s(57).f=ue,N.f=de,c&&!s(37)&&f(ee,"propertyIsEnumerable",ue,!0),b.f=function(o){return wrap(_(o))}),h(h.G+h.W+h.F*!te,{Symbol:W});for(var he="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),fe=0;he.length>fe;)_(he[fe++]);for(var pe=U(_.store),me=0;pe.length>me;)T(pe[me++]);h(h.S+h.F*!te,"Symbol",{for:function(o){return l(Q,o+="")?Q[o]:Q[o]=W(o)},keyFor:function keyFor(o){if(!oe(o))throw TypeError(o+" is not a symbol!");for(var a in Q)if(Q[a]===o)return a},useSetter:function(){re=!0},useSimple:function(){re=!1}}),h(h.S+h.F*!te,"Object",{create:function create(o,a){return void 0===a?M(o):se(M(o),a)},defineProperty:ae,defineProperties:se,getOwnPropertyDescriptor:le,getOwnPropertyNames:ce,getOwnPropertySymbols:de});var ge=m((function(){N.f(1)}));h(h.S+h.F*ge,"Object",{getOwnPropertySymbols:function getOwnPropertySymbols(o){return N.f(P(o))}}),z&&h(h.S+h.F*(!te||m((function(){var o=W();return"[null]"!=G([o])||"{}"!=G({a:o})||"{}"!=G(Object(o))}))),"JSON",{stringify:function stringify(o){for(var a,s,u=[o],l=1;arguments.length>l;)u.push(arguments[l++]);if(s=a=u[1],(x(a)||void 0!==o)&&!oe(o))return w(a)||(a=function(o,a){if("function"==typeof s&&(a=s.call(this,o,a)),!oe(a))return a}),u[1]=a,G.apply(z,u)}}),W.prototype[Y]||s(17)(W.prototype,Y,W.prototype.valueOf),v(W,"Symbol"),v(Math,"Math",!0),v(u.JSON,"JSON",!0)},function(o,a,s){o.exports=s(55)("native-function-to-string",Function.toString)},function(o,a,s){var u=s(42),l=s(62),c=s(57);o.exports=function(o){var a=u(o),s=l.f;if(s)for(var h,f=s(o),p=c.f,m=0;f.length>m;)p.call(o,h=f[m++])&&a.push(h);return a}},function(o,a,s){var u=s(1);u(u.S,"Object",{create:s(44)})},function(o,a,s){var u=s(1);u(u.S+u.F*!s(13),"Object",{defineProperty:s(14).f})},function(o,a,s){var u=s(1);u(u.S+u.F*!s(13),"Object",{defineProperties:s(112)})},function(o,a,s){var u=s(21),l=s(22).f;s(32)("getOwnPropertyDescriptor",(function(){return function getOwnPropertyDescriptor(o,a){return l(u(o),a)}}))},function(o,a,s){var u=s(15),l=s(23);s(32)("getPrototypeOf",(function(){return function getPrototypeOf(o){return l(u(o))}}))},function(o,a,s){var u=s(15),l=s(42);s(32)("keys",(function(){return function keys(o){return l(u(o))}}))},function(o,a,s){s(32)("getOwnPropertyNames",(function(){return s(113).f}))},function(o,a,s){var u=s(9),l=s(38).onFreeze;s(32)("freeze",(function(o){return function freeze(a){return o&&u(a)?o(l(a)):a}}))},function(o,a,s){var u=s(9),l=s(38).onFreeze;s(32)("seal",(function(o){return function seal(a){return o&&u(a)?o(l(a)):a}}))},function(o,a,s){var u=s(9),l=s(38).onFreeze;s(32)("preventExtensions",(function(o){return function preventExtensions(a){return o&&u(a)?o(l(a)):a}}))},function(o,a,s){var u=s(9);s(32)("isFrozen",(function(o){return function isFrozen(a){return!u(a)||!!o&&o(a)}}))},function(o,a,s){var u=s(9);s(32)("isSealed",(function(o){return function isSealed(a){return!u(a)||!!o&&o(a)}}))},function(o,a,s){var u=s(9);s(32)("isExtensible",(function(o){return function isExtensible(a){return!!u(a)&&(!o||o(a))}}))},function(o,a,s){var u=s(1);u(u.S+u.F,"Object",{assign:s(114)})},function(o,a,s){var u=s(1);u(u.S,"Object",{is:s(115)})},function(o,a,s){var u=s(1);u(u.S,"Object",{setPrototypeOf:s(83).set})},function(o,a,s){"use strict";var u=s(52),l={};l[s(11)("toStringTag")]="z",l+""!="[object z]"&&s(18)(Object.prototype,"toString",(function toString(){return"[object "+u(this)+"]"}),!0)},function(o,a,s){var u=s(1);u(u.P,"Function",{bind:s(116)})},function(o,a,s){var u=s(14).f,l=Function.prototype,c=/^\s*function ([^ (]*)/,h="name";h in l||s(13)&&u(l,h,{configurable:!0,get:function(){try{return(""+this).match(c)[1]}catch(o){return""}}})},function(o,a,s){"use strict";var u=s(9),l=s(23),c=s(11)("hasInstance"),h=Function.prototype;c in h||s(14).f(h,c,{value:function(o){if("function"!=typeof this||!u(o))return!1;if(!u(this.prototype))return o instanceof this;for(;o=l(o);)if(this.prototype===o)return!0;return!1}})},function(o,a,s){var u=s(1),l=s(118);u(u.G+u.F*(parseInt!=l),{parseInt:l})},function(o,a,s){var u=s(1),l=s(119);u(u.G+u.F*(parseFloat!=l),{parseFloat:l})},function(o,a,s){"use strict";var u=s(7),l=s(20),c=s(27),h=s(85),f=s(30),p=s(8),m=s(45).f,g=s(22).f,v=s(14).f,y=s(53).trim,_="Number",b=u.Number,T=b,S=b.prototype,w=c(s(44)(S))==_,k="trim"in String.prototype,toNumber=function(o){var a=f(o,!1);if("string"==typeof a&&a.length>2){var s,u,l,c=(a=k?a.trim():y(a,3)).charCodeAt(0);if(43===c||45===c){if(88===(s=a.charCodeAt(2))||120===s)return NaN}else if(48===c){switch(a.charCodeAt(1)){case 66:case 98:u=2,l=49;break;case 79:case 111:u=8,l=55;break;default:return+a}for(var h,p=a.slice(2),m=0,g=p.length;m<g;m++)if((h=p.charCodeAt(m))<48||h>l)return NaN;return parseInt(p,u)}}return+a};if(!b(" 0o1")||!b("0b1")||b("+0x1")){b=function Number(o){var a=arguments.length<1?0:o,s=this;return s instanceof b&&(w?p((function(){S.valueOf.call(s)})):c(s)!=_)?h(new T(toNumber(a)),s,b):toNumber(a)};for(var x,P=s(13)?m(T):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;P.length>I;I++)l(T,x=P[I])&&!l(b,x)&&v(b,x,g(T,x));b.prototype=S,S.constructor=b,s(18)(u,_,b)}},function(o,a,s){"use strict";var u=s(1),l=s(28),c=s(120),h=s(86),f=1..toFixed,p=Math.floor,m=[0,0,0,0,0,0],g="Number.toFixed: incorrect invocation!",v="0",multiply=function(o,a){for(var s=-1,u=a;++s<6;)u+=o*m[s],m[s]=u%1e7,u=p(u/1e7)},divide=function(o){for(var a=6,s=0;--a>=0;)s+=m[a],m[a]=p(s/o),s=s%o*1e7},numToString=function(){for(var o=6,a="";--o>=0;)if(""!==a||0===o||0!==m[o]){var s=String(m[o]);a=""===a?s:a+h.call(v,7-s.length)+s}return a},pow=function(o,a,s){return 0===a?s:a%2==1?pow(o,a-1,s*o):pow(o*o,a/2,s)};u(u.P+u.F*(!!f&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s(8)((function(){f.call({})}))),"Number",{toFixed:function toFixed(o){var a,s,u,f,p=c(this,g),m=l(o),y="",_=v;if(m<0||m>20)throw RangeError(g);if(p!=p)return"NaN";if(p<=-1e21||p>=1e21)return String(p);if(p<0&&(y="-",p=-p),p>1e-21)if(s=(a=function(o){for(var a=0,s=o;s>=4096;)a+=12,s/=4096;for(;s>=2;)a+=1,s/=2;return a}(p*pow(2,69,1))-69)<0?p*pow(2,-a,1):p/pow(2,a,1),s*=4503599627370496,(a=52-a)>0){for(multiply(0,s),u=m;u>=7;)multiply(1e7,0),u-=7;for(multiply(pow(10,u,1),0),u=a-1;u>=23;)divide(1<<23),u-=23;divide(1<<u),multiply(1,1),divide(2),_=numToString()}else multiply(0,s),multiply(1<<-a,0),_=numToString()+h.call(v,m);return _=m>0?y+((f=_.length)<=m?"0."+h.call(v,m-f)+_:_.slice(0,f-m)+"."+_.slice(f-m)):y+_}})},function(o,a,s){"use strict";var u=s(1),l=s(8),c=s(120),h=1..toPrecision;u(u.P+u.F*(l((function(){return"1"!==h.call(1,void 0)}))||!l((function(){h.call({})}))),"Number",{toPrecision:function toPrecision(o){var a=c(this,"Number#toPrecision: incorrect invocation!");return void 0===o?h.call(a):h.call(a,o)}})},function(o,a,s){var u=s(1);u(u.S,"Number",{EPSILON:Math.pow(2,-52)})},function(o,a,s){var u=s(1),l=s(7).isFinite;u(u.S,"Number",{isFinite:function isFinite(o){return"number"==typeof o&&l(o)}})},function(o,a,s){var u=s(1);u(u.S,"Number",{isInteger:s(121)})},function(o,a,s){var u=s(1);u(u.S,"Number",{isNaN:function isNaN(o){return o!=o}})},function(o,a,s){var u=s(1),l=s(121),c=Math.abs;u(u.S,"Number",{isSafeInteger:function isSafeInteger(o){return l(o)&&c(o)<=9007199254740991}})},function(o,a,s){var u=s(1);u(u.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(o,a,s){var u=s(1);u(u.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(o,a,s){var u=s(1),l=s(119);u(u.S+u.F*(Number.parseFloat!=l),"Number",{parseFloat:l})},function(o,a,s){var u=s(1),l=s(118);u(u.S+u.F*(Number.parseInt!=l),"Number",{parseInt:l})},function(o,a,s){var u=s(1),l=s(122),c=Math.sqrt,h=Math.acosh;u(u.S+u.F*!(h&&710==Math.floor(h(Number.MAX_VALUE))&&h(1/0)==1/0),"Math",{acosh:function acosh(o){return(o=+o)<1?NaN:o>94906265.62425156?Math.log(o)+Math.LN2:l(o-1+c(o-1)*c(o+1))}})},function(o,a,s){var u=s(1),l=Math.asinh;u(u.S+u.F*!(l&&1/l(0)>0),"Math",{asinh:function asinh(o){return isFinite(o=+o)&&0!=o?o<0?-asinh(-o):Math.log(o+Math.sqrt(o*o+1)):o}})},function(o,a,s){var u=s(1),l=Math.atanh;u(u.S+u.F*!(l&&1/l(-0)<0),"Math",{atanh:function atanh(o){return 0==(o=+o)?o:Math.log((1+o)/(1-o))/2}})},function(o,a,s){var u=s(1),l=s(87);u(u.S,"Math",{cbrt:function cbrt(o){return l(o=+o)*Math.pow(Math.abs(o),1/3)}})},function(o,a,s){var u=s(1);u(u.S,"Math",{clz32:function clz32(o){return(o>>>=0)?31-Math.floor(Math.log(o+.5)*Math.LOG2E):32}})},function(o,a,s){var u=s(1),l=Math.exp;u(u.S,"Math",{cosh:function cosh(o){return(l(o=+o)+l(-o))/2}})},function(o,a,s){var u=s(1),l=s(88);u(u.S+u.F*(l!=Math.expm1),"Math",{expm1:l})},function(o,a,s){var u=s(1);u(u.S,"Math",{fround:s(123)})},function(o,a,s){var u=s(1),l=Math.abs;u(u.S,"Math",{hypot:function hypot(o,a){for(var s,u,c=0,h=0,f=arguments.length,p=0;h<f;)p<(s=l(arguments[h++]))?(c=c*(u=p/s)*u+1,p=s):c+=s>0?(u=s/p)*u:s;return p===1/0?1/0:p*Math.sqrt(c)}})},function(o,a,s){var u=s(1),l=Math.imul;u(u.S+u.F*s(8)((function(){return-5!=l(4294967295,5)||2!=l.length})),"Math",{imul:function imul(o,a){var s=65535,u=+o,l=+a,c=s&u,h=s&l;return 0|c*h+((s&u>>>16)*h+c*(s&l>>>16)<<16>>>0)}})},function(o,a,s){var u=s(1);u(u.S,"Math",{log10:function log10(o){return Math.log(o)*Math.LOG10E}})},function(o,a,s){var u=s(1);u(u.S,"Math",{log1p:s(122)})},function(o,a,s){var u=s(1);u(u.S,"Math",{log2:function log2(o){return Math.log(o)/Math.LN2}})},function(o,a,s){var u=s(1);u(u.S,"Math",{sign:s(87)})},function(o,a,s){var u=s(1),l=s(88),c=Math.exp;u(u.S+u.F*s(8)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function sinh(o){return Math.abs(o=+o)<1?(l(o)-l(-o))/2:(c(o-1)-c(-o-1))*(Math.E/2)}})},function(o,a,s){var u=s(1),l=s(88),c=Math.exp;u(u.S,"Math",{tanh:function tanh(o){var a=l(o=+o),s=l(-o);return a==1/0?1:s==1/0?-1:(a-s)/(c(o)+c(-o))}})},function(o,a,s){var u=s(1);u(u.S,"Math",{trunc:function trunc(o){return(o>0?Math.floor:Math.ceil)(o)}})},function(o,a,s){var u=s(1),l=s(43),c=String.fromCharCode,h=String.fromCodePoint;u(u.S+u.F*(!!h&&1!=h.length),"String",{fromCodePoint:function fromCodePoint(o){for(var a,s=[],u=arguments.length,h=0;u>h;){if(a=+arguments[h++],l(a,1114111)!==a)throw RangeError(a+" is not a valid code point");s.push(a<65536?c(a):c(55296+((a-=65536)>>10),a%1024+56320))}return s.join("")}})},function(o,a,s){var u=s(1),l=s(21),c=s(12);u(u.S,"String",{raw:function raw(o){for(var a=l(o.raw),s=c(a.length),u=arguments.length,h=[],f=0;s>f;)h.push(String(a[f++])),f<u&&h.push(String(arguments[f]));return h.join("")}})},function(o,a,s){"use strict";s(53)("trim",(function(o){return function trim(){return o(this,3)}}))},function(o,a,s){"use strict";var u=s(64)(!0);s(89)(String,"String",(function(o){this._t=String(o),this._i=0}),(function(){var o,a=this._t,s=this._i;return s>=a.length?{value:void 0,done:!0}:(o=u(a,s),this._i+=o.length,{value:o,done:!1})}))},function(o,a,s){"use strict";var u=s(1),l=s(64)(!1);u(u.P,"String",{codePointAt:function codePointAt(o){return l(this,o)}})},function(o,a,s){"use strict";var u=s(1),l=s(12),c=s(91),h="endsWith",f="".endsWith;u(u.P+u.F*s(92)(h),"String",{endsWith:function endsWith(o){var a=c(this,o,h),s=arguments.length>1?arguments[1]:void 0,u=l(a.length),p=void 0===s?u:Math.min(l(s),u),m=String(o);return f?f.call(a,m,p):a.slice(p-m.length,p)===m}})},function(o,a,s){"use strict";var u=s(1),l=s(91),c="includes";u(u.P+u.F*s(92)(c),"String",{includes:function includes(o){return!!~l(this,o,c).indexOf(o,arguments.length>1?arguments[1]:void 0)}})},function(o,a,s){var u=s(1);u(u.P,"String",{repeat:s(86)})},function(o,a,s){"use strict";var u=s(1),l=s(12),c=s(91),h="startsWith",f="".startsWith;u(u.P+u.F*s(92)(h),"String",{startsWith:function startsWith(o){var a=c(this,o,h),s=l(Math.min(arguments.length>1?arguments[1]:void 0,a.length)),u=String(o);return f?f.call(a,u,s):a.slice(s,s+u.length)===u}})},function(o,a,s){"use strict";s(19)("anchor",(function(o){return function anchor(a){return o(this,"a","name",a)}}))},function(o,a,s){"use strict";s(19)("big",(function(o){return function big(){return o(this,"big","","")}}))},function(o,a,s){"use strict";s(19)("blink",(function(o){return function blink(){return o(this,"blink","","")}}))},function(o,a,s){"use strict";s(19)("bold",(function(o){return function bold(){return o(this,"b","","")}}))},function(o,a,s){"use strict";s(19)("fixed",(function(o){return function fixed(){return o(this,"tt","","")}}))},function(o,a,s){"use strict";s(19)("fontcolor",(function(o){return function fontcolor(a){return o(this,"font","color",a)}}))},function(o,a,s){"use strict";s(19)("fontsize",(function(o){return function fontsize(a){return o(this,"font","size",a)}}))},function(o,a,s){"use strict";s(19)("italics",(function(o){return function italics(){return o(this,"i","","")}}))},function(o,a,s){"use strict";s(19)("link",(function(o){return function link(a){return o(this,"a","href",a)}}))},function(o,a,s){"use strict";s(19)("small",(function(o){return function small(){return o(this,"small","","")}}))},function(o,a,s){"use strict";s(19)("strike",(function(o){return function strike(){return o(this,"strike","","")}}))},function(o,a,s){"use strict";s(19)("sub",(function(o){return function sub(){return o(this,"sub","","")}}))},function(o,a,s){"use strict";s(19)("sup",(function(o){return function sup(){return o(this,"sup","","")}}))},function(o,a,s){var u=s(1);u(u.S,"Date",{now:function(){return(new Date).getTime()}})},function(o,a,s){"use strict";var u=s(1),l=s(15),c=s(30);u(u.P+u.F*s(8)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function toJSON(o){var a=l(this),s=c(a);return"number"!=typeof s||isFinite(s)?a.toISOString():null}})},function(o,a,s){var u=s(1),l=s(235);u(u.P+u.F*(Date.prototype.toISOString!==l),"Date",{toISOString:l})},function(o,a,s){"use strict";var u=s(8),l=Date.prototype.getTime,c=Date.prototype.toISOString,lz=function(o){return o>9?o:"0"+o};o.exports=u((function(){return"0385-07-25T07:06:39.999Z"!=c.call(new Date(-50000000000001))}))||!u((function(){c.call(new Date(NaN))}))?function toISOString(){if(!isFinite(l.call(this)))throw RangeError("Invalid time value");var o=this,a=o.getUTCFullYear(),s=o.getUTCMilliseconds(),u=a<0?"-":a>9999?"+":"";return u+("00000"+Math.abs(a)).slice(u?-6:-4)+"-"+lz(o.getUTCMonth()+1)+"-"+lz(o.getUTCDate())+"T"+lz(o.getUTCHours())+":"+lz(o.getUTCMinutes())+":"+lz(o.getUTCSeconds())+"."+(s>99?s:"0"+lz(s))+"Z"}:c},function(o,a,s){var u=Date.prototype,l="Invalid Date",c="toString",h=u.toString,f=u.getTime;new Date(NaN)+""!=l&&s(18)(u,c,(function toString(){var o=f.call(this);return o==o?h.call(this):l}))},function(o,a,s){var u=s(11)("toPrimitive"),l=Date.prototype;u in l||s(17)(l,u,s(238))},function(o,a,s){"use strict";var u=s(6),l=s(30),c="number";o.exports=function(o){if("string"!==o&&o!==c&&"default"!==o)throw TypeError("Incorrect hint");return l(u(this),o!=c)}},function(o,a,s){var u=s(1);u(u.S,"Array",{isArray:s(63)})},function(o,a,s){"use strict";var u=s(26),l=s(1),c=s(15),h=s(124),f=s(93),p=s(12),m=s(94),g=s(95);l(l.S+l.F*!s(66)((function(o){Array.from(o)})),"Array",{from:function from(o){var a,s,l,v,y=c(o),_="function"==typeof this?this:Array,b=arguments.length,T=b>1?arguments[1]:void 0,S=void 0!==T,w=0,k=g(y);if(S&&(T=u(T,b>2?arguments[2]:void 0,2)),null==k||_==Array&&f(k))for(s=new _(a=p(y.length));a>w;w++)m(s,w,S?T(y[w],w):y[w]);else for(v=k.call(y),s=new _;!(l=v.next()).done;w++)m(s,w,S?h(v,T,[l.value,w],!0):l.value);return s.length=w,s}})},function(o,a,s){"use strict";var u=s(1),l=s(94);u(u.S+u.F*s(8)((function(){function F(){}return!(Array.of.call(F)instanceof F)})),"Array",{of:function of(){for(var o=0,a=arguments.length,s=new("function"==typeof this?this:Array)(a);a>o;)l(s,o,arguments[o++]);return s.length=a,s}})},function(o,a,s){"use strict";var u=s(1),l=s(21),c=[].join;u(u.P+u.F*(s(56)!=Object||!s(29)(c)),"Array",{join:function join(o){return c.call(l(this),void 0===o?",":o)}})},function(o,a,s){"use strict";var u=s(1),l=s(82),c=s(27),h=s(43),f=s(12),p=[].slice;u(u.P+u.F*s(8)((function(){l&&p.call(l)})),"Array",{slice:function slice(o,a){var s=f(this.length),u=c(this);if(a=void 0===a?s:a,"Array"==u)return p.call(this,o,a);for(var l=h(o,s),m=h(a,s),g=f(m-l),v=new Array(g),y=0;y<g;y++)v[y]="String"==u?this.charAt(l+y):this[l+y];return v}})},function(o,a,s){"use strict";var u=s(1),l=s(16),c=s(15),h=s(8),f=[].sort,p=[1,2,3];u(u.P+u.F*(h((function(){p.sort(void 0)}))||!h((function(){p.sort(null)}))||!s(29)(f)),"Array",{sort:function sort(o){return void 0===o?f.call(c(this)):f.call(c(this),l(o))}})},function(o,a,s){"use strict";var u=s(1),l=s(33)(0),c=s(29)([].forEach,!0);u(u.P+u.F*!c,"Array",{forEach:function forEach(o){return l(this,o,arguments[1])}})},function(o,a,s){var u=s(9),l=s(63),c=s(11)("species");o.exports=function(o){var a;return l(o)&&("function"!=typeof(a=o.constructor)||a!==Array&&!l(a.prototype)||(a=void 0),u(a)&&null===(a=a[c])&&(a=void 0)),void 0===a?Array:a}},function(o,a,s){"use strict";var u=s(1),l=s(33)(1);u(u.P+u.F*!s(29)([].map,!0),"Array",{map:function map(o){return l(this,o,arguments[1])}})},function(o,a,s){"use strict";var u=s(1),l=s(33)(2);u(u.P+u.F*!s(29)([].filter,!0),"Array",{filter:function filter(o){return l(this,o,arguments[1])}})},function(o,a,s){"use strict";var u=s(1),l=s(33)(3);u(u.P+u.F*!s(29)([].some,!0),"Array",{some:function some(o){return l(this,o,arguments[1])}})},function(o,a,s){"use strict";var u=s(1),l=s(33)(4);u(u.P+u.F*!s(29)([].every,!0),"Array",{every:function every(o){return l(this,o,arguments[1])}})},function(o,a,s){"use strict";var u=s(1),l=s(125);u(u.P+u.F*!s(29)([].reduce,!0),"Array",{reduce:function reduce(o){return l(this,o,arguments.length,arguments[1],!1)}})},function(o,a,s){"use strict";var u=s(1),l=s(125);u(u.P+u.F*!s(29)([].reduceRight,!0),"Array",{reduceRight:function reduceRight(o){return l(this,o,arguments.length,arguments[1],!0)}})},function(o,a,s){"use strict";var u=s(1),l=s(61)(!1),c=[].indexOf,h=!!c&&1/[1].indexOf(1,-0)<0;u(u.P+u.F*(h||!s(29)(c)),"Array",{indexOf:function indexOf(o){return h?c.apply(this,arguments)||0:l(this,o,arguments[1])}})},function(o,a,s){"use strict";var u=s(1),l=s(21),c=s(28),h=s(12),f=[].lastIndexOf,p=!!f&&1/[1].lastIndexOf(1,-0)<0;u(u.P+u.F*(p||!s(29)(f)),"Array",{lastIndexOf:function lastIndexOf(o){if(p)return f.apply(this,arguments)||0;var a=l(this),s=h(a.length),u=s-1;for(arguments.length>1&&(u=Math.min(u,c(arguments[1]))),u<0&&(u=s+u);u>=0;u--)if(u in a&&a[u]===o)return u||0;return-1}})},function(o,a,s){var u=s(1);u(u.P,"Array",{copyWithin:s(126)}),s(39)("copyWithin")},function(o,a,s){var u=s(1);u(u.P,"Array",{fill:s(97)}),s(39)("fill")},function(o,a,s){"use strict";var u=s(1),l=s(33)(5),c="find",h=!0;c in[]&&Array(1).find((function(){h=!1})),u(u.P+u.F*h,"Array",{find:function find(o){return l(this,o,arguments.length>1?arguments[1]:void 0)}}),s(39)(c)},function(o,a,s){"use strict";var u=s(1),l=s(33)(6),c="findIndex",h=!0;c in[]&&Array(1)[c]((function(){h=!1})),u(u.P+u.F*h,"Array",{findIndex:function findIndex(o){return l(this,o,arguments.length>1?arguments[1]:void 0)}}),s(39)(c)},function(o,a,s){s(46)("Array")},function(o,a,s){var u=s(7),l=s(85),c=s(14).f,h=s(45).f,f=s(65),p=s(58),m=u.RegExp,g=m,v=m.prototype,y=/a/g,_=/a/g,b=new m(y)!==y;if(s(13)&&(!b||s(8)((function(){return _[s(11)("match")]=!1,m(y)!=y||m(_)==_||"/a/i"!=m(y,"i")})))){m=function RegExp(o,a){var s=this instanceof m,u=f(o),c=void 0===a;return!s&&u&&o.constructor===m&&c?o:l(b?new g(u&&!c?o.source:o,a):g((u=o instanceof m)?o.source:o,u&&c?p.call(o):a),s?this:v,m)};for(var proxy=function(o){o in m||c(m,o,{configurable:!0,get:function(){return g[o]},set:function(a){g[o]=a}})},T=h(g),S=0;T.length>S;)proxy(T[S++]);v.constructor=m,m.prototype=v,s(18)(u,"RegExp",m)}s(46)("RegExp")},function(o,a,s){"use strict";s(129);var u=s(6),l=s(58),c=s(13),h="toString",f=/./.toString,define=function(o){s(18)(RegExp.prototype,h,o,!0)};s(8)((function(){return"/a/b"!=f.call({source:"a",flags:"b"})}))?define((function toString(){var o=u(this);return"/".concat(o.source,"/","flags"in o?o.flags:!c&&o instanceof RegExp?l.call(o):void 0)})):f.name!=h&&define((function toString(){return f.call(this)}))},function(o,a,s){"use strict";var u=s(6),l=s(12),c=s(100),h=s(67);s(68)("match",1,(function(o,a,s,f){return[function match(s){var u=o(this),l=null==s?void 0:s[a];return void 0!==l?l.call(s,u):new RegExp(s)[a](String(u))},function(o){var a=f(s,o,this);if(a.done)return a.value;var p=u(o),m=String(this);if(!p.global)return h(p,m);var g=p.unicode;p.lastIndex=0;for(var v,y=[],_=0;null!==(v=h(p,m));){var b=String(v[0]);y[_]=b,""===b&&(p.lastIndex=c(m,l(p.lastIndex),g)),_++}return 0===_?null:y}]}))},function(o,a,s){"use strict";var u=s(6),l=s(15),c=s(12),h=s(28),f=s(100),p=s(67),m=Math.max,g=Math.min,v=Math.floor,y=/\$([$&`']|\d\d?|<[^>]*>)/g,_=/\$([$&`']|\d\d?)/g;s(68)("replace",2,(function(o,a,s,b){return[function replace(u,l){var c=o(this),h=null==u?void 0:u[a];return void 0!==h?h.call(u,c,l):s.call(String(c),u,l)},function(o,a){var l=b(s,o,this,a);if(l.done)return l.value;var v=u(o),y=String(this),_="function"==typeof a;_||(a=String(a));var T=v.global;if(T){var S=v.unicode;v.lastIndex=0}for(var w=[];;){var k=p(v,y);if(null===k)break;if(w.push(k),!T)break;""===String(k[0])&&(v.lastIndex=f(y,c(v.lastIndex),S))}for(var x,P="",I=0,O=0;O<w.length;O++){k=w[O];for(var L=String(k[0]),M=m(g(h(k.index),y.length),0),D=[],R=1;R<k.length;R++)D.push(void 0===(x=k[R])?x:String(x));var N=k.groups;if(_){var j=[L].concat(D,M,y);void 0!==N&&j.push(N);var U=String(a.apply(void 0,j))}else U=getSubstitution(L,y,M,D,N,a);M>=I&&(P+=y.slice(I,M)+U,I=M+L.length)}return P+y.slice(I)}];function getSubstitution(o,a,u,c,h,f){var p=u+o.length,m=c.length,g=_;return void 0!==h&&(h=l(h),g=y),s.call(f,g,(function(s,l){var f;switch(l.charAt(0)){case"$":return"$";case"&":return o;case"`":return a.slice(0,u);case"'":return a.slice(p);case"<":f=h[l.slice(1,-1)];break;default:var g=+l;if(0===g)return s;if(g>m){var y=v(g/10);return 0===y?s:y<=m?void 0===c[y-1]?l.charAt(1):c[y-1]+l.charAt(1):s}f=c[g-1]}return void 0===f?"":f}))}}))},function(o,a,s){"use strict";var u=s(6),l=s(115),c=s(67);s(68)("search",1,(function(o,a,s,h){return[function search(s){var u=o(this),l=null==s?void 0:s[a];return void 0!==l?l.call(s,u):new RegExp(s)[a](String(u))},function(o){var a=h(s,o,this);if(a.done)return a.value;var f=u(o),p=String(this),m=f.lastIndex;l(m,0)||(f.lastIndex=0);var g=c(f,p);return l(f.lastIndex,m)||(f.lastIndex=m),null===g?-1:g.index}]}))},function(o,a,s){"use strict";var u=s(65),l=s(6),c=s(59),h=s(100),f=s(12),p=s(67),m=s(99),g=s(8),v=Math.min,y=[].push,_=4294967295,b=!g((function(){RegExp(_,"y")}));s(68)("split",2,(function(o,a,s,g){var T;return T="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(o,a){var l=String(this);if(void 0===o&&0===a)return[];if(!u(o))return s.call(l,o,a);for(var c,h,f,p=[],g=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(o.sticky?"y":""),v=0,b=void 0===a?_:a>>>0,T=new RegExp(o.source,g+"g");(c=m.call(T,l))&&!((h=T.lastIndex)>v&&(p.push(l.slice(v,c.index)),c.length>1&&c.index<l.length&&y.apply(p,c.slice(1)),f=c[0].length,v=h,p.length>=b));)T.lastIndex===c.index&&T.lastIndex++;return v===l.length?!f&&T.test("")||p.push(""):p.push(l.slice(v)),p.length>b?p.slice(0,b):p}:"0".split(void 0,0).length?function(o,a){return void 0===o&&0===a?[]:s.call(this,o,a)}:s,[function split(s,u){var l=o(this),c=null==s?void 0:s[a];return void 0!==c?c.call(s,l,u):T.call(String(l),s,u)},function(o,a){var u=g(T,o,this,a,T!==s);if(u.done)return u.value;var m=l(o),y=String(this),S=c(m,RegExp),w=m.unicode,k=(m.ignoreCase?"i":"")+(m.multiline?"m":"")+(m.unicode?"u":"")+(b?"y":"g"),x=new S(b?m:"^(?:"+m.source+")",k),P=void 0===a?_:a>>>0;if(0===P)return[];if(0===y.length)return null===p(x,y)?[y]:[];for(var I=0,O=0,L=[];O<y.length;){x.lastIndex=b?O:0;var M,D=p(x,b?y:y.slice(O));if(null===D||(M=v(f(x.lastIndex+(b?0:O)),y.length))===I)O=h(y,O,w);else{if(L.push(y.slice(I,O)),L.length===P)return L;for(var R=1;R<=D.length-1;R++)if(L.push(D[R]),L.length===P)return L;O=I=M}}return L.push(y.slice(I)),L}]}))},function(o,a,s){"use strict";var u,l,c,h,f=s(37),p=s(7),m=s(26),g=s(52),v=s(1),y=s(9),_=s(16),b=s(47),T=s(48),S=s(59),w=s(101).set,k=s(102)(),x=s(103),P=s(130),I=s(69),O=s(131),L="Promise",M=p.TypeError,D=p.process,R=D&&D.versions,N=R&&R.v8||"",j=p.Promise,U="process"==g(D),empty=function(){},H=l=x.f,q=!!function(){try{var o=j.resolve(1),a=(o.constructor={})[s(11)("species")]=function(o){o(empty,empty)};return(U||"function"==typeof PromiseRejectionEvent)&&o.then(empty)instanceof a&&0!==N.indexOf("6.6")&&-1===I.indexOf("Chrome/66")}catch(o){}}(),isThenable=function(o){var a;return!(!y(o)||"function"!=typeof(a=o.then))&&a},notify=function(o,a){if(!o._n){o._n=!0;var s=o._c;k((function(){for(var u=o._v,l=1==o._s,c=0,run=function(a){var s,c,h,f=l?a.ok:a.fail,p=a.resolve,m=a.reject,g=a.domain;try{f?(l||(2==o._h&&onHandleUnhandled(o),o._h=1),!0===f?s=u:(g&&g.enter(),s=f(u),g&&(g.exit(),h=!0)),s===a.promise?m(M("Promise-chain cycle")):(c=isThenable(s))?c.call(s,p,m):p(s)):m(u)}catch(o){g&&!h&&g.exit(),m(o)}};s.length>c;)run(s[c++]);o._c=[],o._n=!1,a&&!o._h&&onUnhandled(o)}))}},onUnhandled=function(o){w.call(p,(function(){var a,s,u,l=o._v,c=isUnhandled(o);if(c&&(a=P((function(){U?D.emit("unhandledRejection",l,o):(s=p.onunhandledrejection)?s({promise:o,reason:l}):(u=p.console)&&u.error&&u.error("Unhandled promise rejection",l)})),o._h=U||isUnhandled(o)?2:1),o._a=void 0,c&&a.e)throw a.v}))},isUnhandled=function(o){return 1!==o._h&&0===(o._a||o._c).length},onHandleUnhandled=function(o){w.call(p,(function(){var a;U?D.emit("rejectionHandled",o):(a=p.onrejectionhandled)&&a({promise:o,reason:o._v})}))},$reject=function(o){var a=this;a._d||(a._d=!0,(a=a._w||a)._v=o,a._s=2,a._a||(a._a=a._c.slice()),notify(a,!0))},$resolve=function(o){var a,s=this;if(!s._d){s._d=!0,s=s._w||s;try{if(s===o)throw M("Promise can't be resolved itself");(a=isThenable(o))?k((function(){var u={_w:s,_d:!1};try{a.call(o,m($resolve,u,1),m($reject,u,1))}catch(o){$reject.call(u,o)}})):(s._v=o,s._s=1,notify(s,!1))}catch(o){$reject.call({_w:s,_d:!1},o)}}};q||(j=function Promise(o){b(this,j,L,"_h"),_(o),u.call(this);try{o(m($resolve,this,1),m($reject,this,1))}catch(o){$reject.call(this,o)}},(u=function Promise(o){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=s(49)(j.prototype,{then:function then(o,a){var s=H(S(this,j));return s.ok="function"!=typeof o||o,s.fail="function"==typeof a&&a,s.domain=U?D.domain:void 0,this._c.push(s),this._a&&this._a.push(s),this._s&&notify(this,!1),s.promise},catch:function(o){return this.then(void 0,o)}}),c=function(){var o=new u;this.promise=o,this.resolve=m($resolve,o,1),this.reject=m($reject,o,1)},x.f=H=function(o){return o===j||o===h?new c(o):l(o)}),v(v.G+v.W+v.F*!q,{Promise:j}),s(51)(j,L),s(46)(L),h=s(25).Promise,v(v.S+v.F*!q,L,{reject:function reject(o){var a=H(this);return(0,a.reject)(o),a.promise}}),v(v.S+v.F*(f||!q),L,{resolve:function resolve(o){return O(f&&this===h?j:this,o)}}),v(v.S+v.F*!(q&&s(66)((function(o){j.all(o).catch(empty)}))),L,{all:function all(o){var a=this,s=H(a),u=s.resolve,l=s.reject,c=P((function(){var s=[],c=0,h=1;T(o,!1,(function(o){var f=c++,p=!1;s.push(void 0),h++,a.resolve(o).then((function(o){p||(p=!0,s[f]=o,--h||u(s))}),l)})),--h||u(s)}));return c.e&&l(c.v),s.promise},race:function race(o){var a=this,s=H(a),u=s.reject,l=P((function(){T(o,!1,(function(o){a.resolve(o).then(s.resolve,u)}))}));return l.e&&u(l.v),s.promise}})},function(o,a,s){"use strict";var u=s(136),l=s(50),c="WeakSet";s(70)(c,(function(o){return function WeakSet(){return o(this,arguments.length>0?arguments[0]:void 0)}}),{add:function add(o){return u.def(l(this,c),o,!0)}},u,!1,!0)},function(o,a,s){"use strict";var u=s(1),l=s(71),c=s(104),h=s(6),f=s(43),p=s(12),m=s(9),g=s(7).ArrayBuffer,v=s(59),y=c.ArrayBuffer,_=c.DataView,b=l.ABV&&g.isView,T=y.prototype.slice,S=l.VIEW,w="ArrayBuffer";u(u.G+u.W+u.F*(g!==y),{ArrayBuffer:y}),u(u.S+u.F*!l.CONSTR,w,{isView:function isView(o){return b&&b(o)||m(o)&&S in o}}),u(u.P+u.U+u.F*s(8)((function(){return!new y(2).slice(1,void 0).byteLength})),w,{slice:function slice(o,a){if(void 0!==T&&void 0===a)return T.call(h(this),o);for(var s=h(this).byteLength,u=f(o,s),l=f(void 0===a?s:a,s),c=new(v(this,y))(p(l-u)),m=new _(this),g=new _(c),b=0;u<l;)g.setUint8(b++,m.getUint8(u++));return c}}),s(46)(w)},function(o,a,s){var u=s(1);u(u.G+u.W+u.F*!s(71).ABV,{DataView:s(104).DataView})},function(o,a,s){s(35)("Int8",1,(function(o){return function Int8Array(a,s,u){return o(this,a,s,u)}}))},function(o,a,s){s(35)("Uint8",1,(function(o){return function Uint8Array(a,s,u){return o(this,a,s,u)}}))},function(o,a,s){s(35)("Uint8",1,(function(o){return function Uint8ClampedArray(a,s,u){return o(this,a,s,u)}}),!0)},function(o,a,s){s(35)("Int16",2,(function(o){return function Int16Array(a,s,u){return o(this,a,s,u)}}))},function(o,a,s){s(35)("Uint16",2,(function(o){return function Uint16Array(a,s,u){return o(this,a,s,u)}}))},function(o,a,s){s(35)("Int32",4,(function(o){return function Int32Array(a,s,u){return o(this,a,s,u)}}))},function(o,a,s){s(35)("Uint32",4,(function(o){return function Uint32Array(a,s,u){return o(this,a,s,u)}}))},function(o,a,s){s(35)("Float32",4,(function(o){return function Float32Array(a,s,u){return o(this,a,s,u)}}))},function(o,a,s){s(35)("Float64",8,(function(o){return function Float64Array(a,s,u){return o(this,a,s,u)}}))},function(o,a,s){var u=s(1),l=s(16),c=s(6),h=(s(7).Reflect||{}).apply,f=Function.apply;u(u.S+u.F*!s(8)((function(){h((function(){}))})),"Reflect",{apply:function apply(o,a,s){var u=l(o),p=c(s);return h?h(u,a,p):f.call(u,a,p)}})},function(o,a,s){var u=s(1),l=s(44),c=s(16),h=s(6),f=s(9),p=s(8),m=s(116),g=(s(7).Reflect||{}).construct,v=p((function(){function F(){}return!(g((function(){}),[],F)instanceof F)})),y=!p((function(){g((function(){}))}));u(u.S+u.F*(v||y),"Reflect",{construct:function construct(o,a){c(o),h(a);var s=arguments.length<3?o:c(arguments[2]);if(y&&!v)return g(o,a,s);if(o==s){switch(a.length){case 0:return new o;case 1:return new o(a[0]);case 2:return new o(a[0],a[1]);case 3:return new o(a[0],a[1],a[2]);case 4:return new o(a[0],a[1],a[2],a[3])}var u=[null];return u.push.apply(u,a),new(m.apply(o,u))}var p=s.prototype,_=l(f(p)?p:Object.prototype),b=Function.apply.call(o,_,a);return f(b)?b:_}})},function(o,a,s){var u=s(14),l=s(1),c=s(6),h=s(30);l(l.S+l.F*s(8)((function(){Reflect.defineProperty(u.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function defineProperty(o,a,s){c(o),a=h(a,!0),c(s);try{return u.f(o,a,s),!0}catch(o){return!1}}})},function(o,a,s){var u=s(1),l=s(22).f,c=s(6);u(u.S,"Reflect",{deleteProperty:function deleteProperty(o,a){var s=l(c(o),a);return!(s&&!s.configurable)&&delete o[a]}})},function(o,a,s){"use strict";var u=s(1),l=s(6),Enumerate=function(o){this._t=l(o),this._i=0;var a,s=this._k=[];for(a in o)s.push(a)};s(90)(Enumerate,"Object",(function(){var o,a=this,s=a._k;do{if(a._i>=s.length)return{value:void 0,done:!0}}while(!((o=s[a._i++])in a._t));return{value:o,done:!1}})),u(u.S,"Reflect",{enumerate:function enumerate(o){return new Enumerate(o)}})},function(o,a,s){var u=s(22),l=s(23),c=s(20),h=s(1),f=s(9),p=s(6);h(h.S,"Reflect",{get:function get(o,a){var s,h,m=arguments.length<3?o:arguments[2];return p(o)===m?o[a]:(s=u.f(o,a))?c(s,"value")?s.value:void 0!==s.get?s.get.call(m):void 0:f(h=l(o))?get(h,a,m):void 0}})},function(o,a,s){var u=s(22),l=s(1),c=s(6);l(l.S,"Reflect",{getOwnPropertyDescriptor:function getOwnPropertyDescriptor(o,a){return u.f(c(o),a)}})},function(o,a,s){var u=s(1),l=s(23),c=s(6);u(u.S,"Reflect",{getPrototypeOf:function getPrototypeOf(o){return l(c(o))}})},function(o,a,s){var u=s(1);u(u.S,"Reflect",{has:function has(o,a){return a in o}})},function(o,a,s){var u=s(1),l=s(6),c=Object.isExtensible;u(u.S,"Reflect",{isExtensible:function isExtensible(o){return l(o),!c||c(o)}})},function(o,a,s){var u=s(1);u(u.S,"Reflect",{ownKeys:s(138)})},function(o,a,s){var u=s(1),l=s(6),c=Object.preventExtensions;u(u.S,"Reflect",{preventExtensions:function preventExtensions(o){l(o);try{return c&&c(o),!0}catch(o){return!1}}})},function(o,a,s){var u=s(14),l=s(22),c=s(23),h=s(20),f=s(1),p=s(40),m=s(6),g=s(9);f(f.S,"Reflect",{set:function set(o,a,s){var f,v,y=arguments.length<4?o:arguments[3],_=l.f(m(o),a);if(!_){if(g(v=c(o)))return set(v,a,s,y);_=p(0)}if(h(_,"value")){if(!1===_.writable||!g(y))return!1;if(f=l.f(y,a)){if(f.get||f.set||!1===f.writable)return!1;f.value=s,u.f(y,a,f)}else u.f(y,a,p(0,s));return!0}return void 0!==_.set&&(_.set.call(y,s),!0)}})},function(o,a,s){var u=s(1),l=s(83);l&&u(u.S,"Reflect",{setPrototypeOf:function setPrototypeOf(o,a){l.check(o,a);try{return l.set(o,a),!0}catch(o){return!1}}})},function(o,a,s){"use strict";var u=s(1),l=s(61)(!0);u(u.P,"Array",{includes:function includes(o){return l(this,o,arguments.length>1?arguments[1]:void 0)}}),s(39)("includes")},function(o,a,s){"use strict";var u=s(1),l=s(139),c=s(15),h=s(12),f=s(16),p=s(96);u(u.P,"Array",{flatMap:function flatMap(o){var a,s,u=c(this);return f(o),a=h(u.length),s=p(u,0),l(s,u,u,a,0,1,o,arguments[1]),s}}),s(39)("flatMap")},function(o,a,s){"use strict";var u=s(1),l=s(139),c=s(15),h=s(12),f=s(28),p=s(96);u(u.P,"Array",{flatten:function flatten(){var o=arguments[0],a=c(this),s=h(a.length),u=p(a,0);return l(u,a,a,s,0,void 0===o?1:f(o)),u}}),s(39)("flatten")},function(o,a,s){"use strict";var u=s(1),l=s(64)(!0),c=s(8)((function(){return"𠮷"!=="𠮷".at(0)}));u(u.P+u.F*c,"String",{at:function at(o){return l(this,o)}})},function(o,a,s){"use strict";var u=s(1),l=s(140),c=s(69),h=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(c);u(u.P+u.F*h,"String",{padStart:function padStart(o){return l(this,o,arguments.length>1?arguments[1]:void 0,!0)}})},function(o,a,s){"use strict";var u=s(1),l=s(140),c=s(69),h=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(c);u(u.P+u.F*h,"String",{padEnd:function padEnd(o){return l(this,o,arguments.length>1?arguments[1]:void 0,!1)}})},function(o,a,s){"use strict";s(53)("trimLeft",(function(o){return function trimLeft(){return o(this,1)}}),"trimStart")},function(o,a,s){"use strict";s(53)("trimRight",(function(o){return function trimRight(){return o(this,2)}}),"trimEnd")},function(o,a,s){"use strict";var u=s(1),l=s(31),c=s(12),h=s(65),f=s(58),p=RegExp.prototype,$RegExpStringIterator=function(o,a){this._r=o,this._s=a};s(90)($RegExpStringIterator,"RegExp String",(function next(){var o=this._r.exec(this._s);return{value:o,done:null===o}})),u(u.P,"String",{matchAll:function matchAll(o){if(l(this),!h(o))throw TypeError(o+" is not a regexp!");var a=String(this),s="flags"in p?String(o.flags):f.call(o),u=new RegExp(o.source,~s.indexOf("g")?s:"g"+s);return u.lastIndex=c(o.lastIndex),new $RegExpStringIterator(u,a)}})},function(o,a,s){s(79)("asyncIterator")},function(o,a,s){s(79)("observable")},function(o,a,s){var u=s(1),l=s(138),c=s(21),h=s(22),f=s(94);u(u.S,"Object",{getOwnPropertyDescriptors:function getOwnPropertyDescriptors(o){for(var a,s,u=c(o),p=h.f,m=l(u),g={},v=0;m.length>v;)void 0!==(s=p(u,a=m[v++]))&&f(g,a,s);return g}})},function(o,a,s){var u=s(1),l=s(141)(!1);u(u.S,"Object",{values:function values(o){return l(o)}})},function(o,a,s){var u=s(1),l=s(141)(!0);u(u.S,"Object",{entries:function entries(o){return l(o)}})},function(o,a,s){"use strict";var u=s(1),l=s(15),c=s(16),h=s(14);s(13)&&u(u.P+s(72),"Object",{__defineGetter__:function __defineGetter__(o,a){h.f(l(this),o,{get:c(a),enumerable:!0,configurable:!0})}})},function(o,a,s){"use strict";var u=s(1),l=s(15),c=s(16),h=s(14);s(13)&&u(u.P+s(72),"Object",{__defineSetter__:function __defineSetter__(o,a){h.f(l(this),o,{set:c(a),enumerable:!0,configurable:!0})}})},function(o,a,s){"use strict";var u=s(1),l=s(15),c=s(30),h=s(23),f=s(22).f;s(13)&&u(u.P+s(72),"Object",{__lookupGetter__:function __lookupGetter__(o){var a,s=l(this),u=c(o,!0);do{if(a=f(s,u))return a.get}while(s=h(s))}})},function(o,a,s){"use strict";var u=s(1),l=s(15),c=s(30),h=s(23),f=s(22).f;s(13)&&u(u.P+s(72),"Object",{__lookupSetter__:function __lookupSetter__(o){var a,s=l(this),u=c(o,!0);do{if(a=f(s,u))return a.set}while(s=h(s))}})},function(o,a,s){var u=s(1);u(u.P+u.R,"Map",{toJSON:s(142)("Map")})},function(o,a,s){var u=s(1);u(u.P+u.R,"Set",{toJSON:s(142)("Set")})},function(o,a,s){s(73)("Map")},function(o,a,s){s(73)("Set")},function(o,a,s){s(73)("WeakMap")},function(o,a,s){s(73)("WeakSet")},function(o,a,s){s(74)("Map")},function(o,a,s){s(74)("Set")},function(o,a,s){s(74)("WeakMap")},function(o,a,s){s(74)("WeakSet")},function(o,a,s){var u=s(1);u(u.G,{global:s(7)})},function(o,a,s){var u=s(1);u(u.S,"System",{global:s(7)})},function(o,a,s){var u=s(1),l=s(27);u(u.S,"Error",{isError:function isError(o){return"Error"===l(o)}})},function(o,a,s){var u=s(1);u(u.S,"Math",{clamp:function clamp(o,a,s){return Math.min(s,Math.max(a,o))}})},function(o,a,s){var u=s(1);u(u.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(o,a,s){var u=s(1),l=180/Math.PI;u(u.S,"Math",{degrees:function degrees(o){return o*l}})},function(o,a,s){var u=s(1),l=s(144),c=s(123);u(u.S,"Math",{fscale:function fscale(o,a,s,u,h){return c(l(o,a,s,u,h))}})},function(o,a,s){var u=s(1);u(u.S,"Math",{iaddh:function iaddh(o,a,s,u){var l=o>>>0,c=s>>>0;return(a>>>0)+(u>>>0)+((l&c|(l|c)&~(l+c>>>0))>>>31)|0}})},function(o,a,s){var u=s(1);u(u.S,"Math",{isubh:function isubh(o,a,s,u){var l=o>>>0,c=s>>>0;return(a>>>0)-(u>>>0)-((~l&c|~(l^c)&l-c>>>0)>>>31)|0}})},function(o,a,s){var u=s(1);u(u.S,"Math",{imulh:function imulh(o,a){var s=65535,u=+o,l=+a,c=u&s,h=l&s,f=u>>16,p=l>>16,m=(f*h>>>0)+(c*h>>>16);return f*p+(m>>16)+((c*p>>>0)+(m&s)>>16)}})},function(o,a,s){var u=s(1);u(u.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(o,a,s){var u=s(1),l=Math.PI/180;u(u.S,"Math",{radians:function radians(o){return o*l}})},function(o,a,s){var u=s(1);u(u.S,"Math",{scale:s(144)})},function(o,a,s){var u=s(1);u(u.S,"Math",{umulh:function umulh(o,a){var s=65535,u=+o,l=+a,c=u&s,h=l&s,f=u>>>16,p=l>>>16,m=(f*h>>>0)+(c*h>>>16);return f*p+(m>>>16)+((c*p>>>0)+(m&s)>>>16)}})},function(o,a,s){var u=s(1);u(u.S,"Math",{signbit:function signbit(o){return(o=+o)!=o?o:0==o?1/o==1/0:o>0}})},function(o,a,s){"use strict";var u=s(1),l=s(25),c=s(7),h=s(59),f=s(131);u(u.P+u.R,"Promise",{finally:function(o){var a=h(this,l.Promise||c.Promise),s="function"==typeof o;return this.then(s?function(s){return f(a,o()).then((function(){return s}))}:o,s?function(s){return f(a,o()).then((function(){throw s}))}:o)}})},function(o,a,s){"use strict";var u=s(1),l=s(103),c=s(130);u(u.S,"Promise",{try:function(o){var a=l.f(this),s=c(o);return(s.e?a.reject:a.resolve)(s.v),a.promise}})},function(o,a,s){var u=s(36),l=s(6),c=u.key,h=u.set;u.exp({defineMetadata:function defineMetadata(o,a,s,u){h(o,a,l(s),c(u))}})},function(o,a,s){var u=s(36),l=s(6),c=u.key,h=u.map,f=u.store;u.exp({deleteMetadata:function deleteMetadata(o,a){var s=arguments.length<3?void 0:c(arguments[2]),u=h(l(a),s,!1);if(void 0===u||!u.delete(o))return!1;if(u.size)return!0;var p=f.get(a);return p.delete(s),!!p.size||f.delete(a)}})},function(o,a,s){var u=s(36),l=s(6),c=s(23),h=u.has,f=u.get,p=u.key,ordinaryGetMetadata=function(o,a,s){if(h(o,a,s))return f(o,a,s);var u=c(a);return null!==u?ordinaryGetMetadata(o,u,s):void 0};u.exp({getMetadata:function getMetadata(o,a){return ordinaryGetMetadata(o,l(a),arguments.length<3?void 0:p(arguments[2]))}})},function(o,a,s){var u=s(134),l=s(143),c=s(36),h=s(6),f=s(23),p=c.keys,m=c.key,ordinaryMetadataKeys=function(o,a){var s=p(o,a),c=f(o);if(null===c)return s;var h=ordinaryMetadataKeys(c,a);return h.length?s.length?l(new u(s.concat(h))):h:s};c.exp({getMetadataKeys:function getMetadataKeys(o){return ordinaryMetadataKeys(h(o),arguments.length<2?void 0:m(arguments[1]))}})},function(o,a,s){var u=s(36),l=s(6),c=u.get,h=u.key;u.exp({getOwnMetadata:function getOwnMetadata(o,a){return c(o,l(a),arguments.length<3?void 0:h(arguments[2]))}})},function(o,a,s){var u=s(36),l=s(6),c=u.keys,h=u.key;u.exp({getOwnMetadataKeys:function getOwnMetadataKeys(o){return c(l(o),arguments.length<2?void 0:h(arguments[1]))}})},function(o,a,s){var u=s(36),l=s(6),c=s(23),h=u.has,f=u.key,ordinaryHasMetadata=function(o,a,s){if(h(o,a,s))return!0;var u=c(a);return null!==u&&ordinaryHasMetadata(o,u,s)};u.exp({hasMetadata:function hasMetadata(o,a){return ordinaryHasMetadata(o,l(a),arguments.length<3?void 0:f(arguments[2]))}})},function(o,a,s){var u=s(36),l=s(6),c=u.has,h=u.key;u.exp({hasOwnMetadata:function hasOwnMetadata(o,a){return c(o,l(a),arguments.length<3?void 0:h(arguments[2]))}})},function(o,a,s){var u=s(36),l=s(6),c=s(16),h=u.key,f=u.set;u.exp({metadata:function metadata(o,a){return function decorator(s,u){f(o,a,(void 0!==u?l:c)(s),h(u))}}})},function(o,a,s){var u=s(1),l=s(102)(),c=s(7).process,h="process"==s(27)(c);u(u.G,{asap:function asap(o){var a=h&&c.domain;l(a?a.bind(o):o)}})},function(o,a,s){"use strict";var u=s(1),l=s(7),c=s(25),h=s(102)(),f=s(11)("observable"),p=s(16),m=s(6),g=s(47),v=s(49),y=s(17),_=s(48),b=_.RETURN,getMethod=function(o){return null==o?void 0:p(o)},cleanupSubscription=function(o){var a=o._c;a&&(o._c=void 0,a())},subscriptionClosed=function(o){return void 0===o._o},closeSubscription=function(o){subscriptionClosed(o)||(o._o=void 0,cleanupSubscription(o))},Subscription=function(o,a){m(o),this._c=void 0,this._o=o,o=new SubscriptionObserver(this);try{var s=a(o),u=s;null!=s&&("function"==typeof s.unsubscribe?s=function(){u.unsubscribe()}:p(s),this._c=s)}catch(a){return void o.error(a)}subscriptionClosed(this)&&cleanupSubscription(this)};Subscription.prototype=v({},{unsubscribe:function unsubscribe(){closeSubscription(this)}});var SubscriptionObserver=function(o){this._s=o};SubscriptionObserver.prototype=v({},{next:function next(o){var a=this._s;if(!subscriptionClosed(a)){var s=a._o;try{var u=getMethod(s.next);if(u)return u.call(s,o)}catch(o){try{closeSubscription(a)}finally{throw o}}}},error:function error(o){var a=this._s;if(subscriptionClosed(a))throw o;var s=a._o;a._o=void 0;try{var u=getMethod(s.error);if(!u)throw o;o=u.call(s,o)}catch(o){try{cleanupSubscription(a)}finally{throw o}}return cleanupSubscription(a),o},complete:function complete(o){var a=this._s;if(!subscriptionClosed(a)){var s=a._o;a._o=void 0;try{var u=getMethod(s.complete);o=u?u.call(s,o):void 0}catch(o){try{cleanupSubscription(a)}finally{throw o}}return cleanupSubscription(a),o}}});var T=function Observable(o){g(this,T,"Observable","_f")._f=p(o)};v(T.prototype,{subscribe:function subscribe(o){return new Subscription(o,this._f)},forEach:function forEach(o){var a=this;return new(c.Promise||l.Promise)((function(s,u){p(o);var l=a.subscribe({next:function(a){try{return o(a)}catch(o){u(o),l.unsubscribe()}},error:u,complete:s})}))}}),v(T,{from:function from(o){var a="function"==typeof this?this:T,s=getMethod(m(o)[f]);if(s){var u=m(s.call(o));return u.constructor===a?u:new a((function(o){return u.subscribe(o)}))}return new a((function(a){var s=!1;return h((function(){if(!s){try{if(_(o,!1,(function(o){if(a.next(o),s)return b}))===b)return}catch(o){if(s)throw o;return void a.error(o)}a.complete()}})),function(){s=!0}}))},of:function of(){for(var o=0,a=arguments.length,s=new Array(a);o<a;)s[o]=arguments[o++];return new("function"==typeof this?this:T)((function(o){var a=!1;return h((function(){if(!a){for(var u=0;u<s.length;++u)if(o.next(s[u]),a)return;o.complete()}})),function(){a=!0}}))}}),y(T.prototype,f,(function(){return this})),u(u.G,{Observable:T}),s(46)("Observable")},function(o,a,s){var u=s(7),l=s(1),c=s(69),h=[].slice,f=/MSIE .\./.test(c),wrap=function(o){return function(a,s){var u=arguments.length>2,l=!!u&&h.call(arguments,2);return o(u?function(){("function"==typeof a?a:Function(a)).apply(this,l)}:a,s)}};l(l.G+l.B+l.F*f,{setTimeout:wrap(u.setTimeout),setInterval:wrap(u.setInterval)})},function(o,a,s){var u=s(1),l=s(101);u(u.G+u.B,{setImmediate:l.set,clearImmediate:l.clear})},function(o,a,s){for(var u=s(98),l=s(42),c=s(18),h=s(7),f=s(17),p=s(54),m=s(11),g=m("iterator"),v=m("toStringTag"),y=p.Array,_={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},b=l(_),T=0;T<b.length;T++){var S,w=b[T],k=_[w],x=h[w],P=x&&x.prototype;if(P&&(P[g]||f(P,g,y),P[v]||f(P,v,w),p[w]=y,k))for(S in u)P[S]||c(P,S,u[S],!0)}},function(o,a,s){(function(a){!function(a){"use strict";var s,u=Object.prototype,l=u.hasOwnProperty,c="function"==typeof Symbol?Symbol:{},h=c.iterator||"@@iterator",f=c.asyncIterator||"@@asyncIterator",p=c.toStringTag||"@@toStringTag",m="object"==typeof o,g=a.regeneratorRuntime;if(g)m&&(o.exports=g);else{(g=a.regeneratorRuntime=m?o.exports:{}).wrap=wrap;var v="suspendedStart",y="suspendedYield",_="executing",b="completed",T={},S={};S[h]=function(){return this};var w=Object.getPrototypeOf,k=w&&w(w(values([])));k&&k!==u&&l.call(k,h)&&(S=k);var x=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(S);GeneratorFunction.prototype=x.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunctionPrototype[p]=GeneratorFunction.displayName="GeneratorFunction",g.isGeneratorFunction=function(o){var a="function"==typeof o&&o.constructor;return!!a&&(a===GeneratorFunction||"GeneratorFunction"===(a.displayName||a.name))},g.mark=function(o){return Object.setPrototypeOf?Object.setPrototypeOf(o,GeneratorFunctionPrototype):(o.__proto__=GeneratorFunctionPrototype,p in o||(o[p]="GeneratorFunction")),o.prototype=Object.create(x),o},g.awrap=function(o){return{__await:o}},defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[f]=function(){return this},g.AsyncIterator=AsyncIterator,g.async=function(o,a,s,u){var l=new AsyncIterator(wrap(o,a,s,u));return g.isGeneratorFunction(a)?l:l.next().then((function(o){return o.done?o.value:l.next()}))},defineIteratorMethods(x),x[p]="Generator",x[h]=function(){return this},x.toString=function(){return"[object Generator]"},g.keys=function(o){var a=[];for(var s in o)a.push(s);return a.reverse(),function next(){for(;a.length;){var s=a.pop();if(s in o)return next.value=s,next.done=!1,next}return next.done=!0,next}},g.values=values,Context.prototype={constructor:Context,reset:function(o){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(resetTryEntry),!o)for(var a in this)"t"===a.charAt(0)&&l.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=s)},stop:function(){this.done=!0;var o=this.tryEntries[0].completion;if("throw"===o.type)throw o.arg;return this.rval},dispatchException:function(o){if(this.done)throw o;var a=this;function handle(u,l){return h.type="throw",h.arg=o,a.next=u,l&&(a.method="next",a.arg=s),!!l}for(var u=this.tryEntries.length-1;u>=0;--u){var c=this.tryEntries[u],h=c.completion;if("root"===c.tryLoc)return handle("end");if(c.tryLoc<=this.prev){var f=l.call(c,"catchLoc"),p=l.call(c,"finallyLoc");if(f&&p){if(this.prev<c.catchLoc)return handle(c.catchLoc,!0);if(this.prev<c.finallyLoc)return handle(c.finallyLoc)}else if(f){if(this.prev<c.catchLoc)return handle(c.catchLoc,!0)}else{if(!p)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return handle(c.finallyLoc)}}}},abrupt:function(o,a){for(var s=this.tryEntries.length-1;s>=0;--s){var u=this.tryEntries[s];if(u.tryLoc<=this.prev&&l.call(u,"finallyLoc")&&this.prev<u.finallyLoc){var c=u;break}}c&&("break"===o||"continue"===o)&&c.tryLoc<=a&&a<=c.finallyLoc&&(c=null);var h=c?c.completion:{};return h.type=o,h.arg=a,c?(this.method="next",this.next=c.finallyLoc,T):this.complete(h)},complete:function(o,a){if("throw"===o.type)throw o.arg;return"break"===o.type||"continue"===o.type?this.next=o.arg:"return"===o.type?(this.rval=this.arg=o.arg,this.method="return",this.next="end"):"normal"===o.type&&a&&(this.next=a),T},finish:function(o){for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a];if(s.finallyLoc===o)return this.complete(s.completion,s.afterLoc),resetTryEntry(s),T}},catch:function(o){for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a];if(s.tryLoc===o){var u=s.completion;if("throw"===u.type){var l=u.arg;resetTryEntry(s)}return l}}throw new Error("illegal catch attempt")},delegateYield:function(o,a,u){return this.delegate={iterator:values(o),resultName:a,nextLoc:u},"next"===this.method&&(this.arg=s),T}}}function wrap(o,a,s,u){var l=a&&a.prototype instanceof Generator?a:Generator,c=Object.create(l.prototype),h=new Context(u||[]);return c._invoke=function makeInvokeMethod(o,a,s){var u=v;return function invoke(l,c){if(u===_)throw new Error("Generator is already running");if(u===b){if("throw"===l)throw c;return doneResult()}for(s.method=l,s.arg=c;;){var h=s.delegate;if(h){var f=maybeInvokeDelegate(h,s);if(f){if(f===T)continue;return f}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(u===v)throw u=b,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);u=_;var p=tryCatch(o,a,s);if("normal"===p.type){if(u=s.done?b:y,p.arg===T)continue;return{value:p.arg,done:s.done}}"throw"===p.type&&(u=b,s.method="throw",s.arg=p.arg)}}}(o,s,h),c}function tryCatch(o,a,s){try{return{type:"normal",arg:o.call(a,s)}}catch(o){return{type:"throw",arg:o}}}function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}function defineIteratorMethods(o){["next","throw","return"].forEach((function(a){o[a]=function(o){return this._invoke(a,o)}}))}function AsyncIterator(o){function invoke(a,s,u,c){var h=tryCatch(o[a],o,s);if("throw"!==h.type){var f=h.arg,p=f.value;return p&&"object"==typeof p&&l.call(p,"__await")?Promise.resolve(p.__await).then((function(o){invoke("next",o,u,c)}),(function(o){invoke("throw",o,u,c)})):Promise.resolve(p).then((function(o){f.value=o,u(f)}),c)}c(h.arg)}var s;"object"==typeof a.process&&a.process.domain&&(invoke=a.process.domain.bind(invoke)),this._invoke=function enqueue(o,a){function callInvokeWithMethodAndArg(){return new Promise((function(s,u){invoke(o,a,s,u)}))}return s=s?s.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(o,a){var u=o.iterator[a.method];if(u===s){if(a.delegate=null,"throw"===a.method){if(o.iterator.return&&(a.method="return",a.arg=s,maybeInvokeDelegate(o,a),"throw"===a.method))return T;a.method="throw",a.arg=new TypeError("The iterator does not provide a 'throw' method")}return T}var l=tryCatch(u,o.iterator,a.arg);if("throw"===l.type)return a.method="throw",a.arg=l.arg,a.delegate=null,T;var c=l.arg;return c?c.done?(a[o.resultName]=c.value,a.next=o.nextLoc,"return"!==a.method&&(a.method="next",a.arg=s),a.delegate=null,T):c:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,T)}function pushTryEntry(o){var a={tryLoc:o[0]};1 in o&&(a.catchLoc=o[1]),2 in o&&(a.finallyLoc=o[2],a.afterLoc=o[3]),this.tryEntries.push(a)}function resetTryEntry(o){var a=o.completion||{};a.type="normal",delete a.arg,o.completion=a}function Context(o){this.tryEntries=[{tryLoc:"root"}],o.forEach(pushTryEntry,this),this.reset(!0)}function values(o){if(o){var a=o[h];if(a)return a.call(o);if("function"==typeof o.next)return o;if(!isNaN(o.length)){var u=-1,c=function next(){for(;++u<o.length;)if(l.call(o,u))return next.value=o[u],next.done=!1,next;return next.value=s,next.done=!0,next};return c.next=c}}return{next:doneResult}}function doneResult(){return{value:s,done:!0}}}("object"==typeof a?a:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,s(34))},function(o,a,s){s(354),o.exports=s(25).RegExp.escape},function(o,a,s){var u=s(1),l=s(355)(/[\\^$*+?.()|[\]{}]/g,"\\$&");u(u.S,"RegExp",{escape:function escape(o){return l(o)}})},function(o,a){o.exports=function(o,a){var s=a===Object(a)?function(o){return a[o]}:a;return function(a){return String(a).replace(o,s)}}},function(o,a){},function(o,a,s){(function(o){var u=void 0!==o&&o||"undefined"!=typeof self&&self||window,l=Function.prototype.apply;function Timeout(o,a){this._id=o,this._clearFn=a}a.setTimeout=function(){return new Timeout(l.call(setTimeout,u,arguments),clearTimeout)},a.setInterval=function(){return new Timeout(l.call(setInterval,u,arguments),clearInterval)},a.clearTimeout=a.clearInterval=function(o){o&&o.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(u,this._id)},a.enroll=function(o,a){clearTimeout(o._idleTimeoutId),o._idleTimeout=a},a.unenroll=function(o){clearTimeout(o._idleTimeoutId),o._idleTimeout=-1},a._unrefActive=a.active=function(o){clearTimeout(o._idleTimeoutId);var a=o._idleTimeout;a>=0&&(o._idleTimeoutId=setTimeout((function onTimeout(){o._onTimeout&&o._onTimeout()}),a))},s(358),a.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==o&&o.setImmediate||this&&this.setImmediate,a.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==o&&o.clearImmediate||this&&this.clearImmediate}).call(this,s(34))},function(o,a,s){(function(o,a){!function(o,s){"use strict";if(!o.setImmediate){var u,l=1,c={},h=!1,f=o.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(o);p=p&&p.setTimeout?p:o,"[object process]"==={}.toString.call(o.process)?function installNextTickImplementation(){u=function(o){a.nextTick((function(){runIfPresent(o)}))}}():!function canUsePostMessage(){if(o.postMessage&&!o.importScripts){var a=!0,s=o.onmessage;return o.onmessage=function(){a=!1},o.postMessage("","*"),o.onmessage=s,a}}()?o.MessageChannel?function installMessageChannelImplementation(){var o=new MessageChannel;o.port1.onmessage=function(o){runIfPresent(o.data)},u=function(a){o.port2.postMessage(a)}}():f&&"onreadystatechange"in f.createElement("script")?function installReadyStateChangeImplementation(){var o=f.documentElement;u=function(a){var s=f.createElement("script");s.onreadystatechange=function(){runIfPresent(a),s.onreadystatechange=null,o.removeChild(s),s=null},o.appendChild(s)}}():function installSetTimeoutImplementation(){u=function(o){setTimeout(runIfPresent,0,o)}}():function installPostMessageImplementation(){var a="setImmediate$"+Math.random()+"$",onGlobalMessage=function(s){s.source===o&&"string"==typeof s.data&&0===s.data.indexOf(a)&&runIfPresent(+s.data.slice(a.length))};o.addEventListener?o.addEventListener("message",onGlobalMessage,!1):o.attachEvent("onmessage",onGlobalMessage),u=function(s){o.postMessage(a+s,"*")}}(),p.setImmediate=function setImmediate(o){"function"!=typeof o&&(o=new Function(""+o));for(var a=new Array(arguments.length-1),s=0;s<a.length;s++)a[s]=arguments[s+1];var h={callback:o,args:a};return c[l]=h,u(l),l++},p.clearImmediate=clearImmediate}function clearImmediate(o){delete c[o]}function runIfPresent(o){if(h)setTimeout(runIfPresent,0,o);else{var a=c[o];if(a){h=!0;try{!function run(o){var a=o.callback,s=o.args;switch(s.length){case 0:a();break;case 1:a(s[0]);break;case 2:a(s[0],s[1]);break;case 3:a(s[0],s[1],s[2]);break;default:a.apply(void 0,s)}}(a)}finally{clearImmediate(o),h=!1}}}}}("undefined"==typeof self?void 0===o?this:o:self)}).call(this,s(34),s(359))},function(o,a){var s,u,l=o.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(o){if(s===setTimeout)return setTimeout(o,0);if((s===defaultSetTimout||!s)&&setTimeout)return s=setTimeout,setTimeout(o,0);try{return s(o,0)}catch(a){try{return s.call(null,o,0)}catch(a){return s.call(this,o,0)}}}!function(){try{s="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(o){s=defaultSetTimout}try{u="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(o){u=defaultClearTimeout}}();var c,h=[],f=!1,p=-1;function cleanUpNextTick(){f&&c&&(f=!1,c.length?h=c.concat(h):p=-1,h.length&&drainQueue())}function drainQueue(){if(!f){var o=runTimeout(cleanUpNextTick);f=!0;for(var a=h.length;a;){for(c=h,h=[];++p<a;)c&&c[p].run();p=-1,a=h.length}c=null,f=!1,function runClearTimeout(o){if(u===clearTimeout)return clearTimeout(o);if((u===defaultClearTimeout||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(o);try{return u(o)}catch(a){try{return u.call(null,o)}catch(a){return u.call(this,o)}}}(o)}}function Item(o,a){this.fun=o,this.array=a}function noop(){}l.nextTick=function(o){var a=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)a[s-1]=arguments[s];h.push(new Item(o,a)),1!==h.length||f||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=noop,l.addListener=noop,l.once=noop,l.off=noop,l.removeListener=noop,l.removeAllListeners=noop,l.emit=noop,l.prependListener=noop,l.prependOnceListener=noop,l.listeners=function(o){return[]},l.binding=function(o){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(o){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(o,a){},function(o,a){o.exports=function isFunction(o){if(!o)return!1;var a=s.call(o);return"[object Function]"===a||"function"==typeof o&&"[object RegExp]"!==a||"undefined"!=typeof window&&(o===window.setTimeout||o===window.alert||o===window.confirm||o===window.prompt)};var s=Object.prototype.toString},function(o,a,s){"use strict";var u=s(0);o.exports=function httpResponseHandler(o,a){return void 0===a&&(a=!1),function(s,l,c){if(s)o(s);else if(l.statusCode>=400&&l.statusCode<=599){var h=c;if(a)if(u.TextDecoder){var f=function getCharset(o){void 0===o&&(o="");return o.toLowerCase().split(";").reduce((function(o,a){var s=a.split("="),u=s[0],l=s[1];return"charset"===u.trim()?l.trim():o}),"utf-8")}(l.headers&&l.headers["content-type"]);try{h=new TextDecoder(f).decode(c)}catch(o){}}else h=String.fromCharCode.apply(null,new Uint8Array(c));o({cause:h})}else o(null,c)}}},function(o,a,s){var u=s(2),l=Object.create||function(){function F(){}return function(o){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return F.prototype=o,new F}}();function ParsingError(o,a){this.name="ParsingError",this.code=o.code,this.message=a||o.message}function parseTimeStamp(o){function computeSeconds(o,a,s,u){return 3600*(0|o)+60*(0|a)+(0|s)+(0|u)/1e3}var a=o.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return a?a[3]?computeSeconds(a[1],a[2],a[3].replace(":",""),a[4]):a[1]>59?computeSeconds(a[1],a[2],0,a[4]):computeSeconds(0,a[1],a[2],a[4]):null}function Settings(){this.values=l(null)}function parseOptions(o,a,s,u){var l=u?o.split(u):[o];for(var c in l)if("string"==typeof l[c]){var h=l[c].split(s);if(2===h.length)a(h[0],h[1])}}function parseCue(o,a,s){var u=o;function consumeTimeStamp(){var a=parseTimeStamp(o);if(null===a)throw new ParsingError(ParsingError.Errors.BadTimeStamp,"Malformed timestamp: "+u);return o=o.replace(/^[^\sa-zA-Z-]+/,""),a}function skipWhitespace(){o=o.replace(/^\s+/,"")}if(skipWhitespace(),a.startTime=consumeTimeStamp(),skipWhitespace(),"--\x3e"!==o.substr(0,3))throw new ParsingError(ParsingError.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+u);o=o.substr(3),skipWhitespace(),a.endTime=consumeTimeStamp(),skipWhitespace(),function consumeCueSettings(o,a){var u=new Settings;parseOptions(o,(function(o,a){switch(o){case"region":for(var l=s.length-1;l>=0;l--)if(s[l].id===a){u.set(o,s[l].region);break}break;case"vertical":u.alt(o,a,["rl","lr"]);break;case"line":var c=a.split(","),h=c[0];u.integer(o,h),u.percent(o,h)&&u.set("snapToLines",!1),u.alt(o,h,["auto"]),2===c.length&&u.alt("lineAlign",c[1],["start","center","end"]);break;case"position":c=a.split(","),u.percent(o,c[0]),2===c.length&&u.alt("positionAlign",c[1],["start","center","end"]);break;case"size":u.percent(o,a);break;case"align":u.alt(o,a,["start","center","end","left","right"])}}),/:/,/\s/),a.region=u.get("region",null),a.vertical=u.get("vertical","");try{a.line=u.get("line","auto")}catch(o){}a.lineAlign=u.get("lineAlign","start"),a.snapToLines=u.get("snapToLines",!0),a.size=u.get("size",100);try{a.align=u.get("align","center")}catch(o){a.align=u.get("align","middle")}try{a.position=u.get("position","auto")}catch(o){a.position=u.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},a.align)}a.positionAlign=u.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},a.align)}(o,a)}ParsingError.prototype=l(Error.prototype),ParsingError.prototype.constructor=ParsingError,ParsingError.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},Settings.prototype={set:function(o,a){this.get(o)||""===a||(this.values[o]=a)},get:function(o,a,s){return s?this.has(o)?this.values[o]:a[s]:this.has(o)?this.values[o]:a},has:function(o){return o in this.values},alt:function(o,a,s){for(var u=0;u<s.length;++u)if(a===s[u]){this.set(o,a);break}},integer:function(o,a){/^-?\d+$/.test(a)&&this.set(o,parseInt(a,10))},percent:function(o,a){return!!(a.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(a=parseFloat(a))>=0&&a<=100)&&(this.set(o,a),!0)}};var c=u.createElement&&u.createElement("textarea"),h={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},f={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},p={v:"title",lang:"lang"},m={rt:"ruby"};function parseContent(o,a){function nextToken(){if(!a)return null;var o=a.match(/^([^<]*)(<[^>]*>?)?/);return function consume(o){return a=a.substr(o.length),o}(o[1]?o[1]:o[2])}function shouldAdd(o,a){return!m[a.localName]||m[a.localName]===o.localName}function createElement(a,s){var u=h[a];if(!u)return null;var l=o.document.createElement(u),c=p[a];return c&&s&&(l[c]=s.trim()),l}for(var s,u,l=o.document.createElement("div"),g=l,v=[];null!==(s=nextToken());)if("<"!==s[0])g.appendChild(o.document.createTextNode((u=s,c.innerHTML=u,u=c.textContent,c.textContent="",u)));else{if("/"===s[1]){v.length&&v[v.length-1]===s.substr(2).replace(">","")&&(v.pop(),g=g.parentNode);continue}var y,_=parseTimeStamp(s.substr(1,s.length-2));if(_){y=o.document.createProcessingInstruction("timestamp",_),g.appendChild(y);continue}var b=s.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!b)continue;if(!(y=createElement(b[1],b[3])))continue;if(!shouldAdd(g,y))continue;if(b[2]){var T=b[2].split(".");T.forEach((function(o){var a=/^bg_/.test(o),s=a?o.slice(3):o;if(f.hasOwnProperty(s)){var u=a?"background-color":"color",l=f[s];y.style[u]=l}})),y.className=T.join(" ")}v.push(b[1]),g.appendChild(y),g=y}return l}var g=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function isStrongRTLChar(o){for(var a=0;a<g.length;a++){var s=g[a];if(o>=s[0]&&o<=s[1])return!0}return!1}function determineBidi(o){var a=[],s="";if(!o||!o.childNodes)return"ltr";function pushNodes(o,a){for(var s=a.childNodes.length-1;s>=0;s--)o.push(a.childNodes[s])}function nextTextNode(o){if(!o||!o.length)return null;var a=o.pop(),s=a.textContent||a.innerText;if(s){var u=s.match(/^.*(\n|\r)/);return u?(o.length=0,u[0]):s}return"ruby"===a.tagName?nextTextNode(o):a.childNodes?(pushNodes(o,a),nextTextNode(o)):void 0}for(pushNodes(a,o);s=nextTextNode(a);)for(var u=0;u<s.length;u++)if(isStrongRTLChar(s.charCodeAt(u)))return"rtl";return"ltr"}function StyleBox(){}function CueStyleBox(o,a,s){StyleBox.call(this),this.cue=a,this.cueDiv=parseContent(o,a.text);var u={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===a.vertical?"horizontal-tb":"lr"===a.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(u,this.cueDiv),this.div=o.document.createElement("div"),u={direction:determineBidi(this.cueDiv),writingMode:""===a.vertical?"horizontal-tb":"lr"===a.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===a.align?"center":a.align,font:s.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(u),this.div.appendChild(this.cueDiv);var l=0;switch(a.positionAlign){case"start":l=a.position;break;case"center":l=a.position-a.size/2;break;case"end":l=a.position-a.size}""===a.vertical?this.applyStyles({left:this.formatStyle(l,"%"),width:this.formatStyle(a.size,"%")}):this.applyStyles({top:this.formatStyle(l,"%"),height:this.formatStyle(a.size,"%")}),this.move=function(o){this.applyStyles({top:this.formatStyle(o.top,"px"),bottom:this.formatStyle(o.bottom,"px"),left:this.formatStyle(o.left,"px"),right:this.formatStyle(o.right,"px"),height:this.formatStyle(o.height,"px"),width:this.formatStyle(o.width,"px")})}}function BoxPosition(o){var a,s,u,l;if(o.div){s=o.div.offsetHeight,u=o.div.offsetWidth,l=o.div.offsetTop;var c=(c=o.div.childNodes)&&(c=c[0])&&c.getClientRects&&c.getClientRects();o=o.div.getBoundingClientRect(),a=c?Math.max(c[0]&&c[0].height||0,o.height/c.length):0}this.left=o.left,this.right=o.right,this.top=o.top||l,this.height=o.height||s,this.bottom=o.bottom||l+(o.height||s),this.width=o.width||u,this.lineHeight=void 0!==a?a:o.lineHeight}function moveBoxToLinePosition(o,a,s,u){var l=new BoxPosition(a),c=a.cue,h=function computeLinePos(o){if("number"==typeof o.line&&(o.snapToLines||o.line>=0&&o.line<=100))return o.line;if(!o.track||!o.track.textTrackList||!o.track.textTrackList.mediaElement)return-1;for(var a=o.track,s=a.textTrackList,u=0,l=0;l<s.length&&s[l]!==a;l++)"showing"===s[l].mode&&u++;return-1*++u}(c),f=[];if(c.snapToLines){var p;switch(c.vertical){case"":f=["+y","-y"],p="height";break;case"rl":f=["+x","-x"],p="width";break;case"lr":f=["-x","+x"],p="width"}var m=l.lineHeight,g=m*Math.round(h),v=s[p]+m,y=f[0];Math.abs(g)>v&&(g=g<0?-1:1,g*=Math.ceil(v/m)*m),h<0&&(g+=""===c.vertical?s.height:s.width,f=f.reverse()),l.move(y,g)}else{var _=l.lineHeight/s.height*100;switch(c.lineAlign){case"center":h-=_/2;break;case"end":h-=_}switch(c.vertical){case"":a.applyStyles({top:a.formatStyle(h,"%")});break;case"rl":a.applyStyles({left:a.formatStyle(h,"%")});break;case"lr":a.applyStyles({right:a.formatStyle(h,"%")})}f=["+y","-x","+x","-y"],l=new BoxPosition(a)}var b=function findBestPosition(o,a){for(var l,c=new BoxPosition(o),h=1,f=0;f<a.length;f++){for(;o.overlapsOppositeAxis(s,a[f])||o.within(s)&&o.overlapsAny(u);)o.move(a[f]);if(o.within(s))return o;var p=o.intersectPercentage(s);h>p&&(l=new BoxPosition(o),h=p),o=new BoxPosition(c)}return l||c}(l,f);a.move(b.toCSSCompatValues(s))}function WebVTT(){}StyleBox.prototype.applyStyles=function(o,a){for(var s in a=a||this.div,o)o.hasOwnProperty(s)&&(a.style[s]=o[s])},StyleBox.prototype.formatStyle=function(o,a){return 0===o?0:o+a},CueStyleBox.prototype=l(StyleBox.prototype),CueStyleBox.prototype.constructor=CueStyleBox,BoxPosition.prototype.move=function(o,a){switch(a=void 0!==a?a:this.lineHeight,o){case"+x":this.left+=a,this.right+=a;break;case"-x":this.left-=a,this.right-=a;break;case"+y":this.top+=a,this.bottom+=a;break;case"-y":this.top-=a,this.bottom-=a}},BoxPosition.prototype.overlaps=function(o){return this.left<o.right&&this.right>o.left&&this.top<o.bottom&&this.bottom>o.top},BoxPosition.prototype.overlapsAny=function(o){for(var a=0;a<o.length;a++)if(this.overlaps(o[a]))return!0;return!1},BoxPosition.prototype.within=function(o){return this.top>=o.top&&this.bottom<=o.bottom&&this.left>=o.left&&this.right<=o.right},BoxPosition.prototype.overlapsOppositeAxis=function(o,a){switch(a){case"+x":return this.left<o.left;case"-x":return this.right>o.right;case"+y":return this.top<o.top;case"-y":return this.bottom>o.bottom}},BoxPosition.prototype.intersectPercentage=function(o){return Math.max(0,Math.min(this.right,o.right)-Math.max(this.left,o.left))*Math.max(0,Math.min(this.bottom,o.bottom)-Math.max(this.top,o.top))/(this.height*this.width)},BoxPosition.prototype.toCSSCompatValues=function(o){return{top:this.top-o.top,bottom:o.bottom-this.bottom,left:this.left-o.left,right:o.right-this.right,height:this.height,width:this.width}},BoxPosition.getSimpleBoxPosition=function(o){var a=o.div?o.div.offsetHeight:o.tagName?o.offsetHeight:0,s=o.div?o.div.offsetWidth:o.tagName?o.offsetWidth:0,u=o.div?o.div.offsetTop:o.tagName?o.offsetTop:0;return{left:(o=o.div?o.div.getBoundingClientRect():o.tagName?o.getBoundingClientRect():o).left,right:o.right,top:o.top||u,height:o.height||a,bottom:o.bottom||u+(o.height||a),width:o.width||s}},WebVTT.StringDecoder=function(){return{decode:function(o){if(!o)return"";if("string"!=typeof o)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(o))}}},WebVTT.convertCueToDOMTree=function(o,a){return o&&a?parseContent(o,a):null};WebVTT.processCues=function(o,a,s){if(!o||!a||!s)return null;for(;s.firstChild;)s.removeChild(s.firstChild);var u=o.document.createElement("div");if(u.style.position="absolute",u.style.left="0",u.style.right="0",u.style.top="0",u.style.bottom="0",u.style.margin="1.5%",s.appendChild(u),function shouldCompute(o){for(var a=0;a<o.length;a++)if(o[a].hasBeenReset||!o[a].displayState)return!0;return!1}(a)){var l=[],c=BoxPosition.getSimpleBoxPosition(u),h={font:Math.round(.05*c.height*100)/100+"px sans-serif"};!function(){for(var s,f,p=0;p<a.length;p++)f=a[p],s=new CueStyleBox(o,f,h),u.appendChild(s.div),moveBoxToLinePosition(0,s,c,l),f.displayState=s.div,l.push(BoxPosition.getSimpleBoxPosition(s))}()}else for(var f=0;f<a.length;f++)u.appendChild(a[f].displayState)},WebVTT.Parser=function(o,a,s){s||(s=a,a={}),a||(a={}),this.window=o,this.vttjs=a,this.state="INITIAL",this.buffer="",this.decoder=s||new TextDecoder("utf8"),this.regionList=[]},WebVTT.Parser.prototype={reportOrThrowError:function(o){if(!(o instanceof ParsingError))throw o;this.onparsingerror&&this.onparsingerror(o)},parse:function(o){var a=this;function collectNextLine(){for(var o=a.buffer,s=0;s<o.length&&"\r"!==o[s]&&"\n"!==o[s];)++s;var u=o.substr(0,s);return"\r"===o[s]&&++s,"\n"===o[s]&&++s,a.buffer=o.substr(s),u}function parseHeader(o){o.match(/X-TIMESTAMP-MAP/)?parseOptions(o,(function(o,s){switch(o){case"X-TIMESTAMP-MAP":!function parseTimestampMap(o){var s=new Settings;parseOptions(o,(function(o,a){switch(o){case"MPEGT":s.integer(o+"S",a);break;case"LOCA":s.set(o+"L",parseTimeStamp(a))}}),/[^\d]:/,/,/),a.ontimestampmap&&a.ontimestampmap({MPEGTS:s.get("MPEGTS"),LOCAL:s.get("LOCAL")})}(s)}}),/=/):parseOptions(o,(function(o,s){switch(o){case"Region":!function parseRegion(o){var s=new Settings;if(parseOptions(o,(function(o,a){switch(o){case"id":s.set(o,a);break;case"width":s.percent(o,a);break;case"lines":s.integer(o,a);break;case"regionanchor":case"viewportanchor":var u=a.split(",");if(2!==u.length)break;var l=new Settings;if(l.percent("x",u[0]),l.percent("y",u[1]),!l.has("x")||!l.has("y"))break;s.set(o+"X",l.get("x")),s.set(o+"Y",l.get("y"));break;case"scroll":s.alt(o,a,["up"])}}),/=/,/\s/),s.has("id")){var u=new(a.vttjs.VTTRegion||a.window.VTTRegion);u.width=s.get("width",100),u.lines=s.get("lines",3),u.regionAnchorX=s.get("regionanchorX",0),u.regionAnchorY=s.get("regionanchorY",100),u.viewportAnchorX=s.get("viewportanchorX",0),u.viewportAnchorY=s.get("viewportanchorY",100),u.scroll=s.get("scroll",""),a.onregion&&a.onregion(u),a.regionList.push({id:s.get("id"),region:u})}}(s)}}),/:/)}o&&(a.buffer+=a.decoder.decode(o,{stream:!0}));try{var s;if("INITIAL"===a.state){if(!/\r\n|\n/.test(a.buffer))return this;var u=(s=collectNextLine()).match(/^WEBVTT([ \t].*)?$/);if(!u||!u[0])throw new ParsingError(ParsingError.Errors.BadSignature);a.state="HEADER"}for(var l=!1;a.buffer;){if(!/\r\n|\n/.test(a.buffer))return this;switch(l?l=!1:s=collectNextLine(),a.state){case"HEADER":/:/.test(s)?parseHeader(s):s||(a.state="ID");continue;case"NOTE":s||(a.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(s)){a.state="NOTE";break}if(!s)continue;a.cue=new(a.vttjs.VTTCue||a.window.VTTCue)(0,0,"");try{a.cue.align="center"}catch(o){a.cue.align="middle"}if(a.state="CUE",-1===s.indexOf("--\x3e")){a.cue.id=s;continue}case"CUE":try{parseCue(s,a.cue,a.regionList)}catch(o){a.reportOrThrowError(o),a.cue=null,a.state="BADCUE";continue}a.state="CUETEXT";continue;case"CUETEXT":var c=-1!==s.indexOf("--\x3e");if(!s||c&&(l=!0)){a.oncue&&a.oncue(a.cue),a.cue=null,a.state="ID";continue}a.cue.text&&(a.cue.text+="\n"),a.cue.text+=s.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":s||(a.state="ID");continue}}}catch(o){a.reportOrThrowError(o),"CUETEXT"===a.state&&a.cue&&a.oncue&&a.oncue(a.cue),a.cue=null,a.state="INITIAL"===a.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var o=this;try{if(o.buffer+=o.decoder.decode(),(o.cue||"HEADER"===o.state)&&(o.buffer+="\n\n",o.parse()),"INITIAL"===o.state)throw new ParsingError(ParsingError.Errors.BadSignature)}catch(a){o.reportOrThrowError(a)}return o.onflush&&o.onflush(),this}},o.exports=WebVTT},function(o,a){var s={"":1,lr:1,rl:1},u={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function findAlignSetting(o){return"string"==typeof o&&(!!u[o.toLowerCase()]&&o.toLowerCase())}function VTTCue(o,a,u){this.hasBeenReset=!1;var l="",c=!1,h=o,f=a,p=u,m=null,g="",v=!0,y="auto",_="start",b="auto",T="auto",S=100,w="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return l},set:function(o){l=""+o}},pauseOnExit:{enumerable:!0,get:function(){return c},set:function(o){c=!!o}},startTime:{enumerable:!0,get:function(){return h},set:function(o){if("number"!=typeof o)throw new TypeError("Start time must be set to a number.");h=o,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return f},set:function(o){if("number"!=typeof o)throw new TypeError("End time must be set to a number.");f=o,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return p},set:function(o){p=""+o,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return m},set:function(o){m=o,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return g},set:function(o){var a=function findDirectionSetting(o){return"string"==typeof o&&!!s[o.toLowerCase()]&&o.toLowerCase()}(o);if(!1===a)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");g=a,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return v},set:function(o){v=!!o,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return y},set:function(o){if("number"!=typeof o&&"auto"!==o)throw new SyntaxError("Line: an invalid number or illegal string was specified.");y=o,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return _},set:function(o){var a=findAlignSetting(o);a?(_=a,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return b},set:function(o){if(o<0||o>100)throw new Error("Position must be between 0 and 100.");b=o,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return T},set:function(o){var a=findAlignSetting(o);a?(T=a,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return S},set:function(o){if(o<0||o>100)throw new Error("Size must be between 0 and 100.");S=o,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return w},set:function(o){var a=findAlignSetting(o);if(!a)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");w=a,this.hasBeenReset=!0}}}),this.displayState=void 0}VTTCue.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},o.exports=VTTCue},function(o,a){var s={"":!0,up:!0};function isValidPercentValue(o){return"number"==typeof o&&o>=0&&o<=100}o.exports=function VTTRegion(){var o=100,a=3,u=0,l=100,c=0,h=100,f="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return o},set:function(a){if(!isValidPercentValue(a))throw new Error("Width must be between 0 and 100.");o=a}},lines:{enumerable:!0,get:function(){return a},set:function(o){if("number"!=typeof o)throw new TypeError("Lines must be set to a number.");a=o}},regionAnchorY:{enumerable:!0,get:function(){return l},set:function(o){if(!isValidPercentValue(o))throw new Error("RegionAnchorX must be between 0 and 100.");l=o}},regionAnchorX:{enumerable:!0,get:function(){return u},set:function(o){if(!isValidPercentValue(o))throw new Error("RegionAnchorY must be between 0 and 100.");u=o}},viewportAnchorY:{enumerable:!0,get:function(){return h},set:function(o){if(!isValidPercentValue(o))throw new Error("ViewportAnchorY must be between 0 and 100.");h=o}},viewportAnchorX:{enumerable:!0,get:function(){return c},set:function(o){if(!isValidPercentValue(o))throw new Error("ViewportAnchorX must be between 0 and 100.");c=o}},scroll:{enumerable:!0,get:function(){return f},set:function(o){var a=function findScrollSetting(o){return"string"==typeof o&&!!s[o.toLowerCase()]&&o.toLowerCase()}(o);!1===a?console.warn("Scroll: an invalid or illegal string was specified."):f=a}}})}},function(o,a){o.exports=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(o){return!1}},o.exports.default=o.exports,o.exports.__esModule=!0},function(o,a,s){"use strict";(function(o){var u=s(368),l=s(369),c=s(370);function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(o,a){if(kMaxLength()<a)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(o=new Uint8Array(a)).__proto__=Buffer.prototype:(null===o&&(o=new Buffer(a)),o.length=a),o}function Buffer(o,a,s){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(o,a,s);if("number"==typeof o){if("string"==typeof a)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,o)}return from(this,o,a,s)}function from(o,a,s,u){if("number"==typeof a)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&a instanceof ArrayBuffer?function fromArrayBuffer(o,a,s,u){if(a.byteLength,s<0||a.byteLength<s)throw new RangeError("'offset' is out of bounds");if(a.byteLength<s+(u||0))throw new RangeError("'length' is out of bounds");a=void 0===s&&void 0===u?new Uint8Array(a):void 0===u?new Uint8Array(a,s):new Uint8Array(a,s,u);Buffer.TYPED_ARRAY_SUPPORT?(o=a).__proto__=Buffer.prototype:o=fromArrayLike(o,a);return o}(o,a,s,u):"string"==typeof a?function fromString(o,a,s){"string"==typeof s&&""!==s||(s="utf8");if(!Buffer.isEncoding(s))throw new TypeError('"encoding" must be a valid string encoding');var u=0|byteLength(a,s),l=(o=createBuffer(o,u)).write(a,s);l!==u&&(o=o.slice(0,l));return o}(o,a,s):function fromObject(o,a){if(Buffer.isBuffer(a)){var s=0|checked(a.length);return 0===(o=createBuffer(o,s)).length||a.copy(o,0,0,s),o}if(a){if("undefined"!=typeof ArrayBuffer&&a.buffer instanceof ArrayBuffer||"length"in a)return"number"!=typeof a.length||function isnan(o){return o!=o}(a.length)?createBuffer(o,0):fromArrayLike(o,a);if("Buffer"===a.type&&c(a.data))return fromArrayLike(o,a.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(o,a)}function assertSize(o){if("number"!=typeof o)throw new TypeError('"size" argument must be a number');if(o<0)throw new RangeError('"size" argument must not be negative')}function allocUnsafe(o,a){if(assertSize(a),o=createBuffer(o,a<0?0:0|checked(a)),!Buffer.TYPED_ARRAY_SUPPORT)for(var s=0;s<a;++s)o[s]=0;return o}function fromArrayLike(o,a){var s=a.length<0?0:0|checked(a.length);o=createBuffer(o,s);for(var u=0;u<s;u+=1)o[u]=255&a[u];return o}function checked(o){if(o>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|o}function byteLength(o,a){if(Buffer.isBuffer(o))return o.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(o)||o instanceof ArrayBuffer))return o.byteLength;"string"!=typeof o&&(o=""+o);var s=o.length;if(0===s)return 0;for(var u=!1;;)switch(a){case"ascii":case"latin1":case"binary":return s;case"utf8":case"utf-8":case void 0:return utf8ToBytes(o).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*s;case"hex":return s>>>1;case"base64":return base64ToBytes(o).length;default:if(u)return utf8ToBytes(o).length;a=(""+a).toLowerCase(),u=!0}}function slowToString(o,a,s){var u=!1;if((void 0===a||a<0)&&(a=0),a>this.length)return"";if((void 0===s||s>this.length)&&(s=this.length),s<=0)return"";if((s>>>=0)<=(a>>>=0))return"";for(o||(o="utf8");;)switch(o){case"hex":return hexSlice(this,a,s);case"utf8":case"utf-8":return utf8Slice(this,a,s);case"ascii":return asciiSlice(this,a,s);case"latin1":case"binary":return latin1Slice(this,a,s);case"base64":return base64Slice(this,a,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,a,s);default:if(u)throw new TypeError("Unknown encoding: "+o);o=(o+"").toLowerCase(),u=!0}}function swap(o,a,s){var u=o[a];o[a]=o[s],o[s]=u}function bidirectionalIndexOf(o,a,s,u,l){if(0===o.length)return-1;if("string"==typeof s?(u=s,s=0):s>2147483647?s=2147483647:s<-2147483648&&(s=-2147483648),s=+s,isNaN(s)&&(s=l?0:o.length-1),s<0&&(s=o.length+s),s>=o.length){if(l)return-1;s=o.length-1}else if(s<0){if(!l)return-1;s=0}if("string"==typeof a&&(a=Buffer.from(a,u)),Buffer.isBuffer(a))return 0===a.length?-1:arrayIndexOf(o,a,s,u,l);if("number"==typeof a)return a&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?l?Uint8Array.prototype.indexOf.call(o,a,s):Uint8Array.prototype.lastIndexOf.call(o,a,s):arrayIndexOf(o,[a],s,u,l);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(o,a,s,u,l){var c,h=1,f=o.length,p=a.length;if(void 0!==u&&("ucs2"===(u=String(u).toLowerCase())||"ucs-2"===u||"utf16le"===u||"utf-16le"===u)){if(o.length<2||a.length<2)return-1;h=2,f/=2,p/=2,s/=2}function read(o,a){return 1===h?o[a]:o.readUInt16BE(a*h)}if(l){var m=-1;for(c=s;c<f;c++)if(read(o,c)===read(a,-1===m?0:c-m)){if(-1===m&&(m=c),c-m+1===p)return m*h}else-1!==m&&(c-=c-m),m=-1}else for(s+p>f&&(s=f-p),c=s;c>=0;c--){for(var g=!0,v=0;v<p;v++)if(read(o,c+v)!==read(a,v)){g=!1;break}if(g)return c}return-1}function hexWrite(o,a,s,u){s=Number(s)||0;var l=o.length-s;u?(u=Number(u))>l&&(u=l):u=l;var c=a.length;if(c%2!=0)throw new TypeError("Invalid hex string");u>c/2&&(u=c/2);for(var h=0;h<u;++h){var f=parseInt(a.substr(2*h,2),16);if(isNaN(f))return h;o[s+h]=f}return h}function utf8Write(o,a,s,u){return blitBuffer(utf8ToBytes(a,o.length-s),o,s,u)}function asciiWrite(o,a,s,u){return blitBuffer(function asciiToBytes(o){for(var a=[],s=0;s<o.length;++s)a.push(255&o.charCodeAt(s));return a}(a),o,s,u)}function latin1Write(o,a,s,u){return asciiWrite(o,a,s,u)}function base64Write(o,a,s,u){return blitBuffer(base64ToBytes(a),o,s,u)}function ucs2Write(o,a,s,u){return blitBuffer(function utf16leToBytes(o,a){for(var s,u,l,c=[],h=0;h<o.length&&!((a-=2)<0);++h)u=(s=o.charCodeAt(h))>>8,l=s%256,c.push(l),c.push(u);return c}(a,o.length-s),o,s,u)}function base64Slice(o,a,s){return 0===a&&s===o.length?u.fromByteArray(o):u.fromByteArray(o.slice(a,s))}function utf8Slice(o,a,s){s=Math.min(o.length,s);for(var u=[],l=a;l<s;){var c,f,p,m,g=o[l],v=null,y=g>239?4:g>223?3:g>191?2:1;if(l+y<=s)switch(y){case 1:g<128&&(v=g);break;case 2:128==(192&(c=o[l+1]))&&(m=(31&g)<<6|63&c)>127&&(v=m);break;case 3:c=o[l+1],f=o[l+2],128==(192&c)&&128==(192&f)&&(m=(15&g)<<12|(63&c)<<6|63&f)>2047&&(m<55296||m>57343)&&(v=m);break;case 4:c=o[l+1],f=o[l+2],p=o[l+3],128==(192&c)&&128==(192&f)&&128==(192&p)&&(m=(15&g)<<18|(63&c)<<12|(63&f)<<6|63&p)>65535&&m<1114112&&(v=m)}null===v?(v=65533,y=1):v>65535&&(v-=65536,u.push(v>>>10&1023|55296),v=56320|1023&v),u.push(v),l+=y}return function decodeCodePointsArray(o){var a=o.length;if(a<=h)return String.fromCharCode.apply(String,o);var s="",u=0;for(;u<a;)s+=String.fromCharCode.apply(String,o.slice(u,u+=h));return s}(u)}a.Buffer=Buffer,a.SlowBuffer=function SlowBuffer(o){+o!=o&&(o=0);return Buffer.alloc(+o)},a.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==o.TYPED_ARRAY_SUPPORT?o.TYPED_ARRAY_SUPPORT:function typedArraySupport(){try{var o=new Uint8Array(1);return o.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===o.foo()&&"function"==typeof o.subarray&&0===o.subarray(1,1).byteLength}catch(o){return!1}}(),a.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(o){return o.__proto__=Buffer.prototype,o},Buffer.from=function(o,a,s){return from(null,o,a,s)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(o,a,s){return function alloc(o,a,s,u){return assertSize(a),a<=0?createBuffer(o,a):void 0!==s?"string"==typeof u?createBuffer(o,a).fill(s,u):createBuffer(o,a).fill(s):createBuffer(o,a)}(null,o,a,s)},Buffer.allocUnsafe=function(o){return allocUnsafe(null,o)},Buffer.allocUnsafeSlow=function(o){return allocUnsafe(null,o)},Buffer.isBuffer=function isBuffer(o){return!(null==o||!o._isBuffer)},Buffer.compare=function compare(o,a){if(!Buffer.isBuffer(o)||!Buffer.isBuffer(a))throw new TypeError("Arguments must be Buffers");if(o===a)return 0;for(var s=o.length,u=a.length,l=0,c=Math.min(s,u);l<c;++l)if(o[l]!==a[l]){s=o[l],u=a[l];break}return s<u?-1:u<s?1:0},Buffer.isEncoding=function isEncoding(o){switch(String(o).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function concat(o,a){if(!c(o))throw new TypeError('"list" argument must be an Array of Buffers');if(0===o.length)return Buffer.alloc(0);var s;if(void 0===a)for(a=0,s=0;s<o.length;++s)a+=o[s].length;var u=Buffer.allocUnsafe(a),l=0;for(s=0;s<o.length;++s){var h=o[s];if(!Buffer.isBuffer(h))throw new TypeError('"list" argument must be an Array of Buffers');h.copy(u,l),l+=h.length}return u},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function swap16(){var o=this.length;if(o%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var a=0;a<o;a+=2)swap(this,a,a+1);return this},Buffer.prototype.swap32=function swap32(){var o=this.length;if(o%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var a=0;a<o;a+=4)swap(this,a,a+3),swap(this,a+1,a+2);return this},Buffer.prototype.swap64=function swap64(){var o=this.length;if(o%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var a=0;a<o;a+=8)swap(this,a,a+7),swap(this,a+1,a+6),swap(this,a+2,a+5),swap(this,a+3,a+4);return this},Buffer.prototype.toString=function toString(){var o=0|this.length;return 0===o?"":0===arguments.length?utf8Slice(this,0,o):slowToString.apply(this,arguments)},Buffer.prototype.equals=function equals(o){if(!Buffer.isBuffer(o))throw new TypeError("Argument must be a Buffer");return this===o||0===Buffer.compare(this,o)},Buffer.prototype.inspect=function inspect(){var o="",s=a.INSPECT_MAX_BYTES;return this.length>0&&(o=this.toString("hex",0,s).match(/.{2}/g).join(" "),this.length>s&&(o+=" ... ")),"<Buffer "+o+">"},Buffer.prototype.compare=function compare(o,a,s,u,l){if(!Buffer.isBuffer(o))throw new TypeError("Argument must be a Buffer");if(void 0===a&&(a=0),void 0===s&&(s=o?o.length:0),void 0===u&&(u=0),void 0===l&&(l=this.length),a<0||s>o.length||u<0||l>this.length)throw new RangeError("out of range index");if(u>=l&&a>=s)return 0;if(u>=l)return-1;if(a>=s)return 1;if(this===o)return 0;for(var c=(l>>>=0)-(u>>>=0),h=(s>>>=0)-(a>>>=0),f=Math.min(c,h),p=this.slice(u,l),m=o.slice(a,s),g=0;g<f;++g)if(p[g]!==m[g]){c=p[g],h=m[g];break}return c<h?-1:h<c?1:0},Buffer.prototype.includes=function includes(o,a,s){return-1!==this.indexOf(o,a,s)},Buffer.prototype.indexOf=function indexOf(o,a,s){return bidirectionalIndexOf(this,o,a,s,!0)},Buffer.prototype.lastIndexOf=function lastIndexOf(o,a,s){return bidirectionalIndexOf(this,o,a,s,!1)},Buffer.prototype.write=function write(o,a,s,u){if(void 0===a)u="utf8",s=this.length,a=0;else if(void 0===s&&"string"==typeof a)u=a,s=this.length,a=0;else{if(!isFinite(a))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");a|=0,isFinite(s)?(s|=0,void 0===u&&(u="utf8")):(u=s,s=void 0)}var l=this.length-a;if((void 0===s||s>l)&&(s=l),o.length>0&&(s<0||a<0)||a>this.length)throw new RangeError("Attempt to write outside buffer bounds");u||(u="utf8");for(var c=!1;;)switch(u){case"hex":return hexWrite(this,o,a,s);case"utf8":case"utf-8":return utf8Write(this,o,a,s);case"ascii":return asciiWrite(this,o,a,s);case"latin1":case"binary":return latin1Write(this,o,a,s);case"base64":return base64Write(this,o,a,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,o,a,s);default:if(c)throw new TypeError("Unknown encoding: "+u);u=(""+u).toLowerCase(),c=!0}},Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var h=4096;function asciiSlice(o,a,s){var u="";s=Math.min(o.length,s);for(var l=a;l<s;++l)u+=String.fromCharCode(127&o[l]);return u}function latin1Slice(o,a,s){var u="";s=Math.min(o.length,s);for(var l=a;l<s;++l)u+=String.fromCharCode(o[l]);return u}function hexSlice(o,a,s){var u=o.length;(!a||a<0)&&(a=0),(!s||s<0||s>u)&&(s=u);for(var l="",c=a;c<s;++c)l+=toHex(o[c]);return l}function utf16leSlice(o,a,s){for(var u=o.slice(a,s),l="",c=0;c<u.length;c+=2)l+=String.fromCharCode(u[c]+256*u[c+1]);return l}function checkOffset(o,a,s){if(o%1!=0||o<0)throw new RangeError("offset is not uint");if(o+a>s)throw new RangeError("Trying to access beyond buffer length")}function checkInt(o,a,s,u,l,c){if(!Buffer.isBuffer(o))throw new TypeError('"buffer" argument must be a Buffer instance');if(a>l||a<c)throw new RangeError('"value" argument is out of bounds');if(s+u>o.length)throw new RangeError("Index out of range")}function objectWriteUInt16(o,a,s,u){a<0&&(a=65535+a+1);for(var l=0,c=Math.min(o.length-s,2);l<c;++l)o[s+l]=(a&255<<8*(u?l:1-l))>>>8*(u?l:1-l)}function objectWriteUInt32(o,a,s,u){a<0&&(a=4294967295+a+1);for(var l=0,c=Math.min(o.length-s,4);l<c;++l)o[s+l]=a>>>8*(u?l:3-l)&255}function checkIEEE754(o,a,s,u,l,c){if(s+u>o.length)throw new RangeError("Index out of range");if(s<0)throw new RangeError("Index out of range")}function writeFloat(o,a,s,u,c){return c||checkIEEE754(o,0,s,4),l.write(o,a,s,u,23,4),s+4}function writeDouble(o,a,s,u,c){return c||checkIEEE754(o,0,s,8),l.write(o,a,s,u,52,8),s+8}Buffer.prototype.slice=function slice(o,a){var s,u=this.length;if((o=~~o)<0?(o+=u)<0&&(o=0):o>u&&(o=u),(a=void 0===a?u:~~a)<0?(a+=u)<0&&(a=0):a>u&&(a=u),a<o&&(a=o),Buffer.TYPED_ARRAY_SUPPORT)(s=this.subarray(o,a)).__proto__=Buffer.prototype;else{var l=a-o;s=new Buffer(l,void 0);for(var c=0;c<l;++c)s[c]=this[c+o]}return s},Buffer.prototype.readUIntLE=function readUIntLE(o,a,s){o|=0,a|=0,s||checkOffset(o,a,this.length);for(var u=this[o],l=1,c=0;++c<a&&(l*=256);)u+=this[o+c]*l;return u},Buffer.prototype.readUIntBE=function readUIntBE(o,a,s){o|=0,a|=0,s||checkOffset(o,a,this.length);for(var u=this[o+--a],l=1;a>0&&(l*=256);)u+=this[o+--a]*l;return u},Buffer.prototype.readUInt8=function readUInt8(o,a){return a||checkOffset(o,1,this.length),this[o]},Buffer.prototype.readUInt16LE=function readUInt16LE(o,a){return a||checkOffset(o,2,this.length),this[o]|this[o+1]<<8},Buffer.prototype.readUInt16BE=function readUInt16BE(o,a){return a||checkOffset(o,2,this.length),this[o]<<8|this[o+1]},Buffer.prototype.readUInt32LE=function readUInt32LE(o,a){return a||checkOffset(o,4,this.length),(this[o]|this[o+1]<<8|this[o+2]<<16)+16777216*this[o+3]},Buffer.prototype.readUInt32BE=function readUInt32BE(o,a){return a||checkOffset(o,4,this.length),16777216*this[o]+(this[o+1]<<16|this[o+2]<<8|this[o+3])},Buffer.prototype.readIntLE=function readIntLE(o,a,s){o|=0,a|=0,s||checkOffset(o,a,this.length);for(var u=this[o],l=1,c=0;++c<a&&(l*=256);)u+=this[o+c]*l;return u>=(l*=128)&&(u-=Math.pow(2,8*a)),u},Buffer.prototype.readIntBE=function readIntBE(o,a,s){o|=0,a|=0,s||checkOffset(o,a,this.length);for(var u=a,l=1,c=this[o+--u];u>0&&(l*=256);)c+=this[o+--u]*l;return c>=(l*=128)&&(c-=Math.pow(2,8*a)),c},Buffer.prototype.readInt8=function readInt8(o,a){return a||checkOffset(o,1,this.length),128&this[o]?-1*(255-this[o]+1):this[o]},Buffer.prototype.readInt16LE=function readInt16LE(o,a){a||checkOffset(o,2,this.length);var s=this[o]|this[o+1]<<8;return 32768&s?4294901760|s:s},Buffer.prototype.readInt16BE=function readInt16BE(o,a){a||checkOffset(o,2,this.length);var s=this[o+1]|this[o]<<8;return 32768&s?4294901760|s:s},Buffer.prototype.readInt32LE=function readInt32LE(o,a){return a||checkOffset(o,4,this.length),this[o]|this[o+1]<<8|this[o+2]<<16|this[o+3]<<24},Buffer.prototype.readInt32BE=function readInt32BE(o,a){return a||checkOffset(o,4,this.length),this[o]<<24|this[o+1]<<16|this[o+2]<<8|this[o+3]},Buffer.prototype.readFloatLE=function readFloatLE(o,a){return a||checkOffset(o,4,this.length),l.read(this,o,!0,23,4)},Buffer.prototype.readFloatBE=function readFloatBE(o,a){return a||checkOffset(o,4,this.length),l.read(this,o,!1,23,4)},Buffer.prototype.readDoubleLE=function readDoubleLE(o,a){return a||checkOffset(o,8,this.length),l.read(this,o,!0,52,8)},Buffer.prototype.readDoubleBE=function readDoubleBE(o,a){return a||checkOffset(o,8,this.length),l.read(this,o,!1,52,8)},Buffer.prototype.writeUIntLE=function writeUIntLE(o,a,s,u){(o=+o,a|=0,s|=0,u)||checkInt(this,o,a,s,Math.pow(2,8*s)-1,0);var l=1,c=0;for(this[a]=255&o;++c<s&&(l*=256);)this[a+c]=o/l&255;return a+s},Buffer.prototype.writeUIntBE=function writeUIntBE(o,a,s,u){(o=+o,a|=0,s|=0,u)||checkInt(this,o,a,s,Math.pow(2,8*s)-1,0);var l=s-1,c=1;for(this[a+l]=255&o;--l>=0&&(c*=256);)this[a+l]=o/c&255;return a+s},Buffer.prototype.writeUInt8=function writeUInt8(o,a,s){return o=+o,a|=0,s||checkInt(this,o,a,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(o=Math.floor(o)),this[a]=255&o,a+1},Buffer.prototype.writeUInt16LE=function writeUInt16LE(o,a,s){return o=+o,a|=0,s||checkInt(this,o,a,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[a]=255&o,this[a+1]=o>>>8):objectWriteUInt16(this,o,a,!0),a+2},Buffer.prototype.writeUInt16BE=function writeUInt16BE(o,a,s){return o=+o,a|=0,s||checkInt(this,o,a,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[a]=o>>>8,this[a+1]=255&o):objectWriteUInt16(this,o,a,!1),a+2},Buffer.prototype.writeUInt32LE=function writeUInt32LE(o,a,s){return o=+o,a|=0,s||checkInt(this,o,a,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[a+3]=o>>>24,this[a+2]=o>>>16,this[a+1]=o>>>8,this[a]=255&o):objectWriteUInt32(this,o,a,!0),a+4},Buffer.prototype.writeUInt32BE=function writeUInt32BE(o,a,s){return o=+o,a|=0,s||checkInt(this,o,a,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[a]=o>>>24,this[a+1]=o>>>16,this[a+2]=o>>>8,this[a+3]=255&o):objectWriteUInt32(this,o,a,!1),a+4},Buffer.prototype.writeIntLE=function writeIntLE(o,a,s,u){if(o=+o,a|=0,!u){var l=Math.pow(2,8*s-1);checkInt(this,o,a,s,l-1,-l)}var c=0,h=1,f=0;for(this[a]=255&o;++c<s&&(h*=256);)o<0&&0===f&&0!==this[a+c-1]&&(f=1),this[a+c]=(o/h>>0)-f&255;return a+s},Buffer.prototype.writeIntBE=function writeIntBE(o,a,s,u){if(o=+o,a|=0,!u){var l=Math.pow(2,8*s-1);checkInt(this,o,a,s,l-1,-l)}var c=s-1,h=1,f=0;for(this[a+c]=255&o;--c>=0&&(h*=256);)o<0&&0===f&&0!==this[a+c+1]&&(f=1),this[a+c]=(o/h>>0)-f&255;return a+s},Buffer.prototype.writeInt8=function writeInt8(o,a,s){return o=+o,a|=0,s||checkInt(this,o,a,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(o=Math.floor(o)),o<0&&(o=255+o+1),this[a]=255&o,a+1},Buffer.prototype.writeInt16LE=function writeInt16LE(o,a,s){return o=+o,a|=0,s||checkInt(this,o,a,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[a]=255&o,this[a+1]=o>>>8):objectWriteUInt16(this,o,a,!0),a+2},Buffer.prototype.writeInt16BE=function writeInt16BE(o,a,s){return o=+o,a|=0,s||checkInt(this,o,a,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[a]=o>>>8,this[a+1]=255&o):objectWriteUInt16(this,o,a,!1),a+2},Buffer.prototype.writeInt32LE=function writeInt32LE(o,a,s){return o=+o,a|=0,s||checkInt(this,o,a,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[a]=255&o,this[a+1]=o>>>8,this[a+2]=o>>>16,this[a+3]=o>>>24):objectWriteUInt32(this,o,a,!0),a+4},Buffer.prototype.writeInt32BE=function writeInt32BE(o,a,s){return o=+o,a|=0,s||checkInt(this,o,a,4,2147483647,-2147483648),o<0&&(o=4294967295+o+1),Buffer.TYPED_ARRAY_SUPPORT?(this[a]=o>>>24,this[a+1]=o>>>16,this[a+2]=o>>>8,this[a+3]=255&o):objectWriteUInt32(this,o,a,!1),a+4},Buffer.prototype.writeFloatLE=function writeFloatLE(o,a,s){return writeFloat(this,o,a,!0,s)},Buffer.prototype.writeFloatBE=function writeFloatBE(o,a,s){return writeFloat(this,o,a,!1,s)},Buffer.prototype.writeDoubleLE=function writeDoubleLE(o,a,s){return writeDouble(this,o,a,!0,s)},Buffer.prototype.writeDoubleBE=function writeDoubleBE(o,a,s){return writeDouble(this,o,a,!1,s)},Buffer.prototype.copy=function copy(o,a,s,u){if(s||(s=0),u||0===u||(u=this.length),a>=o.length&&(a=o.length),a||(a=0),u>0&&u<s&&(u=s),u===s)return 0;if(0===o.length||0===this.length)return 0;if(a<0)throw new RangeError("targetStart out of bounds");if(s<0||s>=this.length)throw new RangeError("sourceStart out of bounds");if(u<0)throw new RangeError("sourceEnd out of bounds");u>this.length&&(u=this.length),o.length-a<u-s&&(u=o.length-a+s);var l,c=u-s;if(this===o&&s<a&&a<u)for(l=c-1;l>=0;--l)o[l+a]=this[l+s];else if(c<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(l=0;l<c;++l)o[l+a]=this[l+s];else Uint8Array.prototype.set.call(o,this.subarray(s,s+c),a);return c},Buffer.prototype.fill=function fill(o,a,s,u){if("string"==typeof o){if("string"==typeof a?(u=a,a=0,s=this.length):"string"==typeof s&&(u=s,s=this.length),1===o.length){var l=o.charCodeAt(0);l<256&&(o=l)}if(void 0!==u&&"string"!=typeof u)throw new TypeError("encoding must be a string");if("string"==typeof u&&!Buffer.isEncoding(u))throw new TypeError("Unknown encoding: "+u)}else"number"==typeof o&&(o&=255);if(a<0||this.length<a||this.length<s)throw new RangeError("Out of range index");if(s<=a)return this;var c;if(a>>>=0,s=void 0===s?this.length:s>>>0,o||(o=0),"number"==typeof o)for(c=a;c<s;++c)this[c]=o;else{var h=Buffer.isBuffer(o)?o:utf8ToBytes(new Buffer(o,u).toString()),f=h.length;for(c=0;c<s-a;++c)this[c+a]=h[c%f]}return this};var f=/[^+\/0-9A-Za-z-_]/g;function toHex(o){return o<16?"0"+o.toString(16):o.toString(16)}function utf8ToBytes(o,a){var s;a=a||1/0;for(var u=o.length,l=null,c=[],h=0;h<u;++h){if((s=o.charCodeAt(h))>55295&&s<57344){if(!l){if(s>56319){(a-=3)>-1&&c.push(239,191,189);continue}if(h+1===u){(a-=3)>-1&&c.push(239,191,189);continue}l=s;continue}if(s<56320){(a-=3)>-1&&c.push(239,191,189),l=s;continue}s=65536+(l-55296<<10|s-56320)}else l&&(a-=3)>-1&&c.push(239,191,189);if(l=null,s<128){if((a-=1)<0)break;c.push(s)}else if(s<2048){if((a-=2)<0)break;c.push(s>>6|192,63&s|128)}else if(s<65536){if((a-=3)<0)break;c.push(s>>12|224,s>>6&63|128,63&s|128)}else{if(!(s<1114112))throw new Error("Invalid code point");if((a-=4)<0)break;c.push(s>>18|240,s>>12&63|128,s>>6&63|128,63&s|128)}}return c}function base64ToBytes(o){return u.toByteArray(function base64clean(o){if((o=function stringtrim(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}(o).replace(f,"")).length<2)return"";for(;o.length%4!=0;)o+="=";return o}(o))}function blitBuffer(o,a,s,u){for(var l=0;l<u&&!(l+s>=a.length||l>=o.length);++l)a[l+s]=o[l];return l}}).call(this,s(34))},function(o,a,s){"use strict";a.byteLength=function byteLength(o){var a=getLens(o),s=a[0],u=a[1];return 3*(s+u)/4-u},a.toByteArray=function toByteArray(o){var a,s,u=getLens(o),h=u[0],f=u[1],p=new c(function _byteLength(o,a,s){return 3*(a+s)/4-s}(0,h,f)),m=0,g=f>0?h-4:h;for(s=0;s<g;s+=4)a=l[o.charCodeAt(s)]<<18|l[o.charCodeAt(s+1)]<<12|l[o.charCodeAt(s+2)]<<6|l[o.charCodeAt(s+3)],p[m++]=a>>16&255,p[m++]=a>>8&255,p[m++]=255&a;2===f&&(a=l[o.charCodeAt(s)]<<2|l[o.charCodeAt(s+1)]>>4,p[m++]=255&a);1===f&&(a=l[o.charCodeAt(s)]<<10|l[o.charCodeAt(s+1)]<<4|l[o.charCodeAt(s+2)]>>2,p[m++]=a>>8&255,p[m++]=255&a);return p},a.fromByteArray=function fromByteArray(o){for(var a,s=o.length,l=s%3,c=[],h=16383,f=0,p=s-l;f<p;f+=h)c.push(encodeChunk(o,f,f+h>p?p:f+h));1===l?(a=o[s-1],c.push(u[a>>2]+u[a<<4&63]+"==")):2===l&&(a=(o[s-2]<<8)+o[s-1],c.push(u[a>>10]+u[a>>4&63]+u[a<<2&63]+"="));return c.join("")};for(var u=[],l=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,p=h.length;f<p;++f)u[f]=h[f],l[h.charCodeAt(f)]=f;function getLens(o){var a=o.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var s=o.indexOf("=");return-1===s&&(s=a),[s,s===a?0:4-s%4]}function encodeChunk(o,a,s){for(var l,c,h=[],f=a;f<s;f+=3)l=(o[f]<<16&16711680)+(o[f+1]<<8&65280)+(255&o[f+2]),h.push(u[(c=l)>>18&63]+u[c>>12&63]+u[c>>6&63]+u[63&c]);return h.join("")}l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},function(o,a){a.read=function(o,a,s,u,l){var c,h,f=8*l-u-1,p=(1<<f)-1,m=p>>1,g=-7,v=s?l-1:0,y=s?-1:1,_=o[a+v];for(v+=y,c=_&(1<<-g)-1,_>>=-g,g+=f;g>0;c=256*c+o[a+v],v+=y,g-=8);for(h=c&(1<<-g)-1,c>>=-g,g+=u;g>0;h=256*h+o[a+v],v+=y,g-=8);if(0===c)c=1-m;else{if(c===p)return h?NaN:1/0*(_?-1:1);h+=Math.pow(2,u),c-=m}return(_?-1:1)*h*Math.pow(2,c-u)},a.write=function(o,a,s,u,l,c){var h,f,p,m=8*c-l-1,g=(1<<m)-1,v=g>>1,y=23===l?Math.pow(2,-24)-Math.pow(2,-77):0,_=u?0:c-1,b=u?1:-1,T=a<0||0===a&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(f=isNaN(a)?1:0,h=g):(h=Math.floor(Math.log(a)/Math.LN2),a*(p=Math.pow(2,-h))<1&&(h--,p*=2),(a+=h+v>=1?y/p:y*Math.pow(2,1-v))*p>=2&&(h++,p/=2),h+v>=g?(f=0,h=g):h+v>=1?(f=(a*p-1)*Math.pow(2,l),h+=v):(f=a*Math.pow(2,v-1)*Math.pow(2,l),h=0));l>=8;o[s+_]=255&f,_+=b,f/=256,l-=8);for(h=h<<l|f,m+=l;m>0;o[s+_]=255&h,_+=b,h/=256,m-=8);o[s+_-b]|=128*T}},function(o,a){var s={}.toString;o.exports=Array.isArray||function(o){return"[object Array]"==s.call(o)}},function(o,a,s){var u=s(75),l=s(145),c=s(372),h=s(373),f=l.DOMImplementation,p=u.NAMESPACE,m=h.ParseError,g=h.XMLReader;function DOMParser(o){this.options=o||{locator:{}}}function DOMHandler(){this.cdata=!1}function position(o,a){a.lineNumber=o.lineNumber,a.columnNumber=o.columnNumber}function _locator(o){if(o)return"\n@"+(o.systemId||"")+"#[line:"+o.lineNumber+",col:"+o.columnNumber+"]"}function _toString(o,a,s){return"string"==typeof o?o.substr(a,s):o.length>=a+s||a?new java.lang.String(o,a,s)+"":o}function appendElement(o,a){o.currentElement?o.currentElement.appendChild(a):o.doc.appendChild(a)}DOMParser.prototype.parseFromString=function(o,a){var s=this.options,u=new g,l=s.domBuilder||new DOMHandler,h=s.errorHandler,f=s.locator,m=s.xmlns||{},v=/\/x?html?$/.test(a),y=v?c.HTML_ENTITIES:c.XML_ENTITIES;return f&&l.setDocumentLocator(f),u.errorHandler=function buildErrorHandler(o,a,s){if(!o){if(a instanceof DOMHandler)return a;o=a}var u={},l=o instanceof Function;function build(a){var c=o[a];!c&&l&&(c=2==o.length?function(s){o(a,s)}:o),u[a]=c&&function(o){c("[xmldom "+a+"]\t"+o+_locator(s))}||function(){}}return s=s||{},build("warning"),build("error"),build("fatalError"),u}(h,l,f),u.domBuilder=s.domBuilder||l,v&&(m[""]=p.HTML),m.xml=m.xml||p.XML,o&&"string"==typeof o?u.parse(o,m,y):u.errorHandler.error("invalid doc source"),l.doc},DOMHandler.prototype={startDocument:function(){this.doc=(new f).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(o,a,s,u){var l=this.doc,c=l.createElementNS(o,s||a),h=u.length;appendElement(this,c),this.currentElement=c,this.locator&&position(this.locator,c);for(var f=0;f<h;f++){o=u.getURI(f);var p=u.getValue(f),m=(s=u.getQName(f),l.createAttributeNS(o,s));this.locator&&position(u.getLocator(f),m),m.value=m.nodeValue=p,c.setAttributeNode(m)}},endElement:function(o,a,s){var u=this.currentElement;u.tagName;this.currentElement=u.parentNode},startPrefixMapping:function(o,a){},endPrefixMapping:function(o){},processingInstruction:function(o,a){var s=this.doc.createProcessingInstruction(o,a);this.locator&&position(this.locator,s),appendElement(this,s)},ignorableWhitespace:function(o,a,s){},characters:function(o,a,s){if(o=_toString.apply(this,arguments)){if(this.cdata)var u=this.doc.createCDATASection(o);else u=this.doc.createTextNode(o);this.currentElement?this.currentElement.appendChild(u):/^\s*$/.test(o)&&this.doc.appendChild(u),this.locator&&position(this.locator,u)}},skippedEntity:function(o){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(o){(this.locator=o)&&(o.lineNumber=0)},comment:function(o,a,s){o=_toString.apply(this,arguments);var u=this.doc.createComment(o);this.locator&&position(this.locator,u),appendElement(this,u)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(o,a,s){var u=this.doc.implementation;if(u&&u.createDocumentType){var l=u.createDocumentType(o,a,s);this.locator&&position(this.locator,l),appendElement(this,l),this.doc.doctype=l}},warning:function(o){console.warn("[xmldom warning]\t"+o,_locator(this.locator))},error:function(o){console.error("[xmldom error]\t"+o,_locator(this.locator))},fatalError:function(o){throw new m(o,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(o){DOMHandler.prototype[o]=function(){return null}})),a.__DOMHandler=DOMHandler,a.DOMParser=DOMParser,a.DOMImplementation=l.DOMImplementation,a.XMLSerializer=l.XMLSerializer},function(o,a,s){var u=s(75).freeze;a.XML_ENTITIES=u({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),a.HTML_ENTITIES=u({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",times:"×",divide:"÷",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",euro:"€",trade:"™",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"}),a.entityMap=a.HTML_ENTITIES},function(o,a,s){var u=s(75).NAMESPACE,l=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,c=new RegExp("[\\-\\.0-9"+l.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),h=new RegExp("^"+l.source+c.source+"*(?::"+l.source+c.source+"*)?$");function ParseError(o,a){this.message=o,this.locator=a,Error.captureStackTrace&&Error.captureStackTrace(this,ParseError)}function XMLReader(){}function copyLocator(o,a){return a.lineNumber=o.lineNumber,a.columnNumber=o.columnNumber,a}function parseElementStartPart(o,a,s,l,c,h){function addAttribute(o,a,u){s.attributeNames.hasOwnProperty(o)&&h.fatalError("Attribute "+o+" redefined"),s.addValue(o,a,u)}for(var f,p=++a,m=0;;){var g=o.charAt(p);switch(g){case"=":if(1===m)f=o.slice(a,p),m=3;else{if(2!==m)throw new Error("attribute equal must after attrName");m=3}break;case"'":case'"':if(3===m||1===m){if(1===m&&(h.warning('attribute value must after "="'),f=o.slice(a,p)),a=p+1,!((p=o.indexOf(g,a))>0))throw new Error("attribute value no end '"+g+"' match");addAttribute(f,v=o.slice(a,p).replace(/&#?\w+;/g,c),a-1),m=5}else{if(4!=m)throw new Error('attribute value must after "="');addAttribute(f,v=o.slice(a,p).replace(/&#?\w+;/g,c),a),h.warning('attribute "'+f+'" missed start quot('+g+")!!"),a=p+1,m=5}break;case"/":switch(m){case 0:s.setTagName(o.slice(a,p));case 5:case 6:case 7:m=7,s.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return h.error("unexpected end of input"),0==m&&s.setTagName(o.slice(a,p)),p;case">":switch(m){case 0:s.setTagName(o.slice(a,p));case 5:case 6:case 7:break;case 4:case 1:"/"===(v=o.slice(a,p)).slice(-1)&&(s.closed=!0,v=v.slice(0,-1));case 2:2===m&&(v=f),4==m?(h.warning('attribute "'+v+'" missed quot(")!'),addAttribute(f,v.replace(/&#?\w+;/g,c),a)):(u.isHTML(l[""])&&v.match(/^(?:disabled|checked|selected)$/i)||h.warning('attribute "'+v+'" missed value!! "'+v+'" instead!!'),addAttribute(v,v,a));break;case 3:throw new Error("attribute value missed!!")}return p;case"":g=" ";default:if(g<=" ")switch(m){case 0:s.setTagName(o.slice(a,p)),m=6;break;case 1:f=o.slice(a,p),m=2;break;case 4:var v=o.slice(a,p).replace(/&#?\w+;/g,c);h.warning('attribute "'+v+'" missed quot(")!!'),addAttribute(f,v,a);case 5:m=6}else switch(m){case 2:s.tagName;u.isHTML(l[""])&&f.match(/^(?:disabled|checked|selected)$/i)||h.warning('attribute "'+f+'" missed value!! "'+f+'" instead2!!'),addAttribute(f,f,a),a=p,m=1;break;case 5:h.warning('attribute space is required"'+f+'"!!');case 6:m=1,a=p;break;case 3:m=4,a=p;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}p++}}function appendElement(o,a,s){for(var l=o.tagName,c=null,h=o.length;h--;){var f=o[h],p=f.qName,m=f.value;if((_=p.indexOf(":"))>0)var g=f.prefix=p.slice(0,_),v=p.slice(_+1),y="xmlns"===g&&v;else v=p,g=null,y="xmlns"===p&&"";f.localName=v,!1!==y&&(null==c&&(c={},_copy(s,s={})),s[y]=c[y]=m,f.uri=u.XMLNS,a.startPrefixMapping(y,m))}for(h=o.length;h--;){(g=(f=o[h]).prefix)&&("xml"===g&&(f.uri=u.XML),"xmlns"!==g&&(f.uri=s[g||""]))}var _;(_=l.indexOf(":"))>0?(g=o.prefix=l.slice(0,_),v=o.localName=l.slice(_+1)):(g=null,v=o.localName=l);var b=o.uri=s[g||""];if(a.startElement(b,v,l,o),!o.closed)return o.currentNSMap=s,o.localNSMap=c,!0;if(a.endElement(b,v,l),c)for(g in c)a.endPrefixMapping(g)}function parseHtmlSpecialContent(o,a,s,u,l){if(/^(?:script|textarea)$/i.test(s)){var c=o.indexOf("</"+s+">",a),h=o.substring(a+1,c);if(/[&<]/.test(h))return/^script$/i.test(s)?(l.characters(h,0,h.length),c):(h=h.replace(/&#?\w+;/g,u),l.characters(h,0,h.length),c)}return a+1}function fixSelfClosed(o,a,s,u){var l=u[s];return null==l&&((l=o.lastIndexOf("</"+s+">"))<a&&(l=o.lastIndexOf("</"+s)),u[s]=l),l<a}function _copy(o,a){for(var s in o)a[s]=o[s]}function parseDCC(o,a,s,u){switch(o.charAt(a+2)){case"-":return"-"===o.charAt(a+3)?(l=o.indexOf("--\x3e",a+4))>a?(s.comment(o,a+4,l-a-4),l+3):(u.error("Unclosed comment"),-1):-1;default:if("CDATA["==o.substr(a+3,6)){var l=o.indexOf("]]>",a+9);return s.startCDATA(),s.characters(o,a+9,l-a-9),s.endCDATA(),l+3}var c=function split(o,a){var s,u=[],l=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;l.lastIndex=a,l.exec(o);for(;s=l.exec(o);)if(u.push(s),s[1])return u}(o,a),h=c.length;if(h>1&&/!doctype/i.test(c[0][0])){var f=c[1][0],p=!1,m=!1;h>3&&(/^public$/i.test(c[2][0])?(p=c[3][0],m=h>4&&c[4][0]):/^system$/i.test(c[2][0])&&(m=c[3][0]));var g=c[h-1];return s.startDTD(f,p,m),s.endDTD(),g.index+g[0].length}}return-1}function parseInstruction(o,a,s){var u=o.indexOf("?>",a);if(u){var l=o.substring(a,u).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(l){l[0].length;return s.processingInstruction(l[1],l[2]),u+2}return-1}return-1}function ElementAttributes(){this.attributeNames={}}ParseError.prototype=new Error,ParseError.prototype.name=ParseError.name,XMLReader.prototype={parse:function(o,a,s){var l=this.domBuilder;l.startDocument(),_copy(a,a={}),function parse(o,a,s,l,c){function fixedFromCharCode(o){if(o>65535){var a=55296+((o-=65536)>>10),s=56320+(1023&o);return String.fromCharCode(a,s)}return String.fromCharCode(o)}function entityReplacer(o){var a=o.slice(1,-1);return a in s?s[a]:"#"===a.charAt(0)?fixedFromCharCode(parseInt(a.substr(1).replace("x","0x"))):(c.error("entity not found:"+o),o)}function appendText(a){if(a>y){var s=o.substring(y,a).replace(/&#?\w+;/g,entityReplacer);m&&position(y),l.characters(s,0,a-y),y=a}}function position(a,s){for(;a>=f&&(s=p.exec(o));)h=s.index,f=h+s[0].length,m.lineNumber++;m.columnNumber=a-h+1}var h=0,f=0,p=/.*(?:\r\n?|\n)|.*$/g,m=l.locator,g=[{currentNSMap:a}],v={},y=0;for(;;){try{var _=o.indexOf("<",y);if(_<0){if(!o.substr(y).match(/^\s*$/)){var b=l.doc,T=b.createTextNode(o.substr(y));b.appendChild(T),l.currentElement=T}return}switch(_>y&&appendText(_),o.charAt(_+1)){case"/":var S=o.indexOf(">",_+3),w=o.substring(_+2,S).replace(/[ \t\n\r]+$/g,""),k=g.pop();S<0?(w=o.substring(_+2).replace(/[\s<].*/,""),c.error("end tag name: "+w+" is not complete:"+k.tagName),S=_+1+w.length):w.match(/\s</)&&(w=w.replace(/[\s<].*/,""),c.error("end tag name: "+w+" maybe not complete"),S=_+1+w.length);var x=k.localNSMap,P=k.tagName==w;if(P||k.tagName&&k.tagName.toLowerCase()==w.toLowerCase()){if(l.endElement(k.uri,k.localName,w),x)for(var I in x)l.endPrefixMapping(I);P||c.fatalError("end tag name: "+w+" is not match the current start tagName:"+k.tagName)}else g.push(k);S++;break;case"?":m&&position(_),S=parseInstruction(o,_,l);break;case"!":m&&position(_),S=parseDCC(o,_,l,c);break;default:m&&position(_);var O=new ElementAttributes,L=g[g.length-1].currentNSMap,M=(S=parseElementStartPart(o,_,O,L,entityReplacer,c),O.length);if(!O.closed&&fixSelfClosed(o,S,O.tagName,v)&&(O.closed=!0,s.nbsp||c.warning("unclosed xml attribute")),m&&M){for(var D=copyLocator(m,{}),R=0;R<M;R++){var N=O[R];position(N.offset),N.locator=copyLocator(m,{})}l.locator=D,appendElement(O,l,L)&&g.push(O),l.locator=m}else appendElement(O,l,L)&&g.push(O);u.isHTML(O.uri)&&!O.closed?S=parseHtmlSpecialContent(o,S,O.tagName,entityReplacer,l):S++}}catch(o){if(o instanceof ParseError)throw o;c.error("element parse error: "+o),S=-1}S>y?y=S:appendText(Math.max(_,y)+1)}}(o,a,s,l,this.errorHandler),l.endDocument()}},ElementAttributes.prototype={setTagName:function(o){if(!h.test(o))throw new Error("invalid tagName:"+o);this.tagName=o},addValue:function(o,a,s){if(!h.test(o))throw new Error("invalid attribute:"+o);this.attributeNames[o]=this.length,this[this.length++]={qName:o,value:a,offset:s}},length:0,getLocalName:function(o){return this[o].localName},getLocator:function(o){return this[o].locator},getQName:function(o){return this[o].qName},getURI:function(o){return this[o].uri},getValue:function(o){return this[o].value}},a.XMLReader=XMLReader,a.ParseError=ParseError},function(o,a,s){"use strict";function t(){}s.r(a),t.prototype={on:function(o,a,s){var u=this.e||(this.e={});return(u[o]||(u[o]=[])).push({fn:a,ctx:s}),this},once:function(o,a,s){var u=this;function n(){u.off(o,n),a.apply(s,arguments)}return n._=a,this.on(o,n,s)},emit:function(o){for(var a=[].slice.call(arguments,1),s=((this.e||(this.e={}))[o]||[]).slice(),u=0,l=s.length;u<l;u++)s[u].fn.apply(s[u].ctx,a);return this},off:function(o,a){var s=this.e||(this.e={}),u=s[o],l=[];if(u&&a)for(var c=0,h=u.length;c<h;c++)u[c].fn!==a&&u[c].fn._!==a&&l.push(u[c]);return l.length?s[o]=l:delete s[o],this}};var u=t;u.TinyEmitter=t;var r=function(o){this.wrap=document.querySelector("[data-router-wrapper]"),this.properties=o,this.Transition=o.transition?new o.transition.class(this.wrap,o.transition.name):null};r.prototype.setup=function(){this.onEnter&&this.onEnter(),this.onEnterCompleted&&this.onEnterCompleted()},r.prototype.add=function(){this.wrap.insertAdjacentHTML("beforeend",this.properties.view.outerHTML)},r.prototype.update=function(){document.title=this.properties.page.title},r.prototype.show=function(o){var a=this;return new Promise((function(s){try{function i(o){a.onEnterCompleted&&a.onEnterCompleted(),s()}return a.update(),a.onEnter&&a.onEnter(),Promise.resolve(a.Transition?Promise.resolve(a.Transition.show(o)).then(i):i())}catch(o){return Promise.reject(o)}}))},r.prototype.hide=function(o){var a=this;return new Promise((function(s){try{function i(o){a.onLeaveCompleted&&a.onLeaveCompleted(),s()}return a.onLeave&&a.onLeave(),Promise.resolve(a.Transition?Promise.resolve(a.Transition.hide(o)).then(i):i())}catch(o){return Promise.reject(o)}}))};var l=new window.DOMParser,n=function(o,a){this.renderers=o,this.transitions=a};n.prototype.getOrigin=function(o){var a=o.match(/(https?:\/\/[\w\-.]+)/);return a?a[1].replace(/https?:\/\//,""):null},n.prototype.getPathname=function(o){var a=o.match(/https?:\/\/.*?(\/[\w_\-./]+)/);return a?a[1]:"/"},n.prototype.getAnchor=function(o){var a=o.match(/(#.*)$/);return a?a[1]:null},n.prototype.getParams=function(o){var a=o.match(/\?([\w_\-.=&]+)/);if(!a)return null;for(var s=a[1].split("&"),u={},l=0;l<s.length;l++){var c=s[l].split("=");u[c[0]]=c[1]}return u},n.prototype.getDOM=function(o){return"string"==typeof o?l.parseFromString(o,"text/html"):o},n.prototype.getView=function(o){return o.querySelector("[data-router-view]")},n.prototype.getSlug=function(o){return o.getAttribute("data-router-view")},n.prototype.getRenderer=function(o){if(!this.renderers)return Promise.resolve(r);if(o in this.renderers){var a=this.renderers[o];return"function"!=typeof a||r.isPrototypeOf(a)?"function"==typeof a.then?Promise.resolve(a).then((function(o){return o.default})):Promise.resolve(a):Promise.resolve(a()).then((function(o){return o.default}))}return Promise.resolve(r)},n.prototype.getTransition=function(o){return this.transitions?o in this.transitions?{class:this.transitions[o],name:o}:"default"in this.transitions?{class:this.transitions.default,name:"default"}:null:null},n.prototype.getProperties=function(o){var a=this.getDOM(o),s=this.getView(a),u=this.getSlug(s);return{page:a,view:s,slug:u,renderer:this.getRenderer(u,this.renderers),transition:this.getTransition(u,this.transitions)}},n.prototype.getLocation=function(o){return{href:o,anchor:this.getAnchor(o),origin:this.getOrigin(o),params:this.getParams(o),pathname:this.getPathname(o)}};var c=function(o){function e(a){var s=this;void 0===a&&(a={});var u=a.renderers,l=a.transitions;o.call(this),this.Helpers=new n(u,l),this.Transitions=l,this.Contextual=!1,this.location=this.Helpers.getLocation(window.location.href),this.properties=this.Helpers.getProperties(document.cloneNode(!0)),this.popping=!1,this.running=!1,this.trigger=null,this.cache=new Map,this.cache.set(this.location.href,this.properties),this.properties.renderer.then((function(o){s.From=new o(s.properties),s.From.setup()})),this._navigate=this.navigate.bind(this),window.addEventListener("popstate",this.popState.bind(this)),this.links=document.querySelectorAll("a:not([target]):not([data-router-disabled])"),this.attach(this.links)}return o&&(e.__proto__=o),(e.prototype=Object.create(o&&o.prototype)).constructor=e,e.prototype.attach=function(o){for(var a=0,s=o;a<s.length;a+=1)s[a].addEventListener("click",this._navigate)},e.prototype.detach=function(o){for(var a=0,s=o;a<s.length;a+=1)s[a].removeEventListener("click",this._navigate)},e.prototype.navigate=function(o){if(!o.metaKey&&!o.ctrlKey){o.preventDefault();var a=!!o.currentTarget.hasAttribute("data-transition")&&o.currentTarget.dataset.transition;this.redirect(o.currentTarget.href,a,o.currentTarget)}},e.prototype.redirect=function(o,a,s){if(void 0===a&&(a=!1),void 0===s&&(s="script"),this.trigger=s,!this.running&&o!==this.location.href){var u=this.Helpers.getLocation(o);this.Contextual=!1,a&&(this.Contextual=this.Transitions.contextual[a].prototype,this.Contextual.name=a),u.origin!==this.location.origin||u.anchor&&u.pathname===this.location.pathname?window.location.href=o:(this.location=u,this.beforeFetch())}},e.prototype.popState=function(){this.trigger="popstate",this.Contextual=!1;var o=this.Helpers.getLocation(window.location.href);this.location.pathname!==o.pathname||!this.location.anchor&&!o.anchor?(this.popping=!0,this.location=o,this.beforeFetch()):this.location=o},e.prototype.pushState=function(){this.popping||window.history.pushState(this.location,"",this.location.href)},e.prototype.fetch=function(){try{var o=this;return Promise.resolve(fetch(o.location.href,{mode:"same-origin",method:"GET",headers:{"X-Requested-With":"Highway"},credentials:"same-origin"})).then((function(a){if(a.status>=200&&a.status<300)return a.text();window.location.href=o.location.href}))}catch(o){return Promise.reject(o)}},e.prototype.beforeFetch=function(){try{var o=this;function e(){o.afterFetch()}o.pushState(),o.running=!0,o.emit("NAVIGATE_OUT",{from:{page:o.From.properties.page,view:o.From.properties.view},trigger:o.trigger,location:o.location});var a={trigger:o.trigger,contextual:o.Contextual},s=o.cache.has(o.location.href)?Promise.resolve(o.From.hide(a)).then((function(){o.properties=o.cache.get(o.location.href)})):Promise.resolve(Promise.all([o.fetch(),o.From.hide(a)])).then((function(a){o.properties=o.Helpers.getProperties(a[0]),o.cache.set(o.location.href,o.properties)}));return Promise.resolve(s&&s.then?s.then(e):e())}catch(o){return Promise.reject(o)}},e.prototype.afterFetch=function(){try{var o=this;return Promise.resolve(o.properties.renderer).then((function(a){return o.To=new a(o.properties),o.To.add(),o.emit("NAVIGATE_IN",{to:{page:o.To.properties.page,view:o.To.wrap.lastElementChild},trigger:o.trigger,location:o.location}),Promise.resolve(o.To.show({trigger:o.trigger,contextual:o.Contextual})).then((function(){o.popping=!1,o.running=!1,o.detach(o.links),o.links=document.querySelectorAll("a:not([target]):not([data-router-disabled])"),o.attach(o.links),o.emit("NAVIGATE_END",{to:{page:o.To.properties.page,view:o.To.wrap.lastElementChild},from:{page:o.From.properties.page,view:o.From.properties.view},trigger:o.trigger,location:o.location}),o.From=o.To,o.trigger=null}))}))}catch(o){return Promise.reject(o)}},e}(u),highway_module_s=function(o,a){this.wrap=o,this.name=a};highway_module_s.prototype.show=function(o){var a=this,s=o.trigger,u=o.contextual,l=this.wrap.lastElementChild,c=this.wrap.firstElementChild;return new Promise((function(o){u?(l.setAttribute("data-transition-in",u.name),l.removeAttribute("data-transition-out",u.name),u.in&&u.in({to:l,from:c,trigger:s,done:o})):(l.setAttribute("data-transition-in",a.name),l.removeAttribute("data-transition-out",a.name),a.in&&a.in({to:l,from:c,trigger:s,done:o}))}))},highway_module_s.prototype.hide=function(o){var a=this,s=o.trigger,u=o.contextual,l=this.wrap.firstElementChild;return new Promise((function(o){u?(l.setAttribute("data-transition-out",u.name),l.removeAttribute("data-transition-in",u.name),u.out&&u.out({from:l,trigger:s,done:o})):(l.setAttribute("data-transition-out",a.name),l.removeAttribute("data-transition-in",a.name),a.out&&a.out({from:l,trigger:s,done:o}))}))},console.log("Highway v2.2.0");var h={Core:c,Helpers:n,Renderer:r,Transition:highway_module_s};s(356);function _assertThisInitialized(o){if(void 0===o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function _inheritsLoose(o,a){o.prototype=Object.create(a.prototype),o.prototype.constructor=o,o.__proto__=a}var f,p,m,g,v,y,_,b,T={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},S={duration:.5,overwrite:!1,delay:0},w=1e8,k=1e-8,x=2*Math.PI,P=x/4,I=0,O=Math.sqrt,L=Math.cos,M=Math.sin,D=function _isString(o){return"string"==typeof o},R=function _isFunction(o){return"function"==typeof o},N=function _isNumber(o){return"number"==typeof o},j=function _isUndefined(o){return void 0===o},U=function _isObject(o){return"object"==typeof o},H=function _isNotFalse(o){return!1!==o},q=function _windowExists(){return"undefined"!=typeof window},V=function _isFuncOrString(o){return R(o)||D(o)},W="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},z=Array.isArray,G=/(?:-?\.?\d|\.)+/gi,X=/[-+=.]*\d+[.e\-+]*\d*[e\-\+]*\d*/g,Y=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,K=/[-+=.]*\d+(?:\.|e-|e)*\d*/gi,Q=/[+-]=-?[\.\d]+/,J=/[#\-+.]*\b[a-z\d-=+%.]+/gi,Z={},ee={},te=function _install(o){return(ee=xe(o,Z))&&pn},ne=function _missingPlugin(o,a){return console.warn("Invalid property",o,"set to",a,"Missing plugin? gsap.registerPlugin()")},re=function _warn(o,a){return!a&&console.warn(o)},ie=function _addGlobal(o,a){return o&&(Z[o]=a)&&ee&&(ee[o]=a)||Z},oe=function _emptyFunc(){return 0},ae={},se=[],ue={},le={},ce={},de=30,he=[],fe="",pe=function _harness(o){var a,s,u=o[0];if(U(u)||R(u)||(o=[o]),!(a=(u._gsap||{}).harness)){for(s=he.length;s--&&!he[s].targetTest(u););a=he[s]}for(s=o.length;s--;)o[s]&&(o[s]._gsap||(o[s]._gsap=new Bt(o[s],a)))||o.splice(s,1);return o},me=function _getCache(o){return o._gsap||pe(tt(o))[0]._gsap},ge=function _getProperty(o,a,s){return(s=o[a])&&R(s)?o[a]():j(s)&&o.getAttribute&&o.getAttribute(a)||s},ve=function _forEachName(o,a){return(o=o.split(",")).forEach(a)||o},ye=function _round(o){return Math.round(1e5*o)/1e5||0},_e=function _arrayContainsAny(o,a){for(var s=a.length,u=0;o.indexOf(a[u])<0&&++u<s;);return u<s},be=function _parseVars(o,a,s){var u,l=N(o[1]),c=(l?2:1)+(a<2?0:1),h=o[c];if(l&&(h.duration=o[1]),h.parent=s,a){for(u=h;s&&!("immediateRender"in u);)u=s.vars.defaults||{},s=H(s.vars.inherit)&&s.parent;h.immediateRender=H(u.immediateRender),a<2?h.runBackwards=1:h.startAt=o[c-1]}return h},Te=function _lazyRender(){var o,a,s=se.length,u=se.slice(0);for(ue={},se.length=0,o=0;o<s;o++)(a=u[o])&&a._lazy&&(a.render(a._lazy[0],a._lazy[1],!0)._lazy=0)},Se=function _lazySafeRender(o,a,s,u){se.length&&Te(),o.render(a,s,u),se.length&&Te()},we=function _numericIfPossible(o){var a=parseFloat(o);return(a||0===a)&&(o+"").match(J).length<2?a:D(o)?o.trim():o},Ee=function _passThrough(o){return o},ke=function _setDefaults(o,a){for(var s in a)s in o||(o[s]=a[s]);return o},Ce=function _setKeyframeDefaults(o,a){for(var s in a)s in o||"duration"===s||"ease"===s||(o[s]=a[s])},xe=function _merge(o,a){for(var s in a)o[s]=a[s];return o},Pe=function _mergeDeep(o,a){for(var s in a)o[s]=U(a[s])?_mergeDeep(o[s]||(o[s]={}),a[s]):a[s];return o},Ae=function _copyExcluding(o,a){var s,u={};for(s in o)s in a||(u[s]=o[s]);return u},Ie=function _inheritDefaults(o){var a=o.parent||f,s=o.keyframes?Ce:ke;if(H(o.inherit))for(;a;)s(o,a.vars.defaults),a=a.parent||a._dp;return o},Oe=function _removeLinkedListItem(o,a,s,u){void 0===s&&(s="_first"),void 0===u&&(u="_last");var l=a._prev,c=a._next;l?l._next=c:o[s]===a&&(o[s]=c),c?c._prev=l:o[u]===a&&(o[u]=l),a._next=a._prev=a.parent=null},Le=function _removeFromParent(o,a){o.parent&&(!a||o.parent.autoRemoveChildren)&&o.parent.remove(o),o._act=0},Me=function _uncache(o,a){if(o&&(!a||a._end>o._dur||a._start<0))for(var s=o;s;)s._dirty=1,s=s.parent;return o},De=function _recacheAncestors(o){for(var a=o.parent;a&&a.parent;)a._dirty=1,a.totalDuration(),a=a.parent;return o},Re=function _hasNoPausedAncestors(o){return!o||o._ts&&_hasNoPausedAncestors(o.parent)},Ne=function _elapsedCycleDuration(o){return o._repeat?Be(o._tTime,o=o.duration()+o._rDelay)*o:0},Be=function _animationCycle(o,a){return(o/=a)&&~~o===o?~~o-1:~~o},Fe=function _parentToChildTotalTime(o,a){return(o-a._start)*a._ts+(a._ts>=0?0:a._dirty?a.totalDuration():a._tDur)},je=function _setEnd(o){return o._end=ye(o._start+(o._tDur/Math.abs(o._ts||o._rts||k)||0))},Ue=function _alignPlayhead(o,a){var s=o._dp;return s&&s.smoothChildTiming&&o._ts&&(o._start=ye(o._dp._time-(o._ts>0?a/o._ts:((o._dirty?o.totalDuration():o._tDur)-a)/-o._ts)),je(o),s._dirty||Me(s,o)),o},He=function _postAddChecks(o,a){var s;if((a._time||a._initted&&!a._dur)&&(s=Fe(o.rawTime(),a),(!a._dur||Ke(0,a.totalDuration(),s)-a._tTime>k)&&a.render(s,!0)),Me(o,a)._dp&&o._initted&&o._time>=o._dur&&o._ts){if(o._dur<o.duration())for(s=o;s._dp;)s.rawTime()>=0&&s.totalTime(s._tTime),s=s._dp;o._zTime=-1e-8}},qe=function _addToTimeline(o,a,s,u){return a.parent&&Le(a),a._start=ye(s+a._delay),a._end=ye(a._start+(a.totalDuration()/Math.abs(a.timeScale())||0)),function _addLinkedListItem(o,a,s,u,l){void 0===s&&(s="_first"),void 0===u&&(u="_last");var c,h=o[u];if(l)for(c=a[l];h&&h[l]>c;)h=h._prev;h?(a._next=h._next,h._next=a):(a._next=o[s],o[s]=a),a._next?a._next._prev=a:o[u]=a,a._prev=h,a.parent=a._dp=o}(o,a,"_first","_last",o._sort?"_start":0),o._recent=a,u||He(o,a),o},Ve=function _scrollTrigger(o,a){return(Z.ScrollTrigger||ne("scrollTrigger",a))&&Z.ScrollTrigger.create(a,o)},We=function _attemptInitTween(o,a,s,u){return Wt(o,a),o._initted?!s&&o._pt&&(o._dur&&!1!==o.vars.lazy||!o._dur&&o.vars.lazy)&&y!==Et.frame?(se.push(o),o._lazy=[a,u],1):void 0:1},ze=function _setDuration(o,a,s,u){var l=o._repeat,c=ye(a)||0,h=o._tTime/o._tDur;return h&&!u&&(o._time*=c/o._dur),o._dur=c,o._tDur=l?l<0?1e10:ye(c*(l+1)+o._rDelay*l):c,h&&!u?Ue(o,o._tTime=o._tDur*h):o.parent&&je(o),s||Me(o.parent,o),o},Ge=function _onUpdateTotalDuration(o){return o instanceof jt?Me(o):ze(o,o._dur)},Xe={_start:0,endTime:oe},Ye=function _parsePosition(o,a){var s,u,l=o.labels,c=o._recent||Xe,h=o.duration()>=w?c.endTime(!1):o._dur;return D(a)&&(isNaN(a)||a in l)?"<"===(s=a.charAt(0))||">"===s?("<"===s?c._start:c.endTime(c._repeat>=0))+(parseFloat(a.substr(1))||0):(s=a.indexOf("="))<0?(a in l||(l[a]=h),l[a]):(u=+(a.charAt(s-1)+a.substr(s+1)),s>1?_parsePosition(o,a.substr(0,s-1))+u:h+u):null==a?h:+a},$e=function _conditionalReturn(o,a){return o||0===o?a(o):a},Ke=function _clamp(o,a,s){return s<o?o:s>a?a:s},Qe=function getUnit(o){return(o=(o+"").substr((parseFloat(o)+"").length))&&isNaN(o)?o:""},Je=[].slice,Ze=function _isArrayLike(o,a){return o&&U(o)&&"length"in o&&(!a&&!o.length||o.length-1 in o&&U(o[0]))&&!o.nodeType&&o!==p},et=function _flatten(o,a,s){return void 0===s&&(s=[]),o.forEach((function(o){var u;return D(o)&&!a||Ze(o,1)?(u=s).push.apply(u,tt(o)):s.push(o)}))||s},tt=function toArray(o,a){return!D(o)||a||!m&&kt()?z(o)?et(o,a):Ze(o)?Je.call(o,0):o?[o]:[]:Je.call(g.querySelectorAll(o),0)},nt=function shuffle(o){return o.sort((function(){return.5-Math.random()}))},rt=function distribute(o){if(R(o))return o;var a=U(o)?o:{each:o},s=Lt(a.ease),u=a.from||0,l=parseFloat(a.base)||0,c={},h=u>0&&u<1,f=isNaN(u)||h,p=a.axis,m=u,g=u;return D(u)?m=g={center:.5,edges:.5,end:1}[u]||0:!h&&f&&(m=u[0],g=u[1]),function(o,h,v){var y,_,b,T,S,k,x,P,I,L=(v||a).length,M=c[L];if(!M){if(!(I="auto"===a.grid?0:(a.grid||[1,w])[1])){for(x=-w;x<(x=v[I++].getBoundingClientRect().left)&&I<L;);I--}for(M=c[L]=[],y=f?Math.min(I,L)*m-.5:u%I,_=f?L*g/I-.5:u/I|0,x=0,P=w,k=0;k<L;k++)b=k%I-y,T=_-(k/I|0),M[k]=S=p?Math.abs("y"===p?T:b):O(b*b+T*T),S>x&&(x=S),S<P&&(P=S);"random"===u&&nt(M),M.max=x-P,M.min=P,M.v=L=(parseFloat(a.amount)||parseFloat(a.each)*(I>L?L-1:p?"y"===p?L/I:I:Math.max(I,L/I))||0)*("edges"===u?-1:1),M.b=L<0?l-L:l,M.u=Qe(a.amount||a.each)||0,s=s&&L<0?It(s):s}return L=(M[o]-M.min)/M.max||0,ye(M.b+(s?s(L):L)*M.v)+M.u}},it=function _roundModifier(o){var a=o<1?Math.pow(10,(o+"").length-2):1;return function(s){return Math.floor(Math.round(parseFloat(s)/o)*o*a)/a+(N(s)?0:Qe(s))}},ot=function snap(o,a){var s,u,l=z(o);return!l&&U(o)&&(s=l=o.radius||w,o.values?(o=tt(o.values),(u=!N(o[0]))&&(s*=s)):o=it(o.increment)),$e(a,l?R(o)?function(a){return u=o(a),Math.abs(u-a)<=s?u:a}:function(a){for(var l,c,h=parseFloat(u?a.x:a),f=parseFloat(u?a.y:0),p=w,m=0,g=o.length;g--;)(l=u?(l=o[g].x-h)*l+(c=o[g].y-f)*c:Math.abs(o[g]-h))<p&&(p=l,m=g);return m=!s||p<=s?o[m]:a,u||m===a||N(a)?m:m+Qe(a)}:it(o))},st=function random(o,a,s,u){return $e(z(o)?!a:!0===s?!!(s=0):!u,(function(){return z(o)?o[~~(Math.random()*o.length)]:(s=s||1e-5)&&(u=s<1?Math.pow(10,(s+"").length-2):1)&&Math.floor(Math.round((o+Math.random()*(a-o))/s)*s*u)/u}))},ut=function _wrapArray(o,a,s){return $e(s,(function(s){return o[~~a(s)]}))},lt=function _replaceRandom(o){for(var a,s,u,l,c=0,h="";~(a=o.indexOf("random(",c));)u=o.indexOf(")",a),l="["===o.charAt(a+7),s=o.substr(a+7,u-a-7).match(l?J:G),h+=o.substr(c,a-c)+st(l?s:+s[0],l?0:+s[1],+s[2]||1e-5),c=u+1;return h+o.substr(c,o.length-c)},ct=function mapRange(o,a,s,u,l){var c=a-o,h=u-s;return $e(l,(function(a){return s+((a-o)/c*h||0)}))},dt=function _getLabelInDirection(o,a,s){var u,l,c,h=o.labels,f=w;for(u in h)(l=h[u]-a)<0==!!s&&l&&f>(l=Math.abs(l))&&(c=u,f=l);return c},ht=function _callback(o,a,s){var u,l,c=o.vars,h=c[a];if(h)return u=c[a+"Params"],l=c.callbackScope||o,s&&se.length&&Te(),u?h.apply(l,u):h.call(l)},ft=function _interrupt(o){return Le(o),o.progress()<1&&ht(o,"onInterrupt"),o},pt=function _createPlugin(o){var a=(o=!o.name&&o.default||o).name,s=R(o),u=a&&!s&&o.init?function(){this._props=[]}:o,l={init:oe,render:rn,add:qt,kill:sn,modifier:an,rawVars:0},c={targetTest:0,get:0,getSetter:Zt,aliases:{},register:0};if(kt(),o!==u){if(le[a])return;ke(u,ke(Ae(o,l),c)),xe(u.prototype,xe(l,Ae(o,c))),le[u.prop=a]=u,o.targetTest&&(he.push(u),ae[a]=1),a=("css"===a?"CSS":a.charAt(0).toUpperCase()+a.substr(1))+"Plugin"}ie(a,u),o.register&&o.register(pn,u,cn)},mt=255,gt={aqua:[0,mt,mt],lime:[0,mt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,mt],navy:[0,0,128],white:[mt,mt,mt],olive:[128,128,0],yellow:[mt,mt,0],orange:[mt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[mt,0,0],pink:[mt,192,203],cyan:[0,mt,mt],transparent:[mt,mt,mt,0]},vt=function _hue(o,a,s){return(6*(o=o<0?o+1:o>1?o-1:o)<1?a+(s-a)*o*6:o<.5?s:3*o<2?a+(s-a)*(2/3-o)*6:a)*mt+.5|0},yt=function splitColor(o,a,s){var u,l,c,h,f,p,m,g,v,y,_=o?N(o)?[o>>16,o>>8&mt,o&mt]:0:gt.black;if(!_){if(","===o.substr(-1)&&(o=o.substr(0,o.length-1)),gt[o])_=gt[o];else if("#"===o.charAt(0))4===o.length&&(u=o.charAt(1),l=o.charAt(2),c=o.charAt(3),o="#"+u+u+l+l+c+c),_=[(o=parseInt(o.substr(1),16))>>16,o>>8&mt,o&mt];else if("hsl"===o.substr(0,3))if(_=y=o.match(G),a){if(~o.indexOf("="))return _=o.match(X),s&&_.length<4&&(_[3]=1),_}else h=+_[0]%360/360,f=+_[1]/100,u=2*(p=+_[2]/100)-(l=p<=.5?p*(f+1):p+f-p*f),_.length>3&&(_[3]*=1),_[0]=vt(h+1/3,u,l),_[1]=vt(h,u,l),_[2]=vt(h-1/3,u,l);else _=o.match(G)||gt.transparent;_=_.map(Number)}return a&&!y&&(u=_[0]/mt,l=_[1]/mt,c=_[2]/mt,p=((m=Math.max(u,l,c))+(g=Math.min(u,l,c)))/2,m===g?h=f=0:(v=m-g,f=p>.5?v/(2-m-g):v/(m+g),h=m===u?(l-c)/v+(l<c?6:0):m===l?(c-u)/v+2:(u-l)/v+4,h*=60),_[0]=~~(h+.5),_[1]=~~(100*f+.5),_[2]=~~(100*p+.5)),s&&_.length<4&&(_[3]=1),_},_t=function _colorOrderData(o){var a=[],s=[],u=-1;return o.split(Tt).forEach((function(o){var l=o.match(Y)||[];a.push.apply(a,l),s.push(u+=l.length+1)})),a.c=s,a},bt=function _formatColors(o,a,s){var u,l,c,h,f="",p=(o+f).match(Tt),m=a?"hsla(":"rgba(",g=0;if(!p)return o;if(p=p.map((function(o){return(o=yt(o,a,1))&&m+(a?o[0]+","+o[1]+"%,"+o[2]+"%,"+o[3]:o.join(","))+")"})),s&&(c=_t(o),(u=s.c).join(f)!==c.c.join(f)))for(h=(l=o.replace(Tt,"1").split(Y)).length-1;g<h;g++)f+=l[g]+(~u.indexOf(g)?p.shift()||m+"0,0,0,0)":(c.length?c:p.length?p:s).shift());if(!l)for(h=(l=o.split(Tt)).length-1;g<h;g++)f+=l[g]+p[g];return f+l[h]},Tt=function(){var o,a="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(o in gt)a+="|"+o+"\\b";return new RegExp(a+")","gi")}(),St=/hsl[a]?\(/,wt=function _colorStringFilter(o){var a,s=o.join(" ");if(Tt.lastIndex=0,Tt.test(s))return a=St.test(s),o[1]=bt(o[1],a),o[0]=bt(o[0],a,_t(o[1])),!0},Et=function(){var o,a,s,u,l,c,h=Date.now,f=500,y=33,_=h(),T=_,S=1e3/240,w=S,k=[],x=function _tick(s){var p,m,g,v,b=h()-T,x=!0===s;if(b>f&&(_+=b-y),((p=(g=(T+=b)-_)-w)>0||x)&&(v=++u.frame,l=g-1e3*u.time,u.time=g/=1e3,w+=p+(p>=S?4:S-p),m=1),x||(o=a(_tick)),m)for(c=0;c<k.length;c++)k[c](g,l,v,s)};return u={time:0,frame:0,tick:function tick(){x(!0)},deltaRatio:function deltaRatio(o){return l/(1e3/(o||60))},wake:function wake(){v&&(!m&&q()&&(p=m=window,g=p.document||{},Z.gsap=pn,(p.gsapVersions||(p.gsapVersions=[])).push(pn.version),te(ee||p.GreenSockGlobals||!p.gsap&&p||{}),s=p.requestAnimationFrame),o&&u.sleep(),a=s||function(o){return setTimeout(o,w-1e3*u.time+1|0)},b=1,x(2))},sleep:function sleep(){(s?p.cancelAnimationFrame:clearTimeout)(o),b=0,a=oe},lagSmoothing:function lagSmoothing(o,a){f=o||1e8,y=Math.min(a,f,0)},fps:function fps(o){S=1e3/(o||240),w=1e3*u.time+S},add:function add(o){k.indexOf(o)<0&&k.push(o),kt()},remove:function remove(o){var a;~(a=k.indexOf(o))&&k.splice(a,1)&&c>=a&&c--},_listeners:k}}(),kt=function _wake(){return!b&&Et.wake()},Ct={},xt=/^[\d.\-M][\d.\-,\s]/,Pt=/["']/g,At=function _parseObjectInString(o){for(var a,s,u,l={},c=o.substr(1,o.length-3).split(":"),h=c[0],f=1,p=c.length;f<p;f++)s=c[f],a=f!==p-1?s.lastIndexOf(","):s.length,u=s.substr(0,a),l[h]=isNaN(u)?u.replace(Pt,"").trim():+u,h=s.substr(a+1).trim();return l},It=function _invertEase(o){return function(a){return 1-o(1-a)}},Ot=function _propagateYoyoEase(o,a){for(var s,u=o._first;u;)u instanceof jt?_propagateYoyoEase(u,a):!u.vars.yoyoEase||u._yoyo&&u._repeat||u._yoyo===a||(u.timeline?_propagateYoyoEase(u.timeline,a):(s=u._ease,u._ease=u._yEase,u._yEase=s,u._yoyo=a)),u=u._next},Lt=function _parseEase(o,a){return o&&(R(o)?o:Ct[o]||function _configEaseFromString(o){var a=(o+"").split("("),s=Ct[a[0]];return s&&a.length>1&&s.config?s.config.apply(null,~o.indexOf("{")?[At(a[1])]:function _valueInParentheses(o){var a=o.indexOf("(")+1,s=o.indexOf(")"),u=o.indexOf("(",a);return o.substring(a,~u&&u<s?o.indexOf(")",s+1):s)}(o).split(",").map(we)):Ct._CE&&xt.test(o)?Ct._CE("",o):s}(o))||a},Mt=function _insertEase(o,a,s,u){void 0===s&&(s=function easeOut(o){return 1-a(1-o)}),void 0===u&&(u=function easeInOut(o){return o<.5?a(2*o)/2:1-a(2*(1-o))/2});var l,c={easeIn:a,easeOut:s,easeInOut:u};return ve(o,(function(o){for(var a in Ct[o]=Z[o]=c,Ct[l=o.toLowerCase()]=s,c)Ct[l+("easeIn"===a?".in":"easeOut"===a?".out":".inOut")]=Ct[o+"."+a]=c[a]})),c},Dt=function _easeInOutFromOut(o){return function(a){return a<.5?(1-o(1-2*a))/2:.5+o(2*(a-.5))/2}},Rt=function _configElastic(o,a,s){var u=a>=1?a:1,l=(s||(o?.3:.45))/(a<1?a:1),c=l/x*(Math.asin(1/u)||0),h=function easeOut(o){return 1===o?1:u*Math.pow(2,-10*o)*M((o-c)*l)+1},f="out"===o?h:"in"===o?function(o){return 1-h(1-o)}:Dt(h);return l=x/l,f.config=function(a,s){return _configElastic(o,a,s)},f},Nt=function _configBack(o,a){void 0===a&&(a=1.70158);var s=function easeOut(o){return o?--o*o*((a+1)*o+a)+1:0},u="out"===o?s:"in"===o?function(o){return 1-s(1-o)}:Dt(s);return u.config=function(a){return _configBack(o,a)},u};ve("Linear,Quad,Cubic,Quart,Quint,Strong",(function(o,a){var s=a<5?a+1:a;Mt(o+",Power"+(s-1),a?function(o){return Math.pow(o,s)}:function(o){return o},(function(o){return 1-Math.pow(1-o,s)}),(function(o){return o<.5?Math.pow(2*o,s)/2:1-Math.pow(2*(1-o),s)/2}))})),Ct.Linear.easeNone=Ct.none=Ct.Linear.easeIn,Mt("Elastic",Rt("in"),Rt("out"),Rt()),function(o,a){var s=1/a,u=function easeOut(u){return u<s?o*u*u:u<.7272727272727273?o*Math.pow(u-1.5/a,2)+.75:u<.9090909090909092?o*(u-=2.25/a)*u+.9375:o*Math.pow(u-2.625/a,2)+.984375};Mt("Bounce",(function(o){return 1-u(1-o)}),u)}(7.5625,2.75),Mt("Expo",(function(o){return o?Math.pow(2,10*(o-1)):0})),Mt("Circ",(function(o){return-(O(1-o*o)-1)})),Mt("Sine",(function(o){return 1===o?1:1-L(o*P)})),Mt("Back",Nt("in"),Nt("out"),Nt()),Ct.SteppedEase=Ct.steps=Z.SteppedEase={config:function config(o,a){void 0===o&&(o=1);var s=1/o,u=o+(a?0:1),l=a?1:0;return function(o){return((u*Ke(0,.99999999,o)|0)+l)*s}}},S.ease=Ct["quad.out"],ve("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(o){return fe+=o+","+o+"Params,"}));var Bt=function GSCache(o,a){this.id=I++,o._gsap=this,this.target=o,this.harness=a,this.get=a?a.get:ge,this.set=a?a.getSetter:Zt},Ft=function(){function Animation(o,a){var s=o.parent||f;this.vars=o,this._delay=+o.delay||0,(this._repeat=o.repeat||0)&&(this._rDelay=o.repeatDelay||0,this._yoyo=!!o.yoyo||!!o.yoyoEase),this._ts=1,ze(this,+o.duration,1,1),this.data=o.data,b||Et.wake(),s&&qe(s,this,a||0===a?a:s._time,1),o.reversed&&this.reverse(),o.paused&&this.paused(!0)}var o=Animation.prototype;return o.delay=function delay(o){return o||0===o?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+o-this._delay),this._delay=o,this):this._delay},o.duration=function duration(o){return arguments.length?this.totalDuration(this._repeat>0?o+(o+this._rDelay)*this._repeat:o):this.totalDuration()&&this._dur},o.totalDuration=function totalDuration(o){return arguments.length?(this._dirty=0,ze(this,this._repeat<0?o:(o-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},o.totalTime=function totalTime(o,a){if(kt(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(Ue(this,o);s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&o<this._tDur||this._ts<0&&o>0||!this._tDur&&!o)&&qe(this._dp,this,this._start-this._delay)}return(this._tTime!==o||!this._dur&&!a||this._initted&&Math.abs(this._zTime)===k||!o&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=o),Se(this,o,a)),this},o.time=function time(o,a){return arguments.length?this.totalTime(Math.min(this.totalDuration(),o+Ne(this))%this._dur||(o?this._dur:0),a):this._time},o.totalProgress=function totalProgress(o,a){return arguments.length?this.totalTime(this.totalDuration()*o,a):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},o.progress=function progress(o,a){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?o:1-o)+Ne(this),a):this.duration()?Math.min(1,this._time/this._dur):this.ratio},o.iteration=function iteration(o,a){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(o-1)*s,a):this._repeat?Be(this._tTime,s)+1:1},o.timeScale=function timeScale(o){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===o)return this;var a=this.parent&&this._ts?Fe(this.parent._time,this):this._tTime;return this._rts=+o||0,this._ts=this._ps||-1e-8===o?0:this._rts,De(this.totalTime(Ke(-this._delay,this._tDur,a),!0))},o.paused=function paused(o){return arguments.length?(this._ps!==o&&(this._ps=o,o?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(kt(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&(this._tTime-=k)&&Math.abs(this._zTime)!==k))),this):this._ps},o.startTime=function startTime(o){if(arguments.length){this._start=o;var a=this.parent||this._dp;return a&&(a._sort||!this.parent)&&qe(a,this,o-this._delay),this}return this._start},o.endTime=function endTime(o){return this._start+(H(o)?this.totalDuration():this.duration())/Math.abs(this._ts)},o.rawTime=function rawTime(o){var a=this.parent||this._dp;return a?o&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Fe(a.rawTime(o),this):this._tTime:this._tTime},o.globalTime=function globalTime(o){for(var a=this,s=arguments.length?o:a.rawTime();a;)s=a._start+s/(a._ts||1),a=a._dp;return s},o.repeat=function repeat(o){return arguments.length?(this._repeat=o,Ge(this)):this._repeat},o.repeatDelay=function repeatDelay(o){return arguments.length?(this._rDelay=o,Ge(this)):this._rDelay},o.yoyo=function yoyo(o){return arguments.length?(this._yoyo=o,this):this._yoyo},o.seek=function seek(o,a){return this.totalTime(Ye(this,o),H(a))},o.restart=function restart(o,a){return this.play().totalTime(o?-this._delay:0,H(a))},o.play=function play(o,a){return null!=o&&this.seek(o,a),this.reversed(!1).paused(!1)},o.reverse=function reverse(o,a){return null!=o&&this.seek(o||this.totalDuration(),a),this.reversed(!0).paused(!1)},o.pause=function pause(o,a){return null!=o&&this.seek(o,a),this.paused(!0)},o.resume=function resume(){return this.paused(!1)},o.reversed=function reversed(o){return arguments.length?(!!o!==this.reversed()&&this.timeScale(-this._rts||(o?-1e-8:0)),this):this._rts<0},o.invalidate=function invalidate(){return this._initted=0,this._zTime=-1e-8,this},o.isActive=function isActive(){var o,a=this.parent||this._dp,s=this._start;return!(a&&!(this._ts&&this._initted&&a.isActive()&&(o=a.rawTime(!0))>=s&&o<this.endTime(!0)-k))},o.eventCallback=function eventCallback(o,a,s){var u=this.vars;return arguments.length>1?(a?(u[o]=a,s&&(u[o+"Params"]=s),"onUpdate"===o&&(this._onUpdate=a)):delete u[o],this):u[o]},o.then=function then(o){var a=this;return new Promise((function(s){var u=R(o)?o:Ee,l=function _resolve(){var o=a.then;a.then=null,R(u)&&(u=u(a))&&(u.then||u===a)&&(a.then=o),s(u),a.then=o};a._initted&&1===a.totalProgress()&&a._ts>=0||!a._tTime&&a._ts<0?l():a._prom=l}))},o.kill=function kill(){ft(this)},Animation}();ke(Ft.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var jt=function(o){function Timeline(a,s){var u;return void 0===a&&(a={}),(u=o.call(this,a,s)||this).labels={},u.smoothChildTiming=!!a.smoothChildTiming,u.autoRemoveChildren=!!a.autoRemoveChildren,u._sort=H(a.sortChildren),u.parent&&He(u.parent,_assertThisInitialized(u)),a.scrollTrigger&&Ve(_assertThisInitialized(u),a.scrollTrigger),u}_inheritsLoose(Timeline,o);var a=Timeline.prototype;return a.to=function to(o,a,s){return new Yt(o,be(arguments,0,this),Ye(this,N(a)?arguments[3]:s)),this},a.from=function from(o,a,s){return new Yt(o,be(arguments,1,this),Ye(this,N(a)?arguments[3]:s)),this},a.fromTo=function fromTo(o,a,s,u){return new Yt(o,be(arguments,2,this),Ye(this,N(a)?arguments[4]:u)),this},a.set=function set(o,a,s){return a.duration=0,a.parent=this,Ie(a).repeatDelay||(a.repeat=0),a.immediateRender=!!a.immediateRender,new Yt(o,a,Ye(this,s),1),this},a.call=function call(o,a,s){return qe(this,Yt.delayedCall(0,o,a),Ye(this,s))},a.staggerTo=function staggerTo(o,a,s,u,l,c,h){return s.duration=a,s.stagger=s.stagger||u,s.onComplete=c,s.onCompleteParams=h,s.parent=this,new Yt(o,s,Ye(this,l)),this},a.staggerFrom=function staggerFrom(o,a,s,u,l,c,h){return s.runBackwards=1,Ie(s).immediateRender=H(s.immediateRender),this.staggerTo(o,a,s,u,l,c,h)},a.staggerFromTo=function staggerFromTo(o,a,s,u,l,c,h,f){return u.startAt=s,Ie(u).immediateRender=H(u.immediateRender),this.staggerTo(o,a,u,l,c,h,f)},a.render=function render(o,a,s){var u,l,c,h,p,m,g,v,y,_,b,T,S=this._time,w=this._dirty?this.totalDuration():this._tDur,x=this._dur,P=this!==f&&o>w-k&&o>=0?w:o<k?0:o,I=this._zTime<0!=o<0&&(this._initted||!x);if(P!==this._tTime||s||I){if(S!==this._time&&x&&(P+=this._time-S,o+=this._time-S),u=P,y=this._start,m=!(v=this._ts),I&&(x||(S=this._zTime),(o||!a)&&(this._zTime=o)),this._repeat&&(b=this._yoyo,p=x+this._rDelay,u=ye(P%p),P===w?(h=this._repeat,u=x):((h=~~(P/p))&&h===P/p&&(u=x,h--),u>x&&(u=x)),_=Be(this._tTime,p),!S&&this._tTime&&_!==h&&(_=h),b&&1&h&&(u=x-u,T=1),h!==_&&!this._lock)){var O=b&&1&_,L=O===(b&&1&h);if(h<_&&(O=!O),S=O?0:x,this._lock=1,this.render(S||(T?0:ye(h*p)),a,!x)._lock=0,!a&&this.parent&&ht(this,"onRepeat"),this.vars.repeatRefresh&&!T&&(this.invalidate()._lock=1),S!==this._time||m!==!this._ts)return this;if(x=this._dur,w=this._tDur,L&&(this._lock=2,S=O?x:-1e-4,this.render(S,!0),this.vars.repeatRefresh&&!T&&this.invalidate()),this._lock=0,!this._ts&&!m)return this;Ot(this,T)}if(this._hasPause&&!this._forcing&&this._lock<2&&(g=function _findNextPauseTween(o,a,s){var u;if(s>a)for(u=o._first;u&&u._start<=s;){if(!u._dur&&"isPause"===u.data&&u._start>a)return u;u=u._next}else for(u=o._last;u&&u._start>=s;){if(!u._dur&&"isPause"===u.data&&u._start<a)return u;u=u._prev}}(this,ye(S),ye(u)))&&(P-=u-(u=g._start)),this._tTime=P,this._time=u,this._act=!v,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=o),!S&&u&&!a&&ht(this,"onStart"),u>=S&&o>=0)for(l=this._first;l;){if(c=l._next,(l._act||u>=l._start)&&l._ts&&g!==l){if(l.parent!==this)return this.render(o,a,s);if(l.render(l._ts>0?(u-l._start)*l._ts:(l._dirty?l.totalDuration():l._tDur)+(u-l._start)*l._ts,a,s),u!==this._time||!this._ts&&!m){g=0,c&&(P+=this._zTime=-1e-8);break}}l=c}else{l=this._last;for(var M=o<0?o:u;l;){if(c=l._prev,(l._act||M<=l._end)&&l._ts&&g!==l){if(l.parent!==this)return this.render(o,a,s);if(l.render(l._ts>0?(M-l._start)*l._ts:(l._dirty?l.totalDuration():l._tDur)+(M-l._start)*l._ts,a,s),u!==this._time||!this._ts&&!m){g=0,c&&(P+=this._zTime=M?-1e-8:k);break}}l=c}}if(g&&!a&&(this.pause(),g.render(u>=S?0:-1e-8)._zTime=u>=S?1:-1,this._ts))return this._start=y,je(this),this.render(o,a,s);this._onUpdate&&!a&&ht(this,"onUpdate",!0),(P===w&&w>=this.totalDuration()||!P&&S)&&(y!==this._start&&Math.abs(v)===Math.abs(this._ts)||this._lock||((o||!x)&&(P===w&&this._ts>0||!P&&this._ts<0)&&Le(this,1),a||o<0&&!S||!P&&!S||(ht(this,P===w?"onComplete":"onReverseComplete",!0),this._prom&&!(P<w&&this.timeScale()>0)&&this._prom())))}return this},a.add=function add(o,a){var s=this;if(N(a)||(a=Ye(this,a)),!(o instanceof Ft)){if(z(o))return o.forEach((function(o){return s.add(o,a)})),this;if(D(o))return this.addLabel(o,a);if(!R(o))return this;o=Yt.delayedCall(0,o)}return this!==o?qe(this,o,a):this},a.getChildren=function getChildren(o,a,s,u){void 0===o&&(o=!0),void 0===a&&(a=!0),void 0===s&&(s=!0),void 0===u&&(u=-w);for(var l=[],c=this._first;c;)c._start>=u&&(c instanceof Yt?a&&l.push(c):(s&&l.push(c),o&&l.push.apply(l,c.getChildren(!0,a,s)))),c=c._next;return l},a.getById=function getById(o){for(var a=this.getChildren(1,1,1),s=a.length;s--;)if(a[s].vars.id===o)return a[s]},a.remove=function remove(o){return D(o)?this.removeLabel(o):R(o)?this.killTweensOf(o):(Oe(this,o),o===this._recent&&(this._recent=this._last),Me(this))},a.totalTime=function totalTime(a,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=ye(Et.time-(this._ts>0?a/this._ts:(this.totalDuration()-a)/-this._ts))),o.prototype.totalTime.call(this,a,s),this._forcing=0,this):this._tTime},a.addLabel=function addLabel(o,a){return this.labels[o]=Ye(this,a),this},a.removeLabel=function removeLabel(o){return delete this.labels[o],this},a.addPause=function addPause(o,a,s){var u=Yt.delayedCall(0,a||oe,s);return u.data="isPause",this._hasPause=1,qe(this,u,Ye(this,o))},a.removePause=function removePause(o){var a=this._first;for(o=Ye(this,o);a;)a._start===o&&"isPause"===a.data&&Le(a),a=a._next},a.killTweensOf=function killTweensOf(o,a,s){for(var u=this.getTweensOf(o,s),l=u.length;l--;)Ut!==u[l]&&u[l].kill(o,a);return this},a.getTweensOf=function getTweensOf(o,a){for(var s,u=[],l=tt(o),c=this._first,h=N(a);c;)c instanceof Yt?_e(c._targets,l)&&(h?(!Ut||c._initted&&c._ts)&&c.globalTime(0)<=a&&c.globalTime(c.totalDuration())>a:!a||c.isActive())&&u.push(c):(s=c.getTweensOf(l,a)).length&&u.push.apply(u,s),c=c._next;return u},a.tweenTo=function tweenTo(o,a){a=a||{};var s=this,u=Ye(s,o),l=a,c=l.startAt,h=l.onStart,f=l.onStartParams,p=Yt.to(s,ke(a,{ease:"none",lazy:!1,time:u,overwrite:"auto",duration:a.duration||Math.abs((u-(c&&"time"in c?c.time:s._time))/s.timeScale())||k,onStart:function onStart(){s.pause();var o=a.duration||Math.abs((u-s._time)/s.timeScale());p._dur!==o&&ze(p,o,0,1).render(p._time,!0,!0),h&&h.apply(p,f||[])}}));return p},a.tweenFromTo=function tweenFromTo(o,a,s){return this.tweenTo(a,ke({startAt:{time:Ye(this,o)}},s))},a.recent=function recent(){return this._recent},a.nextLabel=function nextLabel(o){return void 0===o&&(o=this._time),dt(this,Ye(this,o))},a.previousLabel=function previousLabel(o){return void 0===o&&(o=this._time),dt(this,Ye(this,o),1)},a.currentLabel=function currentLabel(o){return arguments.length?this.seek(o,!0):this.previousLabel(this._time+k)},a.shiftChildren=function shiftChildren(o,a,s){void 0===s&&(s=0);for(var u,l=this._first,c=this.labels;l;)l._start>=s&&(l._start+=o,l._end+=o),l=l._next;if(a)for(u in c)c[u]>=s&&(c[u]+=o);return Me(this)},a.invalidate=function invalidate(){var a=this._first;for(this._lock=0;a;)a.invalidate(),a=a._next;return o.prototype.invalidate.call(this)},a.clear=function clear(o){void 0===o&&(o=!0);for(var a,s=this._first;s;)a=s._next,this.remove(s),s=a;return this._time=this._tTime=this._pTime=0,o&&(this.labels={}),Me(this)},a.totalDuration=function totalDuration(o){var a,s,u,l=0,c=this,h=c._last,p=w;if(arguments.length)return c.timeScale((c._repeat<0?c.duration():c.totalDuration())/(c.reversed()?-o:o));if(c._dirty){for(u=c.parent;h;)a=h._prev,h._dirty&&h.totalDuration(),(s=h._start)>p&&c._sort&&h._ts&&!c._lock?(c._lock=1,qe(c,h,s-h._delay,1)._lock=0):p=s,s<0&&h._ts&&(l-=s,(!u&&!c._dp||u&&u.smoothChildTiming)&&(c._start+=s/c._ts,c._time-=s,c._tTime-=s),c.shiftChildren(-s,!1,-Infinity),p=0),h._end>l&&h._ts&&(l=h._end),h=a;ze(c,c===f&&c._time>l?c._time:l,1,1),c._dirty=0}return c._tDur},Timeline.updateRoot=function updateRoot(o){if(f._ts&&(Se(f,Fe(o,f)),y=Et.frame),Et.frame>=de){de+=T.autoSleep||120;var a=f._first;if((!a||!a._ts)&&T.autoSleep&&Et._listeners.length<2){for(;a&&!a._ts;)a=a._next;a||Et.sleep()}}},Timeline}(Ft);ke(jt.prototype,{_lock:0,_hasPause:0,_forcing:0});var Ut,Ht=function _addComplexStringPropTween(o,a,s,u,l,c,h){var f,p,m,g,v,y,_,b,T=new cn(this._pt,o,a,0,1,nn,null,l),S=0,w=0;for(T.b=s,T.e=u,s+="",(_=~(u+="").indexOf("random("))&&(u=lt(u)),c&&(c(b=[s,u],o,a),s=b[0],u=b[1]),p=s.match(K)||[];f=K.exec(u);)g=f[0],v=u.substring(S,f.index),m?m=(m+1)%5:"rgba("===v.substr(-5)&&(m=1),g!==p[w++]&&(y=parseFloat(p[w-1])||0,T._pt={_next:T._pt,p:v||1===w?v:",",s:y,c:"="===g.charAt(1)?parseFloat(g.substr(2))*("-"===g.charAt(0)?-1:1):parseFloat(g)-y,m:m&&m<4?Math.round:0},S=K.lastIndex);return T.c=S<u.length?u.substring(S,u.length):"",T.fp=h,(Q.test(u)||_)&&(T.e=0),this._pt=T,T},qt=function _addPropTween(o,a,s,u,l,c,h,f,p){R(u)&&(u=u(l||0,o,c));var m,g=o[a],v="get"!==s?s:R(g)?p?o[a.indexOf("set")||!R(o["get"+a.substr(3)])?a:"get"+a.substr(3)](p):o[a]():g,y=R(g)?p?Qt:Kt:$t;if(D(u)&&(~u.indexOf("random(")&&(u=lt(u)),"="===u.charAt(1)&&(u=parseFloat(v)+parseFloat(u.substr(2))*("-"===u.charAt(0)?-1:1)+(Qe(v)||0))),v!==u)return isNaN(v*u)?(!g&&!(a in o)&&ne(a,u),Ht.call(this,o,a,v,u,y,f||T.stringFilter,p)):(m=new cn(this._pt,o,a,+v||0,u-(v||0),"boolean"==typeof g?tn:en,0,y),p&&(m.fp=p),h&&m.modifier(h,this,o),this._pt=m)},Vt=function _checkPlugin(o,a,s,u,l,c){var h,f,p,m;if(le[o]&&!1!==(h=new le[o]).init(l,h.rawVars?a[o]:function _processVars(o,a,s,u,l){if(R(o)&&(o=zt(o,l,a,s,u)),!U(o)||o.style&&o.nodeType||z(o)||W(o))return D(o)?zt(o,l,a,s,u):o;var c,h={};for(c in o)h[c]=zt(o[c],l,a,s,u);return h}(a[o],u,l,c,s),s,u,c)&&(s._pt=f=new cn(s._pt,l,o,0,1,h.render,h,0,h.priority),s!==_))for(p=s._ptLookup[s._targets.indexOf(l)],m=h._props.length;m--;)p[h._props[m]]=f;return h},Wt=function _initTween(o,a){var s,u,l,c,h,p,m,g,v,y,_,b,T,w=o.vars,x=w.ease,P=w.startAt,I=w.immediateRender,O=w.lazy,L=w.onUpdate,M=w.onUpdateParams,D=w.callbackScope,R=w.runBackwards,N=w.yoyoEase,j=w.keyframes,U=w.autoRevert,q=o._dur,V=o._startAt,W=o._targets,z=o.parent,G=z&&"nested"===z.data?z.parent._targets:W,X="auto"===o._overwrite,Y=o.timeline;if(Y&&(!j||!x)&&(x="none"),o._ease=Lt(x,S.ease),o._yEase=N?It(Lt(!0===N?x:N,S.ease)):0,N&&o._yoyo&&!o._repeat&&(N=o._yEase,o._yEase=o._ease,o._ease=N),!Y){if(b=(g=W[0]?me(W[0]).harness:0)&&w[g.prop],s=Ae(w,ae),V&&V.render(-1,!0).kill(),P){if(Le(o._startAt=Yt.set(W,ke({data:"isStart",overwrite:!1,parent:z,immediateRender:!0,lazy:H(O),startAt:null,delay:0,onUpdate:L,onUpdateParams:M,callbackScope:D,stagger:0},P))),I)if(a>0)U||(o._startAt=0);else if(q&&!(a<0&&V))return void(a&&(o._zTime=a))}else if(R&&q)if(V)!U&&(o._startAt=0);else if(a&&(I=!1),l=ke({overwrite:!1,data:"isFromStart",lazy:I&&H(O),immediateRender:I,stagger:0,parent:z},s),b&&(l[g.prop]=b),Le(o._startAt=Yt.set(W,l)),I){if(!a)return}else _initTween(o._startAt,k);for(o._pt=0,O=q&&H(O)||O&&!q,u=0;u<W.length;u++){if(m=(h=W[u])._gsap||pe(W)[u]._gsap,o._ptLookup[u]=y={},ue[m.id]&&se.length&&Te(),_=G===W?u:G.indexOf(h),g&&!1!==(v=new g).init(h,b||s,o,_,G)&&(o._pt=c=new cn(o._pt,h,v.name,0,1,v.render,v,0,v.priority),v._props.forEach((function(o){y[o]=c})),v.priority&&(p=1)),!g||b)for(l in s)le[l]&&(v=Vt(l,s,o,_,h,G))?v.priority&&(p=1):y[l]=c=qt.call(o,h,l,"get",s[l],_,G,0,w.stringFilter);o._op&&o._op[u]&&o.kill(h,o._op[u]),X&&o._pt&&(Ut=o,f.killTweensOf(h,y,o.globalTime(0)),T=!o.parent,Ut=0),o._pt&&O&&(ue[m.id]=1)}p&&ln(o),o._onInit&&o._onInit(o)}o._from=!Y&&!!w.runBackwards,o._onUpdate=L,o._initted=(!o._op||o._pt)&&!T},zt=function _parseFuncOrString(o,a,s,u,l){return R(o)?o.call(a,s,u,l):D(o)&&~o.indexOf("random(")?lt(o):o},Gt=fe+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",Xt=(Gt+",id,stagger,delay,duration,paused,scrollTrigger").split(","),Yt=function(o){function Tween(a,s,u,l){var c;"number"==typeof s&&(u.duration=s,s=u,u=null);var h,p,m,g,v,y,_,b,S=(c=o.call(this,l?s:Ie(s),u)||this).vars,w=S.duration,k=S.delay,x=S.immediateRender,P=S.stagger,I=S.overwrite,O=S.keyframes,L=S.defaults,M=S.scrollTrigger,D=S.yoyoEase,R=c.parent,j=(z(a)||W(a)?N(a[0]):"length"in s)?[a]:tt(a);if(c._targets=j.length?pe(j):re("GSAP target "+a+" not found. https://greensock.com",!T.nullTargetWarn)||[],c._ptLookup=[],c._overwrite=I,O||P||V(w)||V(k)){if(s=c.vars,(h=c.timeline=new jt({data:"nested",defaults:L||{}})).kill(),h.parent=_assertThisInitialized(c),O)ke(h.vars.defaults,{ease:"none"}),O.forEach((function(o){return h.to(j,o,">")}));else{if(g=j.length,_=P?rt(P):oe,U(P))for(v in P)~Gt.indexOf(v)&&(b||(b={}),b[v]=P[v]);for(p=0;p<g;p++){for(v in m={},s)Xt.indexOf(v)<0&&(m[v]=s[v]);m.stagger=0,D&&(m.yoyoEase=D),b&&xe(m,b),y=j[p],m.duration=+zt(w,_assertThisInitialized(c),p,y,j),m.delay=(+zt(k,_assertThisInitialized(c),p,y,j)||0)-c._delay,!P&&1===g&&m.delay&&(c._delay=k=m.delay,c._start+=k,m.delay=0),h.to(y,m,_(p,y,j))}h.duration()?w=k=0:c.timeline=0}w||c.duration(w=h.duration())}else c.timeline=0;return!0===I&&(Ut=_assertThisInitialized(c),f.killTweensOf(j),Ut=0),R&&He(R,_assertThisInitialized(c)),(x||!w&&!O&&c._start===ye(R._time)&&H(x)&&Re(_assertThisInitialized(c))&&"nested"!==R.data)&&(c._tTime=-1e-8,c.render(Math.max(0,-k))),M&&Ve(_assertThisInitialized(c),M),c}_inheritsLoose(Tween,o);var a=Tween.prototype;return a.render=function render(o,a,s){var u,l,c,h,f,p,m,g,v,y=this._time,_=this._tDur,b=this._dur,T=o>_-k&&o>=0?_:o<k?0:o;if(b){if(T!==this._tTime||!o||s||this._startAt&&this._zTime<0!=o<0){if(u=T,g=this.timeline,this._repeat){if(h=b+this._rDelay,u=ye(T%h),T===_?(c=this._repeat,u=b):((c=~~(T/h))&&c===T/h&&(u=b,c--),u>b&&(u=b)),(p=this._yoyo&&1&c)&&(v=this._yEase,u=b-u),f=Be(this._tTime,h),u===y&&!s&&this._initted)return this;c!==f&&(g&&this._yEase&&Ot(g,p),!this.vars.repeatRefresh||p||this._lock||(this._lock=s=1,this.render(ye(h*c),!0).invalidate()._lock=0))}if(!this._initted){if(We(this,o<0?o:u,s,a))return this._tTime=0,this;if(b!==this._dur)return this.render(o,a,s)}for(this._tTime=T,this._time=u,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=m=(v||this._ease)(u/b),this._from&&(this.ratio=m=1-m),u&&!y&&!a&&ht(this,"onStart"),l=this._pt;l;)l.r(m,l.d),l=l._next;g&&g.render(o<0?o:!u&&p?-1e-8:g._dur*m,a,s)||this._startAt&&(this._zTime=o),this._onUpdate&&!a&&(o<0&&this._startAt&&this._startAt.render(o,!0,s),ht(this,"onUpdate")),this._repeat&&c!==f&&this.vars.onRepeat&&!a&&this.parent&&ht(this,"onRepeat"),T!==this._tDur&&T||this._tTime!==T||(o<0&&this._startAt&&!this._onUpdate&&this._startAt.render(o,!0,!0),(o||!b)&&(T===this._tDur&&this._ts>0||!T&&this._ts<0)&&Le(this,1),a||o<0&&!y||!T&&!y||(ht(this,T===_?"onComplete":"onReverseComplete",!0),this._prom&&!(T<_&&this.timeScale()>0)&&this._prom()))}}else!function _renderZeroDurationTween(o,a,s,u){var l,c,h=o.ratio,f=a<0||!a&&h&&!o._start&&o._zTime>k&&!o._dp._lock||(o._ts<0||o._dp._ts<0)&&"isFromStart"!==o.data&&"isStart"!==o.data?0:1,p=o._rDelay,m=0;if(p&&o._repeat&&(m=Ke(0,o._tDur,a),Be(m,p)!==(c=Be(o._tTime,p))&&(h=1-f,o.vars.repeatRefresh&&o._initted&&o.invalidate())),f!==h||u||o._zTime===k||!a&&o._zTime){if(!o._initted&&We(o,a,u,s))return;for(c=o._zTime,o._zTime=a||(s?k:0),s||(s=a&&!c),o.ratio=f,o._from&&(f=1-f),o._time=0,o._tTime=m,s||ht(o,"onStart"),l=o._pt;l;)l.r(f,l.d),l=l._next;o._startAt&&a<0&&o._startAt.render(a,!0,!0),o._onUpdate&&!s&&ht(o,"onUpdate"),m&&o._repeat&&!s&&o.parent&&ht(o,"onRepeat"),(a>=o._tDur||a<0)&&o.ratio===f&&(f&&Le(o,1),s||(ht(o,f?"onComplete":"onReverseComplete",!0),o._prom&&o._prom()))}else o._zTime||(o._zTime=a)}(this,o,a,s);return this},a.targets=function targets(){return this._targets},a.invalidate=function invalidate(){return this._pt=this._op=this._startAt=this._onUpdate=this._act=this._lazy=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),o.prototype.invalidate.call(this)},a.kill=function kill(o,a){if(void 0===a&&(a="all"),!(o||a&&"all"!==a)&&(this._lazy=0,this.parent))return ft(this);if(this.timeline){var s=this.timeline.totalDuration();return this.timeline.killTweensOf(o,a,Ut&&!0!==Ut.vars.overwrite)._first||ft(this),this.parent&&s!==this.timeline.totalDuration()&&ze(this,this._dur*this.timeline._tDur/s,0,1),this}var u,l,c,h,f,p,m,g=this._targets,v=o?tt(o):g,y=this._ptLookup,_=this._pt;if((!a||"all"===a)&&function _arraysMatch(o,a){for(var s=o.length,u=s===a.length;u&&s--&&o[s]===a[s];);return s<0}(g,v))return"all"===a&&(this._pt=0),ft(this);for(u=this._op=this._op||[],"all"!==a&&(D(a)&&(f={},ve(a,(function(o){return f[o]=1})),a=f),a=function _addAliasesToVars(o,a){var s,u,l,c,h=o[0]?me(o[0]).harness:0,f=h&&h.aliases;if(!f)return a;for(u in s=xe({},a),f)if(u in s)for(l=(c=f[u].split(",")).length;l--;)s[c[l]]=s[u];return s}(g,a)),m=g.length;m--;)if(~v.indexOf(g[m]))for(f in l=y[m],"all"===a?(u[m]=a,h=l,c={}):(c=u[m]=u[m]||{},h=a),h)(p=l&&l[f])&&("kill"in p.d&&!0!==p.d.kill(f)||Oe(this,p,"_pt"),delete l[f]),"all"!==c&&(c[f]=1);return this._initted&&!this._pt&&_&&ft(this),this},Tween.to=function to(o,a){return new Tween(o,a,arguments[2])},Tween.from=function from(o,a){return new Tween(o,be(arguments,1))},Tween.delayedCall=function delayedCall(o,a,s,u){return new Tween(a,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:o,onComplete:a,onReverseComplete:a,onCompleteParams:s,onReverseCompleteParams:s,callbackScope:u})},Tween.fromTo=function fromTo(o,a,s){return new Tween(o,be(arguments,2))},Tween.set=function set(o,a){return a.duration=0,a.repeatDelay||(a.repeat=0),new Tween(o,a)},Tween.killTweensOf=function killTweensOf(o,a,s){return f.killTweensOf(o,a,s)},Tween}(Ft);ke(Yt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),ve("staggerTo,staggerFrom,staggerFromTo",(function(o){Yt[o]=function(){var a=new jt,s=Je.call(arguments,0);return s.splice("staggerFromTo"===o?5:4,0,0),a[o].apply(a,s)}}));var $t=function _setterPlain(o,a,s){return o[a]=s},Kt=function _setterFunc(o,a,s){return o[a](s)},Qt=function _setterFuncWithParam(o,a,s,u){return o[a](u.fp,s)},Jt=function _setterAttribute(o,a,s){return o.setAttribute(a,s)},Zt=function _getSetter(o,a){return R(o[a])?Kt:j(o[a])&&o.setAttribute?Jt:$t},en=function _renderPlain(o,a){return a.set(a.t,a.p,Math.round(1e4*(a.s+a.c*o))/1e4,a)},tn=function _renderBoolean(o,a){return a.set(a.t,a.p,!!(a.s+a.c*o),a)},nn=function _renderComplexString(o,a){var s=a._pt,u="";if(!o&&a.b)u=a.b;else if(1===o&&a.e)u=a.e;else{for(;s;)u=s.p+(s.m?s.m(s.s+s.c*o):Math.round(1e4*(s.s+s.c*o))/1e4)+u,s=s._next;u+=a.c}a.set(a.t,a.p,u,a)},rn=function _renderPropTweens(o,a){for(var s=a._pt;s;)s.r(o,s.d),s=s._next},an=function _addPluginModifier(o,a,s,u){for(var l,c=this._pt;c;)l=c._next,c.p===u&&c.modifier(o,a,s),c=l},sn=function _killPropTweensOf(o){for(var a,s,u=this._pt;u;)s=u._next,u.p===o&&!u.op||u.op===o?Oe(this,u,"_pt"):u.dep||(a=1),u=s;return!a},un=function _setterWithModifier(o,a,s,u){u.mSet(o,a,u.m.call(u.tween,s,u.mt),u)},ln=function _sortPropTweensByPriority(o){for(var a,s,u,l,c=o._pt;c;){for(a=c._next,s=u;s&&s.pr>c.pr;)s=s._next;(c._prev=s?s._prev:l)?c._prev._next=c:u=c,(c._next=s)?s._prev=c:l=c,c=a}o._pt=u},cn=function(){function PropTween(o,a,s,u,l,c,h,f,p){this.t=a,this.s=u,this.c=l,this.p=s,this.r=c||en,this.d=h||this,this.set=f||$t,this.pr=p||0,this._next=o,o&&(o._prev=this)}return PropTween.prototype.modifier=function modifier(o,a,s){this.mSet=this.mSet||this.set,this.set=un,this.m=o,this.mt=s,this.tween=a},PropTween}();ve(fe+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(o){return ae[o]=1})),Z.TweenMax=Z.TweenLite=Yt,Z.TimelineLite=Z.TimelineMax=jt,f=new jt({sortChildren:!1,defaults:S,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),T.stringFilter=wt;var dn={registerPlugin:function registerPlugin(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];a.forEach((function(o){return pt(o)}))},timeline:function timeline(o){return new jt(o)},getTweensOf:function getTweensOf(o,a){return f.getTweensOf(o,a)},getProperty:function getProperty(o,a,s,u){D(o)&&(o=tt(o)[0]);var l=me(o||{}).get,c=s?Ee:we;return"native"===s&&(s=""),o?a?c((le[a]&&le[a].get||l)(o,a,s,u)):function(a,s,u){return c((le[a]&&le[a].get||l)(o,a,s,u))}:o},quickSetter:function quickSetter(o,a,s){if((o=tt(o)).length>1){var u=o.map((function(o){return pn.quickSetter(o,a,s)})),l=u.length;return function(o){for(var a=l;a--;)u[a](o)}}o=o[0]||{};var c=le[a],h=me(o),f=h.harness&&(h.harness.aliases||{})[a]||a,p=c?function(a){var u=new c;_._pt=0,u.init(o,s?a+s:a,_,0,[o]),u.render(1,u),_._pt&&rn(1,_)}:h.set(o,f);return c?p:function(a){return p(o,f,s?a+s:a,h,1)}},isTweening:function isTweening(o){return f.getTweensOf(o,!0).length>0},defaults:function defaults(o){return o&&o.ease&&(o.ease=Lt(o.ease,S.ease)),Pe(S,o||{})},config:function config(o){return Pe(T,o||{})},registerEffect:function registerEffect(o){var a=o.name,s=o.effect,u=o.plugins,l=o.defaults,c=o.extendTimeline;(u||"").split(",").forEach((function(o){return o&&!le[o]&&!Z[o]&&re(a+" effect requires "+o+" plugin.")})),ce[a]=function(o,a,u){return s(tt(o),ke(a||{},l),u)},c&&(jt.prototype[a]=function(o,s,u){return this.add(ce[a](o,U(s)?s:(u=s)&&{},this),u)})},registerEase:function registerEase(o,a){Ct[o]=Lt(a)},parseEase:function parseEase(o,a){return arguments.length?Lt(o,a):Ct},getById:function getById(o){return f.getById(o)},exportRoot:function exportRoot(o,a){void 0===o&&(o={});var s,u,l=new jt(o);for(l.smoothChildTiming=H(o.smoothChildTiming),f.remove(l),l._dp=0,l._time=l._tTime=f._time,s=f._first;s;)u=s._next,!a&&!s._dur&&s instanceof Yt&&s.vars.onComplete===s._targets[0]||qe(l,s,s._start-s._delay),s=u;return qe(f,l,0),l},utils:{wrap:function wrap(o,a,s){var u=a-o;return z(o)?ut(o,wrap(0,o.length),a):$e(s,(function(a){return(u+(a-o)%u)%u+o}))},wrapYoyo:function wrapYoyo(o,a,s){var u=a-o,l=2*u;return z(o)?ut(o,wrapYoyo(0,o.length-1),a):$e(s,(function(a){return o+((a=(l+(a-o)%l)%l||0)>u?l-a:a)}))},distribute:rt,random:st,snap:ot,normalize:function normalize(o,a,s){return ct(o,a,0,1,s)},getUnit:Qe,clamp:function clamp(o,a,s){return $e(s,(function(s){return Ke(o,a,s)}))},splitColor:yt,toArray:tt,mapRange:ct,pipe:function pipe(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return function(o){return a.reduce((function(o,a){return a(o)}),o)}},unitize:function unitize(o,a){return function(s){return o(parseFloat(s))+(a||Qe(s))}},interpolate:function interpolate(o,a,s,u){var l=isNaN(o+a)?0:function(s){return(1-s)*o+s*a};if(!l){var c,h,f,p,m,g=D(o),v={};if(!0===s&&(u=1)&&(s=null),g)o={p:o},a={p:a};else if(z(o)&&!z(a)){for(f=[],p=o.length,m=p-2,h=1;h<p;h++)f.push(interpolate(o[h-1],o[h]));p--,l=function func(o){o*=p;var a=Math.min(m,~~o);return f[a](o-a)},s=a}else u||(o=xe(z(o)?[]:{},o));if(!f){for(c in a)qt.call(v,o,c,"get",a[c]);l=function func(a){return rn(a,v)||(g?o.p:o)}}}return $e(s,l)},shuffle:nt},install:te,effects:ce,ticker:Et,updateRoot:jt.updateRoot,plugins:le,globalTimeline:f,core:{PropTween:cn,globals:ie,Tween:Yt,Timeline:jt,Animation:Ft,getCache:me,_removeLinkedListItem:Oe}};ve("to,from,fromTo,delayedCall,set,killTweensOf",(function(o){return dn[o]=Yt[o]})),Et.add(jt.updateRoot),_=dn.to({},{duration:0});var hn=function _getPluginPropTween(o,a){for(var s=o._pt;s&&s.p!==a&&s.op!==a&&s.fp!==a;)s=s._next;return s},fn=function _buildModifierPlugin(o,a){return{name:o,rawVars:1,init:function init(o,s,u){u._onInit=function(o){var u,l;if(D(s)&&(u={},ve(s,(function(o){return u[o]=1})),s=u),a){for(l in u={},s)u[l]=a(s[l]);s=u}!function _addModifiers(o,a){var s,u,l,c=o._targets;for(s in a)for(u=c.length;u--;)(l=o._ptLookup[u][s])&&(l=l.d)&&(l._pt&&(l=hn(l,s)),l&&l.modifier&&l.modifier(a[s],o,c[u],s))}(o,s)}}}},pn=dn.registerPlugin({name:"attr",init:function init(o,a,s,u,l){var c,h;for(c in a)(h=this.add(o,"setAttribute",(o.getAttribute(c)||0)+"",a[c],u,l,0,0,c))&&(h.op=c),this._props.push(c)}},{name:"endArray",init:function init(o,a){for(var s=a.length;s--;)this.add(o,s,o[s]||0,a[s])}},fn("roundProps",it),fn("modifiers"),fn("snap",ot))||dn;Yt.version=jt.version=pn.version="3.5.1",v=1,q()&&kt();Ct.Power0,Ct.Power1;var mn,gn,vn,yn,_n,bn,Tn,Sn,wn=Ct.Power2,En=(Ct.Power3,Ct.Power4),kn=(Ct.Linear,Ct.Quad,Ct.Cubic,Ct.Quart,Ct.Quint,Ct.Strong,Ct.Elastic,Ct.Back,Ct.SteppedEase,Ct.Bounce,Ct.Sine,Ct.Expo,Ct.Circ,{}),Cn=180/Math.PI,xn=Math.PI/180,Pn=Math.atan2,An=/([A-Z])/g,In=/(?:left|right|width|margin|padding|x)/i,On=/[\s,\(]\S/,Ln={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Mn=function _renderCSSProp(o,a){return a.set(a.t,a.p,Math.round(1e4*(a.s+a.c*o))/1e4+a.u,a)},Dn=function _renderPropWithEnd(o,a){return a.set(a.t,a.p,1===o?a.e:Math.round(1e4*(a.s+a.c*o))/1e4+a.u,a)},Rn=function _renderCSSPropWithBeginning(o,a){return a.set(a.t,a.p,o?Math.round(1e4*(a.s+a.c*o))/1e4+a.u:a.b,a)},Nn=function _renderRoundedCSSProp(o,a){var s=a.s+a.c*o;a.set(a.t,a.p,~~(s+(s<0?-.5:.5))+a.u,a)},Bn=function _renderNonTweeningValue(o,a){return a.set(a.t,a.p,o?a.e:a.b,a)},Fn=function _renderNonTweeningValueOnlyAtEnd(o,a){return a.set(a.t,a.p,1!==o?a.b:a.e,a)},jn=function _setterCSSStyle(o,a,s){return o.style[a]=s},Un=function _setterCSSProp(o,a,s){return o.style.setProperty(a,s)},Hn=function _setterTransform(o,a,s){return o._gsap[a]=s},qn=function _setterScale(o,a,s){return o._gsap.scaleX=o._gsap.scaleY=s},Vn=function _setterScaleWithRender(o,a,s,u,l){var c=o._gsap;c.scaleX=c.scaleY=s,c.renderTransform(l,c)},Wn=function _setterTransformWithRender(o,a,s,u,l){var c=o._gsap;c[a]=s,c.renderTransform(l,c)},zn="transform",Gn=zn+"Origin",Xn=function _createElement(o,a){var s=gn.createElementNS?gn.createElementNS((a||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),o):gn.createElement(o);return s.style?s:gn.createElement(o)},Yn=function _getComputedProperty(o,a,s){var u=getComputedStyle(o);return u[a]||u.getPropertyValue(a.replace(An,"-$1").toLowerCase())||u.getPropertyValue(a)||!s&&_getComputedProperty(o,Kn(a)||a,1)||""},$n="O,Moz,ms,Ms,Webkit".split(","),Kn=function _checkPropPrefix(o,a,s){var u=(a||_n).style,l=5;if(o in u&&!s)return o;for(o=o.charAt(0).toUpperCase()+o.substr(1);l--&&!($n[l]+o in u););return l<0?null:(3===l?"ms":l>=0?$n[l]:"")+o},Qn=function _initCore(){(function _windowExists(){return"undefined"!=typeof window})()&&window.document&&(mn=window,gn=mn.document,vn=gn.documentElement,_n=Xn("div")||{style:{}},bn=Xn("div"),zn=Kn(zn),Gn=zn+"Origin",_n.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Sn=!!Kn("perspective"),yn=1)},Jn=function _getBBoxHack(o){var a,s=Xn("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),u=this.parentNode,l=this.nextSibling,c=this.style.cssText;if(vn.appendChild(s),s.appendChild(this),this.style.display="block",o)try{a=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=_getBBoxHack}catch(o){}else this._gsapBBox&&(a=this._gsapBBox());return u&&(l?u.insertBefore(this,l):u.appendChild(this)),vn.removeChild(s),this.style.cssText=c,a},Zn=function _getAttributeFallbacks(o,a){for(var s=a.length;s--;)if(o.hasAttribute(a[s]))return o.getAttribute(a[s])},er=function _getBBox(o){var a;try{a=o.getBBox()}catch(s){a=Jn.call(o,!0)}return a&&(a.width||a.height)||o.getBBox===Jn||(a=Jn.call(o,!0)),!a||a.width||a.x||a.y?a:{x:+Zn(o,["x","cx","x1"])||0,y:+Zn(o,["y","cy","y1"])||0,width:0,height:0}},tr=function _isSVG(o){return!(!o.getCTM||o.parentNode&&!o.ownerSVGElement||!er(o))},nr=function _removeProperty(o,a){if(a){var s=o.style;a in kn&&a!==Gn&&(a=zn),s.removeProperty?("ms"!==a.substr(0,2)&&"webkit"!==a.substr(0,6)||(a="-"+a),s.removeProperty(a.replace(An,"-$1").toLowerCase())):s.removeAttribute(a)}},rr=function _addNonTweeningPT(o,a,s,u,l,c){var h=new cn(o._pt,a,s,0,1,c?Fn:Bn);return o._pt=h,h.b=u,h.e=l,o._props.push(s),h},ir={deg:1,rad:1,turn:1},or=function _convertToUnit(o,a,s,u){var l,c,h,f,p=parseFloat(s)||0,m=(s+"").trim().substr((p+"").length)||"px",g=_n.style,v=In.test(a),y="svg"===o.tagName.toLowerCase(),_=(y?"client":"offset")+(v?"Width":"Height"),b=100,T="px"===u,S="%"===u;return u===m||!p||ir[u]||ir[m]?p:("px"!==m&&!T&&(p=_convertToUnit(o,a,s,"px")),f=o.getCTM&&tr(o),S&&(kn[a]||~a.indexOf("adius"))?ye(p/(f?o.getBBox()[v?"width":"height"]:o[_])*b):(g[v?"width":"height"]=b+(T?m:u),c=~a.indexOf("adius")||"em"===u&&o.appendChild&&!y?o:o.parentNode,f&&(c=(o.ownerSVGElement||{}).parentNode),c&&c!==gn&&c.appendChild||(c=gn.body),(h=c._gsap)&&S&&h.width&&v&&h.time===Et.time?ye(p/h.width*b):((S||"%"===m)&&(g.position=Yn(o,"position")),c===o&&(g.position="static"),c.appendChild(_n),l=_n[_],c.removeChild(_n),g.position="absolute",v&&S&&((h=me(c)).time=Et.time,h.width=c[_]),ye(T?l*p/b:l&&p?b/l*p:0))))},ar=function _get(o,a,s,u){var l;return yn||Qn(),a in Ln&&"transform"!==a&&~(a=Ln[a]).indexOf(",")&&(a=a.split(",")[0]),kn[a]&&"transform"!==a?(l=yr(o,u),l="transformOrigin"!==a?l[a]:_r(Yn(o,Gn))+" "+l.zOrigin+"px"):(!(l=o.style[a])||"auto"===l||u||~(l+"").indexOf("calc("))&&(l=dr[a]&&dr[a](o,a,s)||Yn(o,a)||ge(o,a)||("opacity"===a?1:0)),s&&!~(l+"").indexOf(" ")?or(o,a,l,s)+s:l},sr=function _tweenComplexCSSString(o,a,s,u){if(!s||"none"===s){var l=Kn(a,o,1),c=l&&Yn(o,l,1);c&&c!==s?(a=l,s=c):"borderColor"===a&&(s=Yn(o,"borderTopColor"))}var h,f,p,m,g,v,y,_,b,S,w,k,x=new cn(this._pt,o.style,a,0,1,nn),P=0,I=0;if(x.b=s,x.e=u,s+="","auto"===(u+="")&&(o.style[a]=u,u=Yn(o,a)||u,o.style[a]=s),wt(h=[s,u]),u=h[1],p=(s=h[0]).match(Y)||[],(u.match(Y)||[]).length){for(;f=Y.exec(u);)y=f[0],b=u.substring(P,f.index),g?g=(g+1)%5:"rgba("!==b.substr(-5)&&"hsla("!==b.substr(-5)||(g=1),y!==(v=p[I++]||"")&&(m=parseFloat(v)||0,w=v.substr((m+"").length),(k="="===y.charAt(1)?+(y.charAt(0)+"1"):0)&&(y=y.substr(2)),_=parseFloat(y),S=y.substr((_+"").length),P=Y.lastIndex-S.length,S||(S=S||T.units[a]||w,P===u.length&&(u+=S,x.e+=S)),w!==S&&(m=or(o,a,v,S)||0),x._pt={_next:x._pt,p:b||1===I?b:",",s:m,c:k?k*_:_-m,m:g&&g<4?Math.round:0});x.c=P<u.length?u.substring(P,u.length):""}else x.r="display"===a&&"none"===u?Fn:Bn;return Q.test(u)&&(x.e=0),this._pt=x,x},ur={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},lr=function _convertKeywordsToPercentages(o){var a=o.split(" "),s=a[0],u=a[1]||"50%";return"top"!==s&&"bottom"!==s&&"left"!==u&&"right"!==u||(o=s,s=u,u=o),a[0]=ur[s]||s,a[1]=ur[u]||u,a.join(" ")},cr=function _renderClearProps(o,a){if(a.tween&&a.tween._time===a.tween._dur){var s,u,l,c=a.t,h=c.style,f=a.u,p=c._gsap;if("all"===f||!0===f)h.cssText="",u=1;else for(l=(f=f.split(",")).length;--l>-1;)s=f[l],kn[s]&&(u=1,s="transformOrigin"===s?Gn:zn),nr(c,s);u&&(nr(c,zn),p&&(p.svg&&c.removeAttribute("transform"),yr(c,1),p.uncache=1))}},dr={clearProps:function clearProps(o,a,s,u,l){if("isFromStart"!==l.data){var c=o._pt=new cn(o._pt,a,s,0,0,cr);return c.u=u,c.pr=-10,c.tween=l,o._props.push(s),1}}},hr=[1,0,0,1,0,0],fr={},pr=function _isNullTransform(o){return"matrix(1, 0, 0, 1, 0, 0)"===o||"none"===o||!o},mr=function _getComputedTransformMatrixAsArray(o){var a=Yn(o,zn);return pr(a)?hr:a.substr(7).match(X).map(ye)},gr=function _getMatrix(o,a){var s,u,l,c,h=o._gsap||me(o),f=o.style,p=mr(o);return h.svg&&o.getAttribute("transform")?"1,0,0,1,0,0"===(p=[(l=o.transform.baseVal.consolidate().matrix).a,l.b,l.c,l.d,l.e,l.f]).join(",")?hr:p:(p!==hr||o.offsetParent||o===vn||h.svg||(l=f.display,f.display="block",(s=o.parentNode)&&o.offsetParent||(c=1,u=o.nextSibling,vn.appendChild(o)),p=mr(o),l?f.display=l:nr(o,"display"),c&&(u?s.insertBefore(o,u):s?s.appendChild(o):vn.removeChild(o))),a&&p.length>6?[p[0],p[1],p[4],p[5],p[12],p[13]]:p)},vr=function _applySVGOrigin(o,a,s,u,l,c){var h,f,p,m=o._gsap,g=l||gr(o,!0),v=m.xOrigin||0,y=m.yOrigin||0,_=m.xOffset||0,b=m.yOffset||0,T=g[0],S=g[1],w=g[2],k=g[3],x=g[4],P=g[5],I=a.split(" "),O=parseFloat(I[0])||0,L=parseFloat(I[1])||0;s?g!==hr&&(f=T*k-S*w)&&(p=O*(-S/f)+L*(T/f)-(T*P-S*x)/f,O=O*(k/f)+L*(-w/f)+(w*P-k*x)/f,L=p):(O=(h=er(o)).x+(~I[0].indexOf("%")?O/100*h.width:O),L=h.y+(~(I[1]||I[0]).indexOf("%")?L/100*h.height:L)),u||!1!==u&&m.smooth?(x=O-v,P=L-y,m.xOffset=_+(x*T+P*w)-x,m.yOffset=b+(x*S+P*k)-P):m.xOffset=m.yOffset=0,m.xOrigin=O,m.yOrigin=L,m.smooth=!!u,m.origin=a,m.originIsAbsolute=!!s,o.style[Gn]="0px 0px",c&&(rr(c,m,"xOrigin",v,O),rr(c,m,"yOrigin",y,L),rr(c,m,"xOffset",_,m.xOffset),rr(c,m,"yOffset",b,m.yOffset)),o.setAttribute("data-svg-origin",O+" "+L)},yr=function _parseTransform(o,a){var s=o._gsap||new Bt(o);if("x"in s&&!a&&!s.uncache)return s;var u,l,c,h,f,p,m,g,v,y,_,b,S,w,k,x,P,I,O,L,M,D,R,N,j,U,H,q,V,W,z,G,X=o.style,Y=s.scaleX<0,K="px",Q="deg",J=Yn(o,Gn)||"0";return u=l=c=p=m=g=v=y=_=0,h=f=1,s.svg=!(!o.getCTM||!tr(o)),w=gr(o,s.svg),s.svg&&(N=!s.uncache&&o.getAttribute("data-svg-origin"),vr(o,N||J,!!N||s.originIsAbsolute,!1!==s.smooth,w)),b=s.xOrigin||0,S=s.yOrigin||0,w!==hr&&(I=w[0],O=w[1],L=w[2],M=w[3],u=D=w[4],l=R=w[5],6===w.length?(h=Math.sqrt(I*I+O*O),f=Math.sqrt(M*M+L*L),p=I||O?Pn(O,I)*Cn:0,(v=L||M?Pn(L,M)*Cn+p:0)&&(f*=Math.cos(v*xn)),s.svg&&(u-=b-(b*I+S*L),l-=S-(b*O+S*M))):(G=w[6],W=w[7],H=w[8],q=w[9],V=w[10],z=w[11],u=w[12],l=w[13],c=w[14],m=(k=Pn(G,V))*Cn,k&&(N=D*(x=Math.cos(-k))+H*(P=Math.sin(-k)),j=R*x+q*P,U=G*x+V*P,H=D*-P+H*x,q=R*-P+q*x,V=G*-P+V*x,z=W*-P+z*x,D=N,R=j,G=U),g=(k=Pn(-L,V))*Cn,k&&(x=Math.cos(-k),z=M*(P=Math.sin(-k))+z*x,I=N=I*x-H*P,O=j=O*x-q*P,L=U=L*x-V*P),p=(k=Pn(O,I))*Cn,k&&(N=I*(x=Math.cos(k))+O*(P=Math.sin(k)),j=D*x+R*P,O=O*x-I*P,R=R*x-D*P,I=N,D=j),m&&Math.abs(m)+Math.abs(p)>359.9&&(m=p=0,g=180-g),h=ye(Math.sqrt(I*I+O*O+L*L)),f=ye(Math.sqrt(R*R+G*G)),k=Pn(D,R),v=Math.abs(k)>2e-4?k*Cn:0,_=z?1/(z<0?-z:z):0),s.svg&&(N=o.getAttribute("transform"),s.forceCSS=o.setAttribute("transform","")||!pr(Yn(o,zn)),N&&o.setAttribute("transform",N))),Math.abs(v)>90&&Math.abs(v)<270&&(Y?(h*=-1,v+=p<=0?180:-180,p+=p<=0?180:-180):(f*=-1,v+=v<=0?180:-180)),s.x=((s.xPercent=u&&Math.round(o.offsetWidth/2)===Math.round(-u)?-50:0)?0:u)+K,s.y=((s.yPercent=l&&Math.round(o.offsetHeight/2)===Math.round(-l)?-50:0)?0:l)+K,s.z=c+K,s.scaleX=ye(h),s.scaleY=ye(f),s.rotation=ye(p)+Q,s.rotationX=ye(m)+Q,s.rotationY=ye(g)+Q,s.skewX=v+Q,s.skewY=y+Q,s.transformPerspective=_+K,(s.zOrigin=parseFloat(J.split(" ")[2])||0)&&(X[Gn]=_r(J)),s.xOffset=s.yOffset=0,s.force3D=T.force3D,s.renderTransform=s.svg?Cr:Sn?kr:Tr,s.uncache=0,s},_r=function _firstTwoOnly(o){return(o=o.split(" "))[0]+" "+o[1]},br=function _addPxTranslate(o,a,s){var u=Qe(a);return ye(parseFloat(a)+parseFloat(or(o,"x",s+"px",u)))+u},Tr=function _renderNon3DTransforms(o,a){a.z="0px",a.rotationY=a.rotationX="0deg",a.force3D=0,kr(o,a)},Sr="0deg",wr="0px",Er=") ",kr=function _renderCSSTransforms(o,a){var s=a||this,u=s.xPercent,l=s.yPercent,c=s.x,h=s.y,f=s.z,p=s.rotation,m=s.rotationY,g=s.rotationX,v=s.skewX,y=s.skewY,_=s.scaleX,b=s.scaleY,T=s.transformPerspective,S=s.force3D,w=s.target,k=s.zOrigin,x="",P="auto"===S&&o&&1!==o||!0===S;if(k&&(g!==Sr||m!==Sr)){var I,O=parseFloat(m)*xn,L=Math.sin(O),M=Math.cos(O);O=parseFloat(g)*xn,I=Math.cos(O),c=br(w,c,L*I*-k),h=br(w,h,-Math.sin(O)*-k),f=br(w,f,M*I*-k+k)}T!==wr&&(x+="perspective("+T+Er),(u||l)&&(x+="translate("+u+"%, "+l+"%) "),(P||c!==wr||h!==wr||f!==wr)&&(x+=f!==wr||P?"translate3d("+c+", "+h+", "+f+") ":"translate("+c+", "+h+Er),p!==Sr&&(x+="rotate("+p+Er),m!==Sr&&(x+="rotateY("+m+Er),g!==Sr&&(x+="rotateX("+g+Er),v===Sr&&y===Sr||(x+="skew("+v+", "+y+Er),1===_&&1===b||(x+="scale("+_+", "+b+Er),w.style[zn]=x||"translate(0, 0)"},Cr=function _renderSVGTransforms(o,a){var s,u,l,c,h,f=a||this,p=f.xPercent,m=f.yPercent,g=f.x,v=f.y,y=f.rotation,_=f.skewX,b=f.skewY,T=f.scaleX,S=f.scaleY,w=f.target,k=f.xOrigin,x=f.yOrigin,P=f.xOffset,I=f.yOffset,O=f.forceCSS,L=parseFloat(g),M=parseFloat(v);y=parseFloat(y),_=parseFloat(_),(b=parseFloat(b))&&(_+=b=parseFloat(b),y+=b),y||_?(y*=xn,_*=xn,s=Math.cos(y)*T,u=Math.sin(y)*T,l=Math.sin(y-_)*-S,c=Math.cos(y-_)*S,_&&(b*=xn,h=Math.tan(_-b),l*=h=Math.sqrt(1+h*h),c*=h,b&&(h=Math.tan(b),s*=h=Math.sqrt(1+h*h),u*=h)),s=ye(s),u=ye(u),l=ye(l),c=ye(c)):(s=T,c=S,u=l=0),(L&&!~(g+"").indexOf("px")||M&&!~(v+"").indexOf("px"))&&(L=or(w,"x",g,"px"),M=or(w,"y",v,"px")),(k||x||P||I)&&(L=ye(L+k-(k*s+x*l)+P),M=ye(M+x-(k*u+x*c)+I)),(p||m)&&(h=w.getBBox(),L=ye(L+p/100*h.width),M=ye(M+m/100*h.height)),h="matrix("+s+","+u+","+l+","+c+","+L+","+M+")",w.setAttribute("transform",h),O&&(w.style[zn]=h)},xr=function _addRotationalPropTween(o,a,s,u,l,c){var h,f,p=360,m=D(l),g=parseFloat(l)*(m&&~l.indexOf("rad")?Cn:1),v=c?g*c:g-u,y=u+v+"deg";return m&&("short"===(h=l.split("_")[1])&&(v%=p)!==v%180&&(v+=v<0?p:-360),"cw"===h&&v<0?v=(v+36e9)%p-~~(v/p)*p:"ccw"===h&&v>0&&(v=(v-36e9)%p-~~(v/p)*p)),o._pt=f=new cn(o._pt,a,s,u,v,Dn),f.e=y,f.u="deg",o._props.push(s),f},Pr=function _addRawTransformPTs(o,a,s){var u,l,c,h,f,p,m,g=bn.style,v=s._gsap;for(l in g.cssText=getComputedStyle(s).cssText+";position:absolute;display:block;",g[zn]=a,gn.body.appendChild(bn),u=yr(bn,1),kn)(c=v[l])!==(h=u[l])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(l)<0&&(f=Qe(c)!==(m=Qe(h))?or(s,l,c,m):parseFloat(c),p=parseFloat(h),o._pt=new cn(o._pt,v,l,f,p-f,Mn),o._pt.u=m||0,o._props.push(l));gn.body.removeChild(bn)};ve("padding,margin,Width,Radius",(function(o,a){var s="Top",u="Right",l="Bottom",c="Left",h=(a<3?[s,u,l,c]:[s+c,s+u,l+u,l+c]).map((function(s){return a<2?o+s:"border"+s+o}));dr[a>1?"border"+o:o]=function(o,a,s,u,l){var c,f;if(arguments.length<4)return c=h.map((function(a){return ar(o,a,s)})),5===(f=c.join(" ")).split(c[0]).length?c[0]:f;c=(u+"").split(" "),f={},h.forEach((function(o,a){return f[o]=c[a]=c[a]||c[(a-1)/2|0]})),o.init(a,f,l)}}));var Ar,Ir,Or,Lr={name:"css",register:Qn,targetTest:function targetTest(o){return o.style&&o.nodeType},init:function init(o,a,s,u,l){var c,h,f,p,m,g,v,y,_,b,S,w,k,x,P,I=this._props,O=o.style;for(v in yn||Qn(),a)if("autoRound"!==v&&(h=a[v],!le[v]||!Vt(v,a,s,u,o,l)))if(m=typeof h,g=dr[v],"function"===m&&(m=typeof(h=h.call(s,u,o,l))),"string"===m&&~h.indexOf("random(")&&(h=lt(h)),g)g(this,o,v,h,s)&&(P=1);else if("--"===v.substr(0,2))this.add(O,"setProperty",getComputedStyle(o).getPropertyValue(v)+"",h+"",u,l,0,0,v);else if("undefined"!==m){if(c=ar(o,v),p=parseFloat(c),(b="string"===m&&"="===h.charAt(1)?+(h.charAt(0)+"1"):0)&&(h=h.substr(2)),f=parseFloat(h),v in Ln&&("autoAlpha"===v&&(1===p&&"hidden"===ar(o,"visibility")&&f&&(p=0),rr(this,O,"visibility",p?"inherit":"hidden",f?"inherit":"hidden",!f)),"scale"!==v&&"transform"!==v&&~(v=Ln[v]).indexOf(",")&&(v=v.split(",")[0])),S=v in kn)if(w||((k=o._gsap).renderTransform||yr(o),x=!1!==a.smoothOrigin&&k.smooth,(w=this._pt=new cn(this._pt,O,zn,0,1,k.renderTransform,k,0,-1)).dep=1),"scale"===v)this._pt=new cn(this._pt,k,"scaleY",k.scaleY,b?b*f:f-k.scaleY),I.push("scaleY",v),v+="X";else{if("transformOrigin"===v){h=lr(h),k.svg?vr(o,h,0,x,0,this):((_=parseFloat(h.split(" ")[2])||0)!==k.zOrigin&&rr(this,k,"zOrigin",k.zOrigin,_),rr(this,O,v,_r(c),_r(h)));continue}if("svgOrigin"===v){vr(o,h,1,x,0,this);continue}if(v in fr){xr(this,k,v,p,h,b);continue}if("smoothOrigin"===v){rr(this,k,"smooth",k.smooth,h);continue}if("force3D"===v){k[v]=h;continue}if("transform"===v){Pr(this,h,o);continue}}else v in O||(v=Kn(v)||v);if(S||(f||0===f)&&(p||0===p)&&!On.test(h)&&v in O)f||(f=0),(y=(c+"").substr((p+"").length))!==(_=Qe(h)||(v in T.units?T.units[v]:y))&&(p=or(o,v,c,_)),this._pt=new cn(this._pt,S?k:O,v,p,b?b*f:f-p,"px"!==_||!1===a.autoRound||S?Mn:Nn),this._pt.u=_||0,y!==_&&(this._pt.b=c,this._pt.r=Rn);else if(v in O)sr.call(this,o,v,c,h);else{if(!(v in o)){ne(v,h);continue}this.add(o,v,o[v],h,u,l)}I.push(v)}P&&ln(this)},get:ar,aliases:Ln,getSetter:function getSetter(o,a,s){var u=Ln[a];return u&&u.indexOf(",")<0&&(a=u),a in kn&&a!==Gn&&(o._gsap.x||ar(o,"x"))?s&&Tn===s?"scale"===a?qn:Hn:(Tn=s||{})&&("scale"===a?Vn:Wn):o.style&&!j(o.style[a])?jn:~a.indexOf("-")?Un:Zt(o,a)},core:{_removeProperty:nr,_getMatrix:gr}};pn.utils.checkPrefix=Kn,Or=ve((Ar="x,y,z,scale,scaleX,scaleY,xPercent,yPercent")+","+(Ir="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(o){kn[o]=1})),ve(Ir,(function(o){T.units[o]="deg",fr[o]=1})),Ln[Or[13]]=Ar+","+Ir,ve("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(o){var a=o.split(":");Ln[a[1]]=Or[a[0]]})),ve("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(o){T.units[o]="px"})),pn.registerPlugin(Lr);var Mr,Dr,Rr,Nr,Br,Fr,jr,Ur,Hr,qr,Vr,Wr,zr,Gr,Xr,Yr,$r,Kr,Qr,Jr,Zr,ei,ti,ni,ri,ii=pn.registerPlugin(Lr)||pn,oi=ii.core.Tween,ai=s(10),si=s(146),ui=1,li=[],ci=[],di=Date.now,hi=di(),fi=0,pi=1,mi=function _passThrough(o){return o},gi=function _windowExists(){return"undefined"!=typeof window},vi=function _getGSAP(){return Mr||gi()&&(Mr=window.gsap)&&Mr.registerPlugin&&Mr},yi=function _isViewport(o){return!!~jr.indexOf(o)},_i=function _getProxyProp(o,a){return~li.indexOf(o)&&li[li.indexOf(o)+1][a]},bi=function _getScrollFunc(o,a){var s=a.s,u=a.sc,l=ci.indexOf(o),c=u===$i.sc?1:2;return!~l&&(l=ci.push(o)-1),ci[l+c]||(ci[l+c]=_i(o,s)||(yi(o)?u:function(a){return arguments.length?o[s]=a:o[s]}))},Ti=function _getBoundsFunc(o){return _i(o,"getBoundingClientRect")||(yi(o)?function(){return No.width=Rr.innerWidth,No.height=Rr.innerHeight,No}:function(){return Ji(o)})},Si=function _maxScroll(o,a){var s=a.s,u=a.d2,l=a.d,c=a.a;return(s="scroll"+u)&&(c=_i(o,s))?c()-Ti(o)()[l]:yi(o)?Math.max(Br[s],Fr[s])-(Rr["inner"+u]||Br["client"+u]||Fr["client"+u]):o[s]-o["offset"+u]},wi=function _iterateAutoRefresh(o,a){for(var s=0;s<Zr.length;s+=3)(!a||~a.indexOf(Zr[s+1]))&&o(Zr[s],Zr[s+1],Zr[s+2])},Ei=function _isString(o){return"string"==typeof o},ki=function _isFunction(o){return"function"==typeof o},Ci=function _isNumber(o){return"number"==typeof o},xi=function _isObject(o){return"object"==typeof o},Pi=function _callIfFunc(o){return ki(o)&&o()},Ai=function _combineFunc(o,a){return function(){var s=Pi(o),u=Pi(a);return function(){Pi(s),Pi(u)}}},Ii=Math.abs,Oi="scrollLeft",Li="scrollTop",Mi="left",Di="top",Ri="right",Ni="bottom",Bi="width",Fi="height",ji="Right",Ui="Left",Hi="Top",qi="Bottom",Vi="padding",Wi="margin",zi="Width",Gi="Height",Xi="px",Yi={s:Oi,p:Mi,p2:Ui,os:Ri,os2:ji,d:Bi,d2:zi,a:"x",sc:function sc(o){return arguments.length?Rr.scrollTo(o,$i.sc()):Rr.pageXOffset||Nr.scrollLeft||Br.scrollLeft||Fr.scrollLeft||0}},$i={s:Li,p:Di,p2:Hi,os:Ni,os2:qi,d:Fi,d2:Gi,a:"y",op:Yi,sc:function sc(o){return arguments.length?Rr.scrollTo(Yi.sc(),o):Rr.pageYOffset||Nr.scrollTop||Br.scrollTop||Fr.scrollTop||0}},Ki=function _getComputedStyle(o){return Rr.getComputedStyle(o)},Qi=function _setDefaults(o,a){for(var s in a)s in o||(o[s]=a[s]);return o},Ji=function _getBounds(o,a){var s=a&&"matrix(1, 0, 0, 1, 0, 0)"!==Ki(o)[$r]&&Mr.to(o,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),u=o.getBoundingClientRect();return s&&s.progress(0).kill(),u},Zi=function _getSize(o,a){var s=a.d2;return o["offset"+s]||o["client"+s]||0},eo=function _multiListener(o,a,s,u){return s.split(",").forEach((function(s){return o(a,s,u)}))},no=function _addListener(o,a,s){return o.addEventListener(a,s,{passive:!0})},ro=function _removeListener(o,a,s){return o.removeEventListener(a,s)},io={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},oo={toggleActions:"play",anticipatePin:0},ao={top:0,left:0,center:.5,bottom:1,right:1},so=function _offsetToPx(o,a){if(Ei(o)){var s=o.indexOf("="),u=~s?+(o.charAt(s-1)+1)*parseFloat(o.substr(s+1)):0;u&&(o.indexOf("%")>s&&(u*=a/100),o=o.substr(0,s-1)),o=u+(o in ao?ao[o]*a:~o.indexOf("%")?parseFloat(o)*a/100:parseFloat(o)||0)}return o},uo=function _createMarker(o,a,s,u,l,c,h){var f=l.startColor,p=l.endColor,m=l.fontSize,g=l.indent,v=l.fontWeight,y=Nr.createElement("div"),_=yi(s)||"fixed"===_i(s,"pinType"),b=-1!==o.indexOf("scroller"),T=_?Fr:s,S=-1!==o.indexOf("start"),w=S?f:p,k="border-color:"+w+";font-size:"+m+";color:"+w+";font-weight:"+v+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return k+="position:"+(b&&_?"fixed;":"absolute;"),(b||!_)&&(k+=(u===$i?Ri:Ni)+":"+(c+parseFloat(g))+"px;"),h&&(k+="box-sizing:border-box;text-align:left;width:"+h.offsetWidth+"px;"),y._isStart=S,y.setAttribute("class","gsap-marker-"+o),y.style.cssText=k,y.innerText=a||0===a?o+"-"+a:o,T.insertBefore(y,T.children[0]),y._offset=y["offset"+u.op.d2],lo(y,0,u,S),y},lo=function _positionMarker(o,a,s,u){var l={display:"block"},c=s[u?"os2":"p2"],h=s[u?"p2":"os2"];o._isFlipped=u,l[s.a+"Percent"]=u?-100:0,l[s.a]=u?1:0,l["border"+c+zi]=1,l["border"+h+zi]=0,l[s.p]=a,Mr.set(o,l)},co=[],ho={},fo=function _sync(){return qr||(qr=Hr(Ao))},po=function _onScroll(){qr||(qr=Hr(Ao),fi||So("scrollStart"),fi=di())},mo=function _onResize(){return!Xr&&Ur.restart(!0)},vo={},yo=[],_o=[],bo=function _onMediaChange(o){var a,s=Mr.ticker.frame,u=[],l=0;if(ri!==s||ui){for(ko();l<_o.length;l+=4)(a=Rr.matchMedia(_o[l]).matches)!==_o[l+3]&&(_o[l+3]=a,a?u.push(l):ko(1,_o[l])||ki(_o[l+2])&&_o[l+2]());for(Eo(),l=0;l<u.length;l++)a=u[l],ni=_o[a],_o[a+2]=_o[a+1](o);ni=0,Co(0,1),ri=s,So("matchMedia")}},To=function _softRefresh(){return ro(Ho,"scrollEnd",_softRefresh)||Co(!0)},So=function _dispatch(o){return vo[o]&&vo[o].map((function(o){return o()}))||yo},wo=[],Eo=function _revertRecorded(o){for(var a=0;a<wo.length;a+=4)o&&wo[a+3]!==o||(wo[a].style.cssText=wo[a+1],wo[a+2].uncache=1)},ko=function _revertAll(o,a){var s;for(Kr=0;Kr<co.length;Kr++)s=co[Kr],a&&s.media!==a||(o?s.kill(1):(s.scroll.rec||(s.scroll.rec=s.scroll()),s.revert()));Eo(a),a||So("revert")},Co=function _refreshAll(o,a){if(!fi||o){var s=So("refreshInit");for(ei&&Ho.sort(),a||ko(),Kr=0;Kr<co.length;Kr++)co[Kr].refresh();for(s.forEach((function(o){return o&&o.render&&o.render(-1)})),Kr=co.length;Kr--;)co[Kr].scroll.rec=0;Ur.pause(),So("refresh")}else no(Ho,"scrollEnd",To)},xo=0,Po=1,Ao=function _updateAll(){var o=co.length,a=di(),s=a-hi>=50,u=o&&co[0].scroll();if(Po=xo>u?-1:1,xo=u,s&&(fi&&!Yr&&a-fi>200&&(fi=0,So("scrollEnd")),zr=hi,hi=a),Po<0){for(Kr=o;Kr--;)co[Kr]&&co[Kr].update(0,s);Po=1}else for(Kr=0;Kr<o;Kr++)co[Kr]&&co[Kr].update(0,s);qr=0},Io=[Mi,Di,Ni,Ri,"marginBottom","marginRight","marginTop","marginLeft","display","flexShrink","float"],Oo=Io.concat([Bi,Fi,"boxSizing","maxWidth","maxHeight","position",Wi,Vi,"paddingTop","paddingRight","paddingBottom","paddingLeft"]),Lo=function _swapPinIn(o,a,s,u){if(o.parentNode!==a){for(var l,c=Io.length,h=a.style,f=o.style;c--;)h[l=Io[c]]=s[l];h.position="absolute"===s.position?"absolute":"relative","inline"===s.display&&(h.display="inline-block"),f.bottom=f.right="auto",h.overflow="visible",h.boxSizing="border-box",h.width=Zi(o,Yi)+Xi,h.height=Zi(o,$i)+Xi,h.padding=f.margin=f.top=f.left="0",Do(u),f.width=f.maxWidth=s.width,f.height=f.maxHeight=s.height,f.padding=s.padding,o.parentNode.insertBefore(a,o),a.appendChild(o)}},Mo=/([A-Z])/g,Do=function _setState(o){if(o)for(var a,s,u=o.t.style,l=o.length,c=0;c<l;c+=2)s=o[c+1],a=o[c],s?u[a]=s:u[a]&&u.removeProperty(a.replace(Mo,"-$1").toLowerCase())},Ro=function _getState(o){for(var a=Oo.length,s=o.style,u=[],l=0;l<a;l++)u.push(Oo[l],s[Oo[l]]);return u.t=o,u},No={left:0,top:0},Bo=function _parsePosition(o,a,s,u,l,c,h,f,p,m,g,v){if(ki(o)&&(o=o(f)),Ei(o)&&"max"===o.substr(0,3)&&(o=v+("="===o.charAt(4)?so("0"+o.substr(3),s):0)),Ci(o))h&&lo(h,s,u,!0);else{ki(a)&&(a=a(f));var y,_,b,T=Vr(a)[0]||Fr,S=Ji(T)||{},w=o.split(" ");S&&(S.left||S.top)||"none"!==Ki(T).display||(b=T.style.display,T.style.display="block",S=Ji(T),b?T.style.display=b:T.style.removeProperty("display")),y=so(w[0],S[u.d]),_=so(w[1]||"0",s),o=S[u.p]-p[u.p]-m+y+l-_,h&&lo(h,_,u,s-_<20||h._isStart&&_>20),s-=s-_}if(c){var k=o+s,x=c._isStart;v="scroll"+u.d2,lo(c,k,u,x&&k>20||!x&&(g?Math.max(Fr[v],Br[v]):c.parentNode[v])<=k+1),g&&(p=Ji(h),g&&(c.style[u.op.p]=p[u.op.p]-u.op.m-c._offset+Xi))}return Math.round(o)},Fo=/(?:webkit|moz|length|cssText)/i,jo=function _reparent(o,a,s,u){if(o.parentNode!==a){var l,c,h=o.style;if(a===Fr){for(l in o._stOrig=h.cssText,c=Ki(o))+l||Fo.test(l)||!c[l]||"string"!=typeof h[l]||"0"===l||(h[l]=c[l]);h.top=s,h.left=u}else h.cssText=o._stOrig;Mr.core.getCache(o).uncache=1,a.appendChild(o)}},Uo=function _getTweenCreator(o,a){var s,u,l=bi(o,a),c="_scroll"+a.p2;return o[c]=l,function getTween(a,h,f,p,m){var g=getTween.tween,v=h.onComplete,y={};return g&&g.kill(),s=Math.round(f),h[c]=a,h.modifiers=y,y[c]=function(o){return(o=Math.round(l()))!==s&&o!==u?(g.kill(),getTween.tween=0):o=f+p*g.ratio+m*g.ratio*g.ratio,u=s,s=Math.round(o)},h.onComplete=function(){getTween.tween=0,v&&v.call(g)},g=getTween.tween=Mr.to(o,h)}};Yi.op=$i;var Ho=function(){function ScrollTrigger(o,a){Dr||ScrollTrigger.register(Mr)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),this.init(o,a)}return ScrollTrigger.prototype.init=function init(o,a){if(this.progress=0,this.vars&&this.kill(1),pi){var s,u,l,c,h,f,p,m,g,v,y,_,b,T,S,w,k,x,P,I,O,L,M,D,R,N,j,U,H,q,V,W,z,G,X,Y,K,Q=(o=Qi(Ei(o)||Ci(o)||o.nodeType?{trigger:o}:o,oo)).horizontal?Yi:$i,J=o,Z=J.onUpdate,ee=J.toggleClass,te=J.id,ne=J.onToggle,re=J.onRefresh,ie=J.scrub,oe=J.trigger,ae=J.pin,se=J.pinSpacing,ue=J.invalidateOnRefresh,le=J.anticipatePin,ce=J.onScrubComplete,de=J.onSnapComplete,he=J.once,fe=J.snap,pe=J.pinReparent,me=!ie&&0!==ie,ge=Vr(o.scroller||Rr)[0],ve=Mr.core.getCache(ge),ye=yi(ge),_e="pinType"in o?"fixed"===o.pinType:ye||"fixed"===_i(ge,"pinType"),be=[o.onEnter,o.onLeave,o.onEnterBack,o.onLeaveBack],Te=me&&o.toggleActions.split(" "),Se="markers"in o?o.markers:oo.markers,we=ye?0:parseFloat(Ki(ge)["border"+Q.p2+zi])||0,Ee=this,ke=o.onRefreshInit&&function(){return o.onRefreshInit(Ee)},Ce=function _getSizeFunc(o,a,s){var u=s.d,l=s.d2,c=s.a;return(c=_i(o,"getBoundingClientRect"))?function(){return c()[u]}:function(){return(a?Rr["inner"+l]:o["client"+l])||0}}(ge,ye,Q),xe=function _getOffsetsFunc(o,a){return!a||~li.indexOf(o)?Ti(o):function(){return No}}(ge,ye);Ee.media=ni,le*=45,co.push(Ee),Ee.scroller=ge,Ee.scroll=bi(ge,Q),h=Ee.scroll(),Ee.vars=o,a=a||o.animation,"refreshPriority"in o&&(ei=1),ve.tweenScroll=ve.tweenScroll||{top:Uo(ge,$i),left:Uo(ge,Yi)},Ee.tweenTo=s=ve.tweenScroll[Q.p],a&&(a.vars.lazy=!1,a._initted||!1!==a.vars.immediateRender&&!1!==o.immediateRender&&a.render(0,!0,!0),Ee.animation=a.pause(),a.scrollTrigger=Ee,(W=Ci(ie)&&ie)&&(V=Mr.to(a,{ease:"power3",duration:W,onComplete:function onComplete(){return ce&&ce(Ee)}})),H=0,te||(te=a.vars.id)),fe&&(xi(fe)||(fe={snapTo:fe}),Mr.set(ye?[Fr,Br]:ge,{scrollBehavior:"auto"}),l=ki(fe.snapTo)?fe.snapTo:"labels"===fe.snapTo?function _getLabels(o){return function(a){var s,u=[],l=o.labels,c=o.duration();for(s in l)u.push(l[s]/c);return Mr.utils.snap(u,a)}}(a):Mr.utils.snap(fe.snapTo),z=fe.duration||{min:.1,max:2},z=xi(z)?Wr(z.min,z.max):Wr(z,z),G=Mr.delayedCall(fe.delay||W/2||.1,(function(){if(Math.abs(Ee.getVelocity())<10&&!Yr){var o=a&&!me?a.totalProgress():Ee.progress,u=(o-q)/(di()-zr)*1e3||0,c=Ii(u/2)*u/.185,h=o+c,f=Wr(0,1,l(h,Ee)),g=Ee.scroll(),v=Math.round(p+f*T),y=s.tween;if(g<=m&&g>=p&&v!==g){if(y&&!y._initted&&y.data<=Math.abs(v-g))return;s(v,{duration:z(Ii(.185*Math.max(Ii(h-o),Ii(f-o))/u/.05||0)),ease:fe.ease||"power3",data:Math.abs(v-g),onComplete:function onComplete(){H=q=a&&!me?a.totalProgress():Ee.progress,de&&de(Ee)}},g,c*T,v-g-c*T)}}else Ee.isActive&&G.restart(!0)})).pause()),te&&(ho[te]=Ee),oe=Ee.trigger=Vr(oe||ae)[0],ae=!0===ae?oe:Vr(ae)[0],Ei(ee)&&(ee={targets:oe,className:ee}),ae&&(!1===se||se===Wi||(se=!(!se&&"flex"===Ki(ae.parentNode).display)&&Vi),Ee.pin=ae,!1!==o.force3D&&Mr.set(ae,{force3D:!0}),(u=Mr.core.getCache(ae)).spacer?S=u.pinState:(u.spacer=x=Nr.createElement("div"),x.setAttribute("class","pin-spacer"+(te?" pin-spacer-"+te:"")),u.pinState=S=Ro(ae)),Ee.spacer=x=u.spacer,U=Ki(ae),D=U[se+Q.os2],I=Mr.getProperty(ae),O=Mr.quickSetter(ae,Q.a,Xi),Lo(ae,x,U),k=Ro(ae)),Se&&(b=xi(Se)?Qi(Se,io):io,y=uo("scroller-start",te,ge,Q,b,0),_=uo("scroller-end",te,ge,Q,b,0,y),P=y["offset"+Q.op.d2],g=uo("start",te,ge,Q,b,P),v=uo("end",te,ge,Q,b,P),_e||(!function _makePositionable(o){o.style.position="absolute"===Ki(o).position?"absolute":"relative"}(ge),Mr.set([y,_],{force3D:!0}),N=Mr.quickSetter(y,Q.a,Xi),j=Mr.quickSetter(_,Q.a,Xi))),Ee.revert=function(o){var s=!1!==o||!Ee.enabled,u=Xr;s!==c&&(s&&(Y=Math.max(Ee.scroll(),Ee.scroll.rec||0),X=Ee.progress,K=a&&a.progress()),g&&[g,v,y,_].forEach((function(o){return o.style.display=s?"none":"block"})),s&&(Xr=1),Ee.update(s),Xr=u,ae&&(s?function _swapPinOut(o,a,s){if(Do(s),o.parentNode===a){var u=a.parentNode;u&&(u.insertBefore(o,a),u.removeChild(a))}}(ae,x,S):(!pe||!Ee.isActive)&&Lo(ae,x,Ki(ae),R)),c=s)},Ee.refresh=function(s){if(!Xr&&Ee.enabled)if(ae&&s&&fi)no(ScrollTrigger,"scrollEnd",To);else{Xr=1,V&&V.kill(),ue&&a&&a.progress(0).invalidate(),c||Ee.revert();for(var u,l,b,P,O,D,N,j,U=Ce(),H=xe(),q=Si(ge,Q),W=0,z=0,G=o.end,J=o.endTrigger||oe,Z=o.start||(0===o.start?0:ae||!oe?"0 0":"0 100%"),ee=oe&&Math.max(0,co.indexOf(Ee))||0,te=ee;te--;)(N=co[te].pin)&&(N===oe||N===ae)&&co[te].revert();for(p=Bo(Z,oe,U,Q,Ee.scroll(),g,y,Ee,H,we,_e,q)||(ae?-.001:0),ki(G)&&(G=G(Ee)),Ei(G)&&!G.indexOf("+=")&&(~G.indexOf(" ")?G=(Ei(Z)?Z.split(" ")[0]:"")+G:(W=so(G.substr(2),U),G=Ei(Z)?Z:p+W,J=oe)),m=Math.max(p,Bo(G||(J?"100% 0":q),J,U,Q,Ee.scroll()+W,v,_,Ee,H,we,_e,q))||-.001,T=m-p||(p-=.01)&&.001,W=0,te=ee;te--;)(N=(D=co[te]).pin)&&D.start-D._pinPush<p&&(u=D.end-D.start,N===oe&&(W+=u),N===ae&&(z+=u));if(p+=W,m+=W,Ee._pinPush=z,g&&W&&((u={})[Q.a]="+="+W,Mr.set([g,v],u)),ae)u=Ki(ae),P=Q===$i,b=Ee.scroll(),L=parseFloat(I(Q.a))+z,!q&&m>1&&((ye?Fr:ge).style["overflow-"+Q.a]="scroll"),Lo(ae,x,u),k=Ro(ae),l=Ji(ae,!0),j=_e&&bi(ge,P?Yi:$i)(),se&&((R=[se+Q.os2,T+z+Xi]).t=x,(te=se===Vi?Zi(ae,Q)+T+z:0)&&R.push(Q.d,te+Xi),Do(R),_e&&Ee.scroll(Y)),_e&&((O={top:l.top+(P?b-p:j)+Xi,left:l.left+(P?j:b-p)+Xi,boxSizing:"border-box",position:"fixed"}).width=O.maxWidth=Math.ceil(l.width)+Xi,O.height=O.maxHeight=Math.ceil(l.height)+Xi,O.margin=O.marginTop=O.marginRight=O.marginBottom=O.marginLeft="0",O.padding=u.padding,O.paddingTop=u.paddingTop,O.paddingRight=u.paddingRight,O.paddingBottom=u.paddingBottom,O.paddingLeft=u.paddingLeft,w=function _copyState(o,a,s){for(var u,l=[],c=o.length,h=s?8:0;h<c;h+=2)u=o[h],l.push(u,u in a?a[u]:o[h+1]);return l.t=o.t,l}(S,O,pe)),a?(a.progress(1,!0),M=I(Q.a)-L+T+z,T!==M&&w.splice(w.length-2,2),a.progress(0,!0)):M=T;else if(oe&&Ee.scroll())for(l=oe.parentNode;l&&l!==Fr;)l._pinOffset&&(p-=l._pinOffset,m-=l._pinOffset),l=l.parentNode;for(te=0;te<ee;te++)(D=co[te].pin)&&(D===oe||D===ae)&&co[te].revert(!1);Ee.start=p,Ee.end=m,(h=f=Ee.scroll())<Y&&Ee.scroll(Y),Ee.revert(!1),Xr=0,K&&me&&a.progress(K,!0),X!==Ee.progress&&(V&&a.totalProgress(X,!0),Ee.progress=X,Ee.update()),ae&&se&&(x._pinOffset=Math.round(Ee.progress*M)),re&&re(Ee)}},Ee.getVelocity=function(){return(Ee.scroll()-f)/(di()-zr)*1e3||0},Ee.update=function(o,u){var l,c,g,v,_,b=Ee.scroll(),S=o?0:(b-p)/T,P=S<0?0:S>1?1:S||0,I=Ee.progress;if(u&&(f=h,h=b,fe&&(q=H,H=a&&!me?a.totalProgress():P)),le&&!P&&ae&&!Xr&&!ui&&fi&&p<b+(b-f)/(di()-zr)*le&&(P=1e-4),P!==I&&Ee.enabled){if(v=(_=(l=Ee.isActive=!!P&&P<1)!==(!!I&&I<1))||!!P!=!!I,Ee.direction=P>I?1:-1,Ee.progress=P,me||(!V||Xr||ui?a&&a.totalProgress(P,!!Xr):(V.vars.totalProgress=P,V.invalidate().restart())),ae)if(o&&se&&(x.style[se+Q.os2]=D),_e){if(v){if(g=!o&&P>I&&m+1>b&&b+1>=Si(ge,Q),pe)if(o||!l&&!g)jo(ae,x);else{var R=Ji(ae,!0),U=b-p;jo(ae,Fr,R.top+(Q===$i?U:0)+Xi,R.left+(Q===$i?0:U)+Xi)}Do(l||g?w:k),M!==T&&P<1&&l||O(L+(1!==P||g?0:M))}}else O(L+M*P);fe&&!s.tween&&!Xr&&!ui&&G.restart(!0),ee&&(_||he&&P&&(P<1||!ti))&&Vr(ee.targets).forEach((function(o){return o.classList[l||he?"add":"remove"](ee.className)})),Z&&!me&&!o&&Z(Ee),v&&!Xr?(c=P&&!I?0:1===P?1:1===I?2:3,me&&(g=!_&&"none"!==Te[c+1]&&Te[c+1]||Te[c],a&&("complete"===g||"reset"===g||g in a)&&("complete"===g?a.pause().totalProgress(1):"reset"===g?a.restart(!0).pause():a[g]()),Z&&Z(Ee)),!_&&ti||(ne&&_&&ne(Ee),be[c]&&be[c](Ee),he&&(1===P?Ee.kill(!1,1):be[c]=0),_||be[c=1===P?1:3]&&be[c](Ee))):me&&Z&&!Xr&&Z(Ee)}j&&(N(b+(y._isFlipped?1:0)),j(b))},Ee.enable=function(){Ee.enabled||(Ee.enabled=!0,no(ge,"resize",mo),no(ge,"scroll",po),ke&&no(ScrollTrigger,"refreshInit",ke),a&&a.add?Mr.delayedCall(.01,(function(){return p||m||Ee.refresh()}))&&(T=.01)&&(p=m=0):Ee.refresh())},Ee.disable=function(o,a){if(Ee.enabled&&(!1!==o&&Ee.revert(),Ee.enabled=Ee.isActive=!1,a||V&&V.pause(),Y=0,u&&(u.uncache=1),ke&&ro(ScrollTrigger,"refreshInit",ke),G&&(G.pause(),s.tween&&s.tween.kill()&&(s.tween=0)),!ye)){for(var l=co.length;l--;)if(co[l].scroller===ge&&co[l]!==Ee)return;ro(ge,"resize",mo),ro(ge,"scroll",po)}},Ee.kill=function(o,s){Ee.disable(o,s),te&&delete ho[te];var l=co.indexOf(Ee);co.splice(l,1),l===Kr&&Po>0&&Kr--,a&&(a.scrollTrigger=null,o&&a.render(-1),s||a.kill()),g&&[g,v,y,_].forEach((function(o){return o.parentNode.removeChild(o)})),u&&(u.uncache=1)},Ee.enable()}else this.update=this.refresh=this.kill=mi},ScrollTrigger.register=function register(o){if(!Dr&&(Mr=o||vi(),gi()&&window.document&&(Rr=window,Nr=document,Br=Nr.documentElement,Fr=Nr.body),Mr&&(Vr=Mr.utils.toArray,Wr=Mr.utils.clamp,Mr.core.globals("ScrollTrigger",ScrollTrigger),Fr))){Hr=Rr.requestAnimationFrame||function(o){return setTimeout(o,16)},no(Rr,"mousewheel",po),jr=[Rr,Nr,Br,Fr],no(Nr,"scroll",po);var a,s=Fr.style,u=s.borderTop;s.borderTop="1px solid #000",a=Ji(Fr),$i.m=Math.round(a.top+$i.sc())||0,Yi.m=Math.round(a.left+Yi.sc())||0,u?s.borderTop=u:s.removeProperty("border-top"),Gr=setInterval(fo,200),Mr.delayedCall(.5,(function(){return ui=0})),no(Nr,"touchcancel",mi),no(Fr,"touchstart",mi),eo(no,Nr,"pointerdown,touchstart,mousedown",(function(){return Yr=1})),eo(no,Nr,"pointerup,touchend,mouseup",(function(){return Yr=0})),$r=Mr.utils.checkPrefix("transform"),Oo.push($r),Dr=di(),Ur=Mr.delayedCall(.2,Co).pause(),Zr=[Nr,"visibilitychange",function(){var o=Rr.innerWidth,a=Rr.innerHeight;Nr.hidden?(Qr=o,Jr=a):Qr===o&&Jr===a||mo()},Nr,"DOMContentLoaded",Co,Rr,"load",function(){return fi||Co()},Rr,"resize",mo],wi(no)}return Dr},ScrollTrigger.defaults=function defaults(o){for(var a in o)oo[a]=o[a]},ScrollTrigger.kill=function kill(){pi=0,co.slice(0).forEach((function(o){return o.kill(1)}))},ScrollTrigger.config=function config(o){"limitCallbacks"in o&&(ti=!!o.limitCallbacks);var a=o.syncInterval;a&&clearInterval(Gr)||(Gr=a)&&setInterval(fo,a),"autoRefreshEvents"in o&&(wi(ro)||wi(no,o.autoRefreshEvents||"none"))},ScrollTrigger.scrollerProxy=function scrollerProxy(o,a){var s=Vr(o)[0];yi(s)?li.unshift(Rr,a,Fr,a,Br,a):li.unshift(s,a)},ScrollTrigger.matchMedia=function matchMedia(o){var a,s,u,l,c;for(s in o)u=_o.indexOf(s),l=o[s],ni=s,"all"===s?l():(a=Rr.matchMedia(s))&&(a.matches&&(c=l()),~u?(_o[u+1]=Ai(_o[u+1],l),_o[u+2]=Ai(_o[u+2],c)):(u=_o.length,_o.push(s,l,c),a.addListener?a.addListener(bo):a.addEventListener("change",bo)),_o[u+3]=a.matches),ni=0;return _o},ScrollTrigger.clearMatchMedia=function clearMatchMedia(o){o||(_o.length=0),(o=_o.indexOf(o))>=0&&_o.splice(o,4)},ScrollTrigger}();Ho.version="3.5.1",Ho.saveStyles=function(o){return o?Vr(o).forEach((function(o){var a=wo.indexOf(o);a>=0&&wo.splice(a,4),wo.push(o,o.style.cssText,Mr.core.getCache(o),ni)})):wo},Ho.revert=function(o,a){return ko(!o,a)},Ho.create=function(o,a){return new Ho(o,a)},Ho.refresh=function(o){return o?mo():Co(!0)},Ho.update=Ao,Ho.maxScroll=function(o,a){return Si(o,a?Yi:$i)},Ho.getScrollFunc=function(o,a){return bi(Vr(o)[0],a?Yi:$i)},Ho.getById=function(o){return ho[o]},Ho.getAll=function(){return co.slice(0)},Ho.isScrolling=function(){return!!fi},Ho.addEventListener=function(o,a){var s=vo[o]||(vo[o]=[]);~s.indexOf(a)||s.push(a)},Ho.removeEventListener=function(o,a){var s=vo[o],u=s&&s.indexOf(a);u>=0&&s.splice(u,1)},Ho.batch=function(o,a){var s,u=[],l={},c=a.interval||.016,h=a.batchMax||1e9,f=function proxyCallback(o,a){var s=[],u=[],l=Mr.delayedCall(c,(function(){a(s,u),s=[],u=[]})).pause();return function(o){s.length||l.restart(!0),s.push(o.trigger),u.push(o),h<=s.length&&l.progress(1)}};for(s in a)l[s]="on"===s.substr(0,2)&&ki(a[s])&&"onRefreshInit"!==s?f(0,a[s]):a[s];return ki(h)&&(h=h(),no(Ho,"refresh",(function(){return h=a.batchMax()}))),Vr(o).forEach((function(o){var a={};for(s in l)a[s]=l[s];a.trigger=o,u.push(Ho.create(a))})),u},Ho.sort=function(o){return co.sort(o||function(o,a){return-1e6*(o.vars.refreshPriority||0)+o.start-(a.start+-1e6*(a.vars.refreshPriority||0))})},vi()&&Mr.registerPlugin(Ho);var qo={minDesktop:1024},Vo=document.querySelector("#horizontal-scroll-container");ii.registerPlugin(Ho);var Wo=new si.a({el:Vo,smooth:!0,direction:window.innerWidth>=qo.minDesktop?"horizontal":"vertical",reloadOnContextChange:!0,resetNativeScroll:!1,lerp:.07,tablet:{smooth:!0,direction:window.innerWidth>=qo.minDesktop?"horizontal":"vertical"},smartphone:{smooth:!1,resetNativeScroll:!1,direction:"vertical"}});Wo.on("scroll",Ho.update),Ho.scrollerProxy("#horizontal-scroll-container",{scrollLeft:function scrollLeft(o){return arguments.length?Wo.scrollTo(o,0,0):Wo.scroll.instance.scroll.x},getBoundingClientRect:function getBoundingClientRect(){return{top:0,left:0,width:window.innerWidth,height:window.innerHeight}},pinType:Vo.style.transform?"transform":"fixed"}),Ho.addEventListener("refresh",(function(){return Wo.update()})),Ho.refresh();var zo={opacity:{duration:.5,ease:wn.easeOut},color:{duration:.5,ease:wn.easeOut},move:{duration:1,ease:wn.easeOut},draw:{duration:2,ease:En.easeOut},text:{duration:1,ease:wn.easeOut},grid:{duration:2,ease:wn.easeOut},transform:{duration:.7,ease:wn.easeOut},show:{duration:2,ease:En.easeOut}},Go=function playHomeHeroVideo(){var o=document.querySelector("#hero-video"),a=document.querySelector("#home-hero-video");o&&o.play(),Yt.to(a,{opacity:1,duration:zo.opacity.duration,ease:zo.opacity.ease})},Xo=function pauseHomeHeroVideo(){var o=document.querySelector("#hero-video"),a=document.querySelector("#home-hero-video");o&&o.pause(),Yt.to(a,{opacity:0,duration:zo.opacity.duration,ease:zo.opacity.ease})};function _typeof(o){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(o){return typeof o}:function _typeof(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(o)}function _classCallCheck(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties(o,a){for(var s=0;s<a.length;s++){var u=a[s];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(o,u.key,u)}}function _setPrototypeOf(o,a){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,a){return o.__proto__=a,o})(o,a)}function _createSuper(o){var a=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(o){return!1}}();return function _createSuperInternal(){var s,u=_getPrototypeOf(o);if(a){var l=_getPrototypeOf(this).constructor;s=Reflect.construct(u,arguments,l)}else s=u.apply(this,arguments);return _possibleConstructorReturn(this,s)}}function _possibleConstructorReturn(o,a){return!a||"object"!==_typeof(a)&&"function"!=typeof a?function fade_assertThisInitialized(o){if(void 0===o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(o):a}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var Yo=function(o){!function _inherits(o,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&_setPrototypeOf(o,a)}(Fade,o);var a=_createSuper(Fade);function Fade(){return _classCallCheck(this,Fade),a.apply(this,arguments)}return function _createClass(o,a,s){return a&&_defineProperties(o.prototype,a),s&&_defineProperties(o,s),o}(Fade,[{key:"out",value:function out(o){var a=o.from,s=o.done;Xo(),ii.fromTo(a,{opacity:1},{duration:.5,opacity:0,ease:En.easeOut,onComplete:s})}},{key:"in",value:function _in(o){var a=o.from,s=o.to,u=o.done;a.remove(),ii.fromTo(s,{opacity:0,onComplete:function onComplete(){Wo.update(),Wo.scrollTo(0,{duration:0,disableLerp:!0,callback:function callback(){Wo.update()}})}},{duration:.5,opacity:1,ease:En.easeOut,onComplete:u})}}]),Fade}(h.Transition),$o=function switchSlicedText(o,a){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.01;a&&o?Ko(o,s,u,l):Qo(o)},Ko=function showText(o,a,s,u){var l=o.querySelector(".btn");Yt.set(o,{opacity:1});var c=o.querySelectorAll(".word");Yt.to(c,{delay:a,opacity:1,y:0,duration:zo.text.duration,ease:zo.text.ease,stagger:u}),l&&Yt.to(l,{opacity:1,delay:s,y:0,duration:zo.text.duration,ease:zo.text.ease})},Qo=function hideText(o){if(o){var a=o.querySelector(".btn"),s=o.querySelectorAll(".word");Yt.to(s,{opacity:0,y:10,duration:zo.text.duration,ease:zo.text.ease,stagger:.01,onComplete:function onComplete(){Yt.set(o,{opacity:0,duration:0})}}),a&&Yt.to(a,{opacity:0,y:10,duration:zo.text.duration,ease:zo.text.ease})}},Jo=function switchVerticalNav(o){var a=document.querySelector("#motorcycles-vertical-nav");Yt.to(a,{pointerEvents:o?"auto":"none",opacity:o?1:0,duration:zo.move.duration,ease:zo.move.ease})},Zo=function switchVerticalAnchorNav(o){var a=document.querySelector(".section-nav-box.is-active");if(a&&(Yt.fromTo(a,{opacity:1,pointerEvents:"auto"},{opacity:0,pointerEvents:"none",duration:zo.move.duration,ease:zo.move.ease}),a.classList.remove("is-active")),o){var s=document.querySelector('.section-nav-box[data-anchor-motorcycle="'.concat(o,'"]'));s&&(Yt.set(s,{opacity:0}),Yt.fromTo(s,{opacity:0,pointerEvents:"none"},{opacity:1,pointerEvents:"auto",duration:zo.move.duration,ease:zo.move.ease}),s.classList.add("is-active"))}},ea=function initVerticalNavCarousel(){for(var o=document.querySelectorAll(".section-nav-title"),a=4*(o[0].getBoundingClientRect().height+30),s=0;s<o.length;s++)ii.to(o[s],{x:a,duration:50,ease:"none",repeat:-1});for(var u=document.querySelectorAll(".section-nav-carousel"),l=function _loop(o){u[o].addEventListener("click",(function(){Wo.scrollTo(u[o].dataset.scrollTo,{duration:1e3})}))},c=0;c<u.length;c++)l(c)},ta=function switchMotorcycle(o,a){var s=o.querySelector(".section-motorcycle").getAttribute("id");a?(na(o.querySelectorAll(".motorcycle-bg"),!0),$o(o.querySelector(".motorcycle-description"),!0,.1,1),Zo(s)):(na(o.querySelectorAll(".motorcycle-bg"),!1),$o(o.querySelector(".motorcycle-description"),!1))},na=function switchMotorcycleBg(o,a){var s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Yt.fromTo(o,{opacity:a?0:1,filter:s?"blur(".concat(a?10:0,"px)"):"none"},{opacity:a?1:0,filter:s?"blur(".concat(a?0:10,"px)"):"none",duration:zo.opacity.duration,ease:zo.opacity.ease})};function motorcycle_home_typeof(o){return(motorcycle_home_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(o){return typeof o}:function _typeof(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(o)}function motorcycle_home_classCallCheck(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")}function motorcycle_home_defineProperties(o,a){for(var s=0;s<a.length;s++){var u=a[s];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(o,u.key,u)}}function motorcycle_home_setPrototypeOf(o,a){return(motorcycle_home_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,a){return o.__proto__=a,o})(o,a)}function motorcycle_home_createSuper(o){var a=function motorcycle_home_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(o){return!1}}();return function _createSuperInternal(){var s,u=motorcycle_home_getPrototypeOf(o);if(a){var l=motorcycle_home_getPrototypeOf(this).constructor;s=Reflect.construct(u,arguments,l)}else s=u.apply(this,arguments);return motorcycle_home_possibleConstructorReturn(this,s)}}function motorcycle_home_possibleConstructorReturn(o,a){return!a||"object"!==motorcycle_home_typeof(a)&&"function"!=typeof a?function motorcycle_home_assertThisInitialized(o){if(void 0===o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(o):a}function motorcycle_home_getPrototypeOf(o){return(motorcycle_home_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var ra=function(o){!function motorcycle_home_inherits(o,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&motorcycle_home_setPrototypeOf(o,a)}(MotorcycleHome,o);var a=motorcycle_home_createSuper(MotorcycleHome);function MotorcycleHome(){return motorcycle_home_classCallCheck(this,MotorcycleHome),a.apply(this,arguments)}return function motorcycle_home_createClass(o,a,s){return a&&motorcycle_home_defineProperties(o.prototype,a),s&&motorcycle_home_defineProperties(o,s),o}(MotorcycleHome,[{key:"out",value:function out(o){var a=o.from,s=(o.trigger,o.done);if(window.innerWidth>=qo.minDesktop){var u=document.querySelector(".section-motorcycle.is-inview");Yt.set(u,{width:window.innerWidth}),Wo.scrollTo(u,{duration:1,easing:[.25,0,.35,.1],callback:function callback(){}});var l=document.querySelector(".section-motorcycle.is-inview"),c=l.querySelector(".motorcycle-description"),h=l.querySelectorAll(".motorcycle-bg");$o(c,!1),na(h,!1,!1),Jo(!1),setTimeout((function(){ii.fromTo(a,{opacity:1},{opacity:0,duration:2}),s()}),1600)}else ii.fromTo(a,{opacity:1},{opacity:0,duration:zo.opacity.duration,ease:zo.opacity.ease,onComplete:s})}},{key:"in",value:function _in(o){var a=o.from,s=o.to,u=o.done;window.innerWidth>=qo.minDesktop?(Wo.update(),Wo.scrollTo(0,{duration:5,disableLerp:!0,callback:function callback(){Wo.update()}}),ii.fromTo(s,{opacity:0,position:"absolute",left:window.innerWidth,top:0},{duration:0,opacity:1,onComplete:function onComplete(){a.remove(),u(),s.style.left="0",ii.set(s,{position:"relative"})}})):(a.remove(),window.scrollTo(0,0),ii.fromTo(s,{opacity:0},{opacity:1,duration:zo.opacity.duration,ease:zo.opacity.ease,onComplete:u}))}}]),MotorcycleHome}(h.Transition);const ia="splide",oa="data-splide",aa={CREATED:1,MOUNTED:2,IDLE:3,MOVING:4,DESTROYED:5};function empty(o){o.length=0}function isObject(o){return!isNull(o)&&"object"==typeof o}function isArray(o){return Array.isArray(o)}function splide_esm_isString(o){return"string"==typeof o}function isUndefined(o){return void 0===o}function isNull(o){return null===o}function isHTMLElement(o){return o instanceof HTMLElement}function splide_esm_toArray(o){return isArray(o)?o:[o]}function forEach(o,a){splide_esm_toArray(o).forEach(a)}function includes(o,a){return o.indexOf(a)>-1}function splide_esm_push(o,a){return o.push(...splide_esm_toArray(a)),o}const sa=Array.prototype;function slice(o,a,s){return sa.slice.call(o,a,s)}function toggleClass(o,a,s){o&&forEach(a,(a=>{a&&o.classList[s?"add":"remove"](a)}))}function addClass(o,a){toggleClass(o,splide_esm_isString(a)?a.split(" "):a,!0)}function append(o,a){forEach(a,o.appendChild.bind(o))}function before(o,a){forEach(o,(o=>{const s=a.parentNode;s&&s.insertBefore(o,a)}))}function matches(o,a){return isHTMLElement(o)&&(o.msMatchesSelector||o.matches).call(o,a)}function splide_esm_children(o,a){return o?slice(o.children).filter((o=>matches(o,a))):[]}function splide_esm_child(o,a){return a?splide_esm_children(o,a)[0]:o.firstElementChild}function forOwn(o,a,s){if(o){let u=Object.keys(o);u=s?u.reverse():u;for(let s=0;s<u.length;s++){const l=u[s];if("__proto__"!==l&&!1===a(o[l],l))break}}return o}function splide_esm_assign(o){return slice(arguments,1).forEach((a=>{forOwn(a,((s,u)=>{o[u]=a[u]}))})),o}function merge(o,a){return forOwn(a,((a,s)=>{isArray(a)?o[s]=a.slice():isObject(a)?o[s]=merge(isObject(o[s])?o[s]:{},a):o[s]=a})),o}function removeAttribute(o,a){o&&forEach(a,(a=>{o.removeAttribute(a)}))}function setAttribute(o,a,s){isObject(a)?forOwn(a,((a,s)=>{setAttribute(o,s,a)})):isNull(s)?removeAttribute(o,a):o.setAttribute(a,String(s))}function create(o,a,s){const u=document.createElement(o);return a&&(splide_esm_isString(a)?addClass(u,a):setAttribute(u,a)),s&&append(s,u),u}function splide_esm_style(o,a,s){if(isUndefined(s))return getComputedStyle(o)[a];if(!isNull(s)){const{style:u}=o;s=`${s}`,u[a]!==s&&(u[a]=s)}}function display(o,a){splide_esm_style(o,"display",a)}function getAttribute(o,a){return o.getAttribute(a)}function hasClass(o,a){return o&&o.classList.contains(a)}function rect(o){return o.getBoundingClientRect()}function remove(o){forEach(o,(o=>{o&&o.parentNode&&o.parentNode.removeChild(o)}))}function parseHtml(o){return splide_esm_child((new DOMParser).parseFromString(o,"text/html").body)}function prevent(o,a){o.preventDefault(),a&&(o.stopPropagation(),o.stopImmediatePropagation())}function query(o,a){return o&&o.querySelector(a)}function queryAll(o,a){return slice(o.querySelectorAll(a))}function removeClass(o,a){toggleClass(o,a,!1)}function splide_esm_unit(o){return splide_esm_isString(o)?o:o?`${o}px`:""}function assert(o,a=""){if(!o)throw new Error(`[splide] ${a}`)}function nextTick(o){setTimeout(o)}const splide_esm_noop=()=>{};function raf(o){return requestAnimationFrame(o)}const{min:ua,max:la,floor:ca,ceil:da,abs:ha}=Math;function between(o,a,s,u){const l=ua(a,s),c=la(a,s);return u?l<o&&o<c:l<=o&&o<=c}function splide_esm_clamp(o,a,s){const u=ua(a,s),l=la(a,s);return ua(la(u,o),l)}function sign(o){return+(o>0)-+(o<0)}function format(o,a){return forEach(a,(a=>{o=o.replace("%s",`${a}`)})),o}function pad(o){return o<10?`0${o}`:`${o}`}const fa={};function uniqueId(o){return`${o}${pad(fa[o]=(fa[o]||0)+1)}`}const pa="mounted",ma="ready",ga="move",va="moved",ya="shifted",_a="click",ba="visible",Ta="hidden",Sa="slide:keydown",wa="refresh",Ea="updated",ka="resize",Ca="resized",xa="repositioned",Pa="scroll",Aa="scrolled",Ia="destroy",Oa="navigation:mounted",La="lazyload:loaded";function EventInterface(o){const{event:a}=o,s={};let u=[];function unbind(o,a,s){forEachEvent(o,a,((o,a)=>{u=u.filter((u=>!!(u[0]!==o||u[1]!==a||s&&u[2]!==s)||(o.removeEventListener(a,u[2],u[3]),!1)))}))}function forEachEvent(o,a,s){forEach(o,(o=>{o&&a.split(" ").forEach(s.bind(null,o))}))}function destroy(){u=u.filter((o=>unbind(o[0],o[1]))),a.offBy(s)}return a.on(Ia,destroy,s),{on:function on(o,u,l){a.on(o,u,s,l)},off:function off(o){a.off(o,s)},emit:a.emit,bind:function bind(o,a,s,l){forEachEvent(o,a,((o,a)=>{u.push([o,a,s,l]),o.addEventListener(a,s,l)}))},unbind:unbind,destroy:destroy}}function RequestInterval(o,a,s,u){const{now:l}=Date;let c,h,f=0,p=!0,m=0;function update(){if(!p){const h=l()-c;if(h>=o?(f=1,c=l()):f=h/o,s&&s(f),1===f&&(a(),u&&++m>=u))return pause();raf(update)}}function pause(){p=!0}function cancel(){cancelAnimationFrame(h),f=0,h=0,p=!0}return{start:function start(a){!a&&cancel(),c=l()-(a?f*o:0),p=!1,raf(update)},rewind:function rewind(){c=l(),f=0,s&&s(f)},pause:pause,cancel:cancel,set:function set(a){o=a},isPaused:function isPaused(){return p}}}function Throttle(o,a){let s;return function throttled(){s||(s=RequestInterval(a||0,(()=>{o.apply(this,arguments),s=null}),null,1),s.start())}}const Ma="ttb",Da={marginRight:["marginBottom","marginLeft"],autoWidth:["autoHeight"],fixedWidth:["fixedHeight"],paddingLeft:["paddingTop","paddingRight"],paddingRight:["paddingBottom","paddingLeft"],width:["height"],left:["top","right"],right:["bottom","left"],x:["y"],X:["Y"],Y:["X"],ArrowLeft:["ArrowUp","ArrowRight"],ArrowRight:["ArrowDown","ArrowLeft"]};function Direction(o,a,s){return{resolve:function resolve(o,a){const{direction:u}=s;return Da[o]["rtl"!==u||a?u===Ma?0:-1:1]||o},orient:function orient(o){return o*("rtl"===s.direction?1:-1)}}}const Ra=ia,Na="splide__slide",Ba="splide__slide--clone",Fa="splide__arrows",ja="splide__arrow",Ua="splide__arrow--prev",Ha="splide__arrow--next",qa="splide__pagination",Va="is-active",Wa="is-prev",za="is-next",Ga="is-visible",Xa="is-loading",Ya=[Va,Ga,Wa,za,Xa],$a={slide:Na,clone:Ba,arrows:Fa,arrow:ja,prev:Ua,next:Ha,pagination:qa,page:"splide__pagination__page",spinner:"splide__spinner"};const Ka="role",Qa="aria-controls",Ja="aria-current",Za="aria-label",es="aria-hidden",ns="tabindex",rs="aria-orientation",os=[Ka,Qa,Ja,Za,es,rs,ns,"disabled"],as="slide",ss="loop",us="fade";function Slide$1(o,a,s,u){const{on:l,emit:c,bind:h,destroy:f}=EventInterface(o),{Components:p,root:m,options:g}=o,{isNavigation:v,updateOnMove:y}=g,{resolve:_}=p.Direction,b=getAttribute(u,"style"),T=s>-1,S=splide_esm_child(u,".splide__slide__container"),w=g.focusableNodes&&queryAll(u,g.focusableNodes);let k;function initNavigation(){const l=T?s:a,c=format(g.i18n.slideX,l+1),h=o.splides.map((o=>o.splide.root.id)).join(" ");setAttribute(u,Za,c),setAttribute(u,Qa,h),setAttribute(u,Ka,"menuitem"),updateActivity(isActive())}function onMove(){k||update()}function update(){if(!k){const{index:s}=o;updateActivity(isActive()),function updateVisibility(o){const a=!o&&(!isActive()||T);setAttribute(u,es,a||null),setAttribute(u,ns,!a&&g.slideFocus?0:null),w&&w.forEach((o=>{setAttribute(o,ns,a?-1:null)}));o!==hasClass(u,Ga)&&(toggleClass(u,Ga,o),c(o?ba:Ta,x))}(function isVisible(){if(o.is(us))return isActive();const a=rect(p.Elements.track),s=rect(u),l=_("left"),c=_("right");return ca(a[l])<=da(s[l])&&ca(s[c])<=da(a[c])}()),toggleClass(u,Wa,a===s-1),toggleClass(u,za,a===s+1)}}function updateActivity(o){o!==hasClass(u,Va)&&(toggleClass(u,Va,o),v&&setAttribute(u,Ja,o||null),c(o?"active":"inactive",x))}function isActive(){const{index:u}=o;return u===a||g.cloneStatus&&u===s}const x={index:a,slideIndex:s,slide:u,container:S,isClone:T,mount:function mount(){T||(u.id=`${m.id}-slide${pad(a+1)}`),h(u,"click keydown",(o=>{c("click"===o.type?_a:Sa,x,o)})),l([wa,xa,ya,va,Aa],update),l(Oa,initNavigation),y&&l(ga,onMove)},destroy:function destroy(){k=!0,f(),removeClass(u,Ya),removeAttribute(u,os),setAttribute(u,"style",b)},update:update,style:function style$1(o,a,s){splide_esm_style(s&&S||u,o,a)},isWithin:function isWithin(s,u){let l=ha(s-a);return T||!g.rewind&&!o.is(ss)||(l=ua(l,o.length-l)),l<=u}};return x}const ls="http://www.w3.org/2000/svg",cs="m15.5 0.932-4.3 4.38 14.5 14.6-14.5 14.5 4.3 4.4 14.6-14.6 4.4-4.3-4.4-4.4-14.6-14.6z";const ds={passive:!1,capture:!0},hs="touchmove mousemove",fs="touchend touchcancel mouseup";const ps=["Left","Right","Up","Down"],ms="keydown";const gs="data-splide-lazy",vs="data-splide-lazy-srcset";const ys=[" ","Enter","Spacebar"];var _s=Object.freeze({__proto__:null,Options:function Options(o,a,s){const u=Throttle(observe);let l,c,h;function destroy(o){o&&removeEventListener("resize",u)}function observe(){const a=function find(o,a){return slice(o).filter(a)[0]}(c,(o=>o[1].matches))||[];a[0]!==h&&function onMatch(a){const u=s.breakpoints[a]||l;u.destroy?(o.options=l,o.destroy("completely"===u.destroy)):(o.state.is(5)&&(destroy(!0),o.mount()),o.options=u)}(h=a[0])}return{setup:function setup(){try{merge(s,JSON.parse(getAttribute(o.root,oa)))}catch(o){assert(!1,o.message)}l=merge({},s);const{breakpoints:a}=s;if(a){const o="min"===s.mediaQuery;c=Object.keys(a).sort(((a,s)=>o?+s-+a:+a-+s)).map((a=>[a,matchMedia(`(${o?"min":"max"}-width:${a}px)`)])),observe()}},mount:function mount(){c&&addEventListener("resize",u)},destroy:destroy}},Direction:Direction,Elements:function Elements(o,a,s){const{on:u}=EventInterface(o),{root:l}=o,c={},h=[];let f,p,m,g;function setup(){!function collect(){p=splide_esm_child(l,".splide__slider"),m=query(l,".splide__track"),g=splide_esm_child(m,".splide__list"),assert(m&&g,"A track/list element is missing."),splide_esm_push(h,splide_esm_children(g,`.splide__slide:not(.${Ba})`));const o=find(".splide__autoplay"),a=find(".splide__arrows");splide_esm_assign(c,{root:l,slider:p,track:m,list:g,slides:h,arrows:a,autoplay:o,prev:query(a,".splide__arrow--prev"),next:query(a,".splide__arrow--next"),bar:query(find(".splide__progress"),".splide__progress__bar"),play:query(o,".splide__play"),pause:query(o,".splide__pause")})}(),function identify(){const o=l.id||uniqueId(ia);l.id=o,m.id=m.id||`${o}-track`,g.id=g.id||`${o}-list`}(),addClass(l,f=getClasses())}function destroy(){[l,m,g].forEach((o=>{removeAttribute(o,"style")})),empty(h),removeClass(l,f)}function refresh(){destroy(),setup()}function update(){removeClass(l,f),addClass(l,f=getClasses())}function find(o){return splide_esm_child(l,o)||splide_esm_child(p,o)}function getClasses(){return[`${Ra}--${s.type}`,`${Ra}--${s.direction}`,s.drag&&`${Ra}--draggable`,s.isNavigation&&`${Ra}--nav`,Va]}return splide_esm_assign(c,{setup:setup,mount:function mount(){u(wa,refresh,8),u(Ea,update)},destroy:destroy})},Slides:function Slides(o,a,s){const{on:u,emit:l,bind:c}=EventInterface(o),{slides:h,list:f}=a.Elements,p=[];function init(){h.forEach(((o,a)=>{register(o,a,-1)}))}function destroy(){forEach$1((o=>{o.destroy()})),empty(p)}function refresh(){destroy(),init()}function register(a,s,u){const l=Slide$1(o,s,u,a);l.mount(),p.push(l)}function get(o){return o?filter((o=>!o.isClone)):p}function forEach$1(o,a){get(a).forEach(o)}function filter(o){return p.filter(function isFunction(o){return"function"==typeof o}(o)?o:a=>splide_esm_isString(o)?matches(a.slide,o):includes(splide_esm_toArray(o),a.index))}return{mount:function mount(){init(),u(wa,refresh),u([pa,wa],(()=>{p.sort(((o,a)=>o.index-a.index))}))},destroy:destroy,update:function update(){forEach$1((o=>{o.update()}))},register:register,get:get,getIn:function getIn(o){const{Controller:u}=a,l=u.toIndex(o),c=u.hasFocus()?1:s.perPage;return filter((o=>between(o.index,l,l+c-1)))},getAt:function getAt(o){return filter(o)[0]},add:function add(o,a){forEach(o,(o=>{if(splide_esm_isString(o)&&(o=parseHtml(o)),isHTMLElement(o)){const u=h[a];u?before(o,u):append(f,o),addClass(o,s.classes.slide),function observeImages(o,a){const s=queryAll(o,"img");let{length:u}=s;u?s.forEach((o=>{c(o,"load error",(()=>{--u||a()}))})):a()}(o,l.bind(null,ka))}})),l(wa)},remove:function remove$1(o){remove(filter(o).map((o=>o.slide))),l(wa)},forEach:forEach$1,filter:filter,style:function style(o,a,s){forEach$1((u=>{u.style(o,a,s)}))},getLength:function getLength(o){return o?h.length:p.length},isEnough:function isEnough(){return p.length>s.perPage}}},Layout:function Layout(o,a,s){const{on:u,bind:l,emit:c}=EventInterface(o),{Slides:h}=a,{resolve:f}=a.Direction,{root:p,track:m,list:g}=a.Elements,{getAt:v}=h;let y,_;function init(){_=null,y=s.direction===Ma,splide_esm_style(p,"maxWidth",splide_esm_unit(s.width)),splide_esm_style(m,f("paddingLeft"),cssPadding(!1)),splide_esm_style(m,f("paddingRight"),cssPadding(!0)),resize()}function resize(){const o=rect(p);_&&_.width===o.width&&_.height===o.height||(splide_esm_style(m,"height",function cssTrackHeight(){let o="";y&&(o=cssHeight(),assert(o,"height or heightRatio is missing."),o=`calc(${o} - ${cssPadding(!1)} - ${cssPadding(!0)})`);return o}()),h.style(f("marginRight"),splide_esm_unit(s.gap)),h.style("width",function cssSlideWidth(){return s.autoWidth?"":splide_esm_unit(s.fixedWidth)||(y?"":cssSlideSize())}()||null),function setSlidesHeight(){h.style("height",function cssSlideHeight(){return splide_esm_unit(s.fixedHeight)||(y?s.autoHeight?"":cssSlideSize():cssHeight())}()||null,!0)}(),_=o,c(Ca))}function cssPadding(o){const{padding:a}=s,u=f(o?"right":"left");return a&&splide_esm_unit(a[u]||(isObject(a)?0:a))||"0px"}function cssHeight(){return splide_esm_unit(s.height||rect(g).width*s.heightRatio)}function cssSlideSize(){const o=splide_esm_unit(s.gap);return`calc((100%${o&&` + ${o}`})/${s.perPage||1}${o&&` - ${o}`})`}function totalSize(o,a){const s=v(o);if(s){const o=rect(s.slide)[f("right")],u=rect(g)[f("left")];return ha(o-u)+(a?0:getGap())}return 0}function getGap(){const o=v(0);return o&&parseFloat(splide_esm_style(o.slide,f("marginRight")))||0}return{mount:function mount(){init(),l(window,"resize load",Throttle(c.bind(this,ka))),u([Ea,wa],init),u(ka,resize)},listSize:function listSize(){return rect(g)[f("width")]},slideSize:function slideSize(o,a){const s=v(o||0);return s?rect(s.slide)[f("width")]+(a?0:getGap()):0},sliderSize:function sliderSize(){return totalSize(o.length-1,!0)-totalSize(-1,!0)},totalSize:totalSize,getPadding:function getPadding(o){return parseFloat(splide_esm_style(m,f("padding"+(o?"Right":"Left"))))||0}}},Clones:function Clones(o,a,s){const{on:u,emit:l}=EventInterface(o),{Elements:c,Slides:h}=a,{resolve:f}=a.Direction,p=[];let m;function init(){(m=computeCloneCount())&&(!function generate(a){const u=h.get().slice(),{length:l}=u;if(l){for(;u.length<a;)splide_esm_push(u,u);splide_esm_push(u.slice(-a),u.slice(0,a)).forEach(((f,m)=>{const g=m<a,v=function cloneDeep(a,u){const l=a.cloneNode(!0);return addClass(l,s.classes.clone),l.id=`${o.root.id}-clone${pad(u+1)}`,l}(f.slide,m);g?before(v,u[0].slide):append(c.list,v),splide_esm_push(p,v),h.register(v,m-a+(g?0:l),f.index)}))}}(m),l(ka))}function destroy(){remove(p),empty(p)}function refresh(){destroy(),init()}function observe(){m<computeCloneCount()&&l(wa)}function computeCloneCount(){let{clones:a}=s;if(o.is(ss)){if(!a){const u=function measure(o,a){if(splide_esm_isString(a)){const s=create("div",{style:`width: ${a}; position: absolute;`},o);a=rect(s).width,remove(s)}return a}(c.list,s[f("fixedWidth")]);a=(u&&da(rect(c.track)[f("width")]/u)||s[f("autoWidth")]&&o.length||s.perPage)*(s.drag?(s.flickMaxPages||1)+1:2)}}else a=0;return a}return{mount:function mount(){init(),u(wa,refresh),u([Ea,ka],observe)},destroy:destroy}},Move:function Move(o,a,s){const{on:u,emit:l}=EventInterface(o),{slideSize:c,getPadding:h,totalSize:f,listSize:p,sliderSize:m}=a.Layout,{resolve:g,orient:v}=a.Direction,{list:y,track:_}=a.Elements;let b;function reposition(){isBusy()||(a.Scroll.cancel(),jump(o.index),l(xa))}function jump(o){translate(toPosition(o,!0))}function translate(a,s){if(!o.is(us)){const u=s?a:function loop(a){if(o.is(ss)){const o=v(a-getPosition()),s=exceededLimit(!1,a)&&o<0,u=exceededLimit(!0,a)&&o>0;(s||u)&&(a=shift(a,u))}return a}(a);y.style.transform=`translate${g("X")}(${u}px)`,a!==u&&l(ya)}}function shift(o,a){const s=o-getLimit(a),u=m();return o-=v(u*(da(ha(s)/u)||1))*(a?1:-1)}function toPosition(a,u){const l=v(f(a-1)-function offset(o){const{focus:a}=s;return"center"===a?(p()-c(o,!0))/2:+a*c(o)||0}(a));return u?function trim(a){s.trimSpace&&o.is(as)&&(a=splide_esm_clamp(a,0,v(m()-p())));return a}(l):l}function getPosition(){const o=g("left");return rect(y)[o]-rect(_)[o]+v(h(!1))}function getLimit(o){return toPosition(o?a.Controller.getEnd():0,!!s.trimSpace)}function isBusy(){return o.state.is(4)&&s.waitForTransition}function exceededLimit(o,a){a=isUndefined(a)?getPosition():a;const s=!0!==o&&v(a)<v(getLimit(!1)),u=!1!==o&&v(a)>v(getLimit(!0));return s||u}return{mount:function mount(){b=a.Transition,u([pa,Ca,Ea,wa],reposition)},destroy:function destroy(){removeAttribute(y,"style")},move:function move(u,c,h,f){if(!isBusy()){const{set:p}=o.state,m=getPosition();u!==c&&(b.cancel(),translate(shift(m,u>c),!0)),p(4),l(ga,c,h,u),b.start(c,(()=>{p(3),l(va,c,h,u),"move"===s.trimSpace&&u!==h&&m===getPosition()?a.Controller.go(u>h?">":"<",!1,f):f&&f()}))}},jump:jump,translate:translate,shift:shift,cancel:function cancel(){translate(getPosition()),b.cancel()},toIndex:function toIndex(o){const s=a.Slides.get();let u=0,l=1/0;for(let a=0;a<s.length;a++){const c=s[a].index,h=ha(toPosition(c,!0)-o);if(!(h<=l))break;l=h,u=c}return u},toPosition:toPosition,getPosition:getPosition,getLimit:getLimit,isBusy:isBusy,exceededLimit:exceededLimit}},Controller:function Controller(o,a,s){const{on:u}=EventInterface(o),{Move:l}=a,{getPosition:c,getLimit:h}=l,{isEnough:f,getLength:p}=a.Slides,m=o.is(ss),g=o.is(as);let v,y,_,b=s.start||0,T=b;function init(){v=p(!0),y=s.perMove,_=s.perPage,b=splide_esm_clamp(b,0,v-1)}function scroll(o,s,u,c,h){const f=s?o:toDest(o);a.Scroll.scroll(s||u?l.toPosition(f,!0):o,c,(()=>{setIndex(l.toIndex(l.getPosition())),h&&h()}))}function getNext(o){return getAdjacent(!1,o)}function getPrev(o){return getAdjacent(!0,o)}function getAdjacent(o,a){const s=y||(hasFocus()?1:_),u=computeDestIndex(b+s*(o?-1:1),b);return-1===u&&g&&!function approximatelyEqual(o,a,s){return ha(o-a)<s}(c(),h(!o),1)?o?0:getEnd():a?u:loop(u)}function computeDestIndex(o,a,u){if(f()){const l=getEnd();o<0||o>l?o=between(0,o,a,!0)||between(l,a,o,!0)?toIndex(toPage(o)):m?y||hasFocus()?o:o<0?-(v%_||_):v:s.rewind?o<0?l:0:-1:u||o===a||(o=y?o:toIndex(toPage(a)+(o<a?-1:1)))}else o=-1;return o}function getEnd(){let o=v-_;return(hasFocus()||m&&y)&&(o=v-1),la(o,0)}function loop(o){return m?f()?o%v+(o<0?v:0):-1:o}function toIndex(o){return splide_esm_clamp(hasFocus()?o:_*o,0,getEnd())}function toPage(o){return hasFocus()||(o=between(o,v-_,v-1)?v-1:o,o=ca(o/_)),o}function toDest(o){const a=l.toIndex(o);return g?splide_esm_clamp(a,0,getEnd()):a}function setIndex(o){o!==b&&(T=b,b=o)}function hasFocus(){return!isUndefined(s.focus)||s.isNavigation}return{mount:function mount(){init(),u([Ea,wa],init,9)},go:function go(o,a,u){const c=function parse(o){let a=b;if(splide_esm_isString(o)){const[,s,u]=o.match(/([+\-<>])(\d+)?/)||[];"+"===s||"-"===s?a=computeDestIndex(b+ +`${s}${+u||1}`,b,!0):">"===s?a=u?toIndex(+u):getNext(!0):"<"===s&&(a=getPrev(!0))}else a=m?o:splide_esm_clamp(o,0,getEnd());return a}(o);if(s.useScroll)scroll(c,!0,!0,s.speed,u);else{const o=loop(c);o>-1&&!l.isBusy()&&(a||o!==b)&&(setIndex(o),l.move(c,o,T,u))}},scroll:scroll,getNext:getNext,getPrev:getPrev,getAdjacent:getAdjacent,getEnd:getEnd,setIndex:setIndex,getIndex:function getIndex(o){return o?T:b},toIndex:toIndex,toPage:toPage,toDest:toDest,hasFocus:hasFocus}},Arrows:function Arrows(o,a,s){const{on:u,bind:l,emit:c}=EventInterface(o),{classes:h,i18n:f}=s,{Elements:p,Controller:m}=a;let g,v=p.arrows,y=p.prev,_=p.next;const b={};function init(){if(s.arrows&&(y&&_||function createArrows(){v=create("div",h.arrows),y=createArrow(!0),_=createArrow(!1),g=!0,append(v,[y,_]),before(v,splide_esm_child("slider"===s.arrows&&p.slider||o.root))}()),y&&_)if(b.prev)display(v,!1===s.arrows?"none":"");else{const{id:o}=p.track;setAttribute(y,Qa,o),setAttribute(_,Qa,o),b.prev=y,b.next=_,function listen(){const{go:o}=m;u([pa,va,Ea,wa,Aa],update),l(_,"click",(()=>{o(">",!0)})),l(y,"click",(()=>{o("<",!0)}))}(),c("arrows:mounted",y,_)}}function createArrow(o){return parseHtml(`<button class="${h.arrow} ${o?h.prev:h.next}" type="button"><svg xmlns="${ls}" viewBox="0 0 40 40" width="40" height="40"><path d="${s.arrowPath||cs}" />`)}function update(){const a=o.index,s=m.getPrev(),u=m.getNext(),l=s>-1&&a<s?f.last:f.prev,h=u>-1&&a>u?f.first:f.next;y.disabled=s<0,_.disabled=u<0,setAttribute(y,Za,l),setAttribute(_,Za,h),c("arrows:updated",y,_,s,u)}return{arrows:b,mount:function mount(){init(),u(Ea,init)},destroy:function destroy(){g?remove(v):(removeAttribute(y,os),removeAttribute(_,os))}}},Autoplay:function Autoplay(o,a,s){const{on:u,bind:l,emit:c}=EventInterface(o),h=RequestInterval(s.interval,o.go.bind(o,">"),(function update(o){const{bar:a}=p;a&&splide_esm_style(a,"width",100*o+"%"),c("autoplay:playing",o)})),{isPaused:f}=h,{Elements:p}=a;let m,g,v;function initButton(o){const a=o?"pause":"play",u=p[a];u&&(setAttribute(u,Qa,p.track.id),setAttribute(u,Za,s.i18n[a]),l(u,"click",o?pause:play))}function play(){f()&&a.Slides.isEnough()&&(h.start(!s.resetProgress),g=m=v=!1,c("autoplay:play"))}function pause(o=!0){f()||(h.pause(),c("autoplay:pause")),v=o}function autoToggle(){v||(m||g?pause(!1):play())}function updateInterval(){const u=a.Slides.getAt(o.index);h.set(u&&+getAttribute(u.slide,"data-splide-interval")||s.interval)}return{mount:function mount(){const{autoplay:o}=s;o&&(initButton(!0),initButton(!1),function listen(){const{root:o}=p;s.pauseOnHover&&l(o,"mouseenter mouseleave",(o=>{m="mouseenter"===o.type,autoToggle()}));s.pauseOnFocus&&l(o,"focusin focusout",(o=>{g="focusin"===o.type,autoToggle()}));u([ga,Pa,wa],h.rewind),u(ga,updateInterval)}(),"pause"!==o&&play())},destroy:h.cancel,play:play,pause:pause,isPaused:f}},Cover:function Cover(o,a,s){const{on:u}=EventInterface(o);function apply(o){a.Slides.forEach((a=>{const s=splide_esm_child(a.container||a.slide,"img");s&&s.src&&toggle(o,s,a)}))}function toggle(o,a,s){s.style("background",o?`center/cover no-repeat url("${a.src}")`:"",!0),display(a,o?"none":"")}return{mount:function mount(){s.cover&&(u(La,((o,a)=>{toggle(!0,o,a)})),u([pa,Ea,wa],apply.bind(null,!0)))},destroy:function destroy(){apply(!1)}}},Scroll:function Scroll(o,a,s){const{on:u,emit:l}=EventInterface(o),{Move:c}=a,{getPosition:h,getLimit:f,exceededLimit:p}=c;let m,g;function scroll(a,u,v,y){const _=h();let b=1;u=u||function computeDuration(o){return la(o/1.5,800)}(ha(a-_)),g=v,clear(),m=RequestInterval(u,onScrolled,(u=>{const l=h(),m=(_+(a-_)*function easing(o){const{easingFunc:a}=s;return a?a(o):1-Math.pow(1-o,4)}(u)-h())*b;c.translate(l+m),o.is(as)&&!y&&p()&&(b*=.6,ha(m)<10&&function bounce(o){scroll(f(!o),600,null,!0)}(p(!1)))}),1),l(Pa),m.start()}function onScrolled(){const a=h(),s=c.toIndex(a);between(s,0,o.length-1)||c.translate(c.shift(a,s>0),!0),g&&g(),l(Aa)}function clear(){m&&m.cancel()}function cancel(){m&&!m.isPaused()&&(clear(),onScrolled())}return{mount:function mount(){u(ga,clear),u([Ea,wa],cancel)},destroy:clear,scroll:scroll,cancel:cancel}},Drag:function Drag(o,a,s){const{on:u,emit:l,bind:c,unbind:h}=EventInterface(o),{Move:f,Scroll:p,Controller:m}=a,{track:g}=a.Elements,{resolve:v,orient:y}=a.Direction,{getPosition:_,exceededLimit:b}=f;let T,S,w,k,x,P,I,O,L,M=!1;function init(){const{drag:o}=s;disable(!o),x="free"===o}function onPointerDown(o){if(!O){const{noDrag:a}=s,u=isTouchEvent(o),l=!a||!matches(o.target,a);I=!1,!l||!u&&o.button||(f.isBusy()?prevent(o,!0):(L=u?g:window,w=null,k=null,c(L,hs,onPointerMove,ds),c(L,fs,onPointerUp,ds),f.cancel(),p.cancel(),save(o)))}}function onPointerMove(a){if(k||l("drag"),k=a,a.cancelable){const u=coordOf(a)-coordOf(S);if(P){f.translate(T+function constrain(a){return a/(M&&o.is(as)?5:1)}(u));const s=timeOf(a)-timeOf(S)>200,c=M!==(M=b());(s||c)&&save(a),l("dragging"),I=!0,prevent(a)}else{let{dragMinThreshold:o}=s;o=isObject(o)?o:{mouse:0,touch:+o||10},P=ha(u)>(isTouchEvent(a)?o.touch:o.mouse),isSliderDirection()&&prevent(a)}}}function onPointerUp(u){h(L,hs,onPointerMove),h(L,fs,onPointerUp);const{index:c}=o;if(k){if(P||u.cancelable&&isSliderDirection()){const l=function computeVelocity(a){if(o.is(ss)||!M){const o=S===k&&w||S,s=coordOf(k)-coordOf(o),u=timeOf(a)-timeOf(o),l=timeOf(a)-timeOf(k)<200;if(u&&l)return s/u}return 0}(u),h=function computeDestination(o){return _()+sign(o)*ua(ha(o)*(s.flickPower||600),x?1/0:a.Layout.listSize()*(s.flickMaxPages||1))}(l);x?m.scroll(h):o.is(us)?m.go(c+y(sign(l))):m.go(m.toDest(h),!0),prevent(u)}l("dragged")}else x||_()===f.toPosition(c)||m.go(c,!0);P=!1}function save(o){w=S,S=o,T=_()}function onClick(o){!O&&I&&prevent(o,!0)}function isSliderDirection(){return ha(coordOf(k)-coordOf(S))>ha(coordOf(k,!0)-coordOf(S,!0))}function coordOf(o,a){return(isTouchEvent(o)?o.touches[0]:o)[`page${v(a?"Y":"X")}`]}function timeOf(o){return o.timeStamp}function isTouchEvent(o){return"undefined"!=typeof TouchEvent&&o instanceof TouchEvent}function disable(o){O=o}return{mount:function mount(){c(g,hs,splide_esm_noop,ds),c(g,fs,splide_esm_noop,ds),c(g,"touchstart mousedown",onPointerDown,ds),c(g,"click",onClick,{capture:!0}),c(g,"dragstart",prevent),u([pa,Ea],init)},disable:disable,isDragging:function isDragging(){return P}}},Keyboard:function Keyboard(o,a,s){const{on:u,bind:l,unbind:c}=EventInterface(o),{root:h}=o,{resolve:f}=a.Direction;let p,m;function init(){const{keyboard:o}=s;o&&("focused"===o?(p=h,setAttribute(h,ns,0)):p=window,l(p,ms,onKeydown))}function destroy(){c(p,ms),isHTMLElement(p)&&removeAttribute(p,ns)}function onMove(){const o=m;m=!0,nextTick((()=>{m=o}))}function onUpdated(){destroy(),init()}function onKeydown(a){if(!m){const{key:s}=a,u=includes(ps,s)?`Arrow${s}`:s;u===f("ArrowLeft")?o.go("<"):u===f("ArrowRight")&&o.go(">")}}return{mount:function mount(){init(),u(Ea,onUpdated),u(ga,onMove)},destroy:destroy,disable:function disable(o){m=o}}},LazyLoad:function LazyLoad(o,a,s){const{on:u,off:l,bind:c,emit:h}=EventInterface(o),f="sequential"===s.lazyLoad;let p=[],m=0;function refresh(){destroy(),init()}function init(){a.Slides.forEach((o=>{queryAll(o.slide,"[data-splide-lazy], [data-splide-lazy-srcset]").forEach((a=>{const u=getAttribute(a,gs),l=getAttribute(a,vs);if(u!==a.src||l!==a.srcset){const c=s.classes.spinner,h=a.parentElement,f=splide_esm_child(h,`.${c}`)||create("span",c,h);setAttribute(f,Ka,"presentation"),p.push({_img:a,_Slide:o,src:u,srcset:l,_spinner:f}),!a.src&&display(a,"none")}}))})),f&&loadNext()}function destroy(){m=0,p=[]}function observe(){p=p.filter((a=>{const u=s.perPage*((s.preloadPages||1)+1)-1;return!a._Slide.isWithin(o.index,u)||load(a)})),p.length||l(va)}function load(o){const{_img:a}=o;addClass(o._Slide.slide,Xa),c(a,"load error",(a=>{!function onLoad(o,a){const{_Slide:s}=o;removeClass(s.slide,Xa),a||(remove(o._spinner),display(o._img,""),h(La,o._img,s),h(ka));f&&loadNext()}(o,"error"===a.type)})),["src","srcset"].forEach((s=>{o[s]&&(setAttribute(a,s,o[s]),removeAttribute(a,"src"===s?gs:vs))}))}function loadNext(){m<p.length&&load(p[m++])}return{mount:function mount(){s.lazyLoad&&(init(),u(wa,refresh),f||u([pa,wa,va,Aa],observe))},destroy:destroy}},Pagination:function Pagination(o,a,s){const{on:u,emit:l,bind:c,unbind:h}=EventInterface(o),{Slides:f,Elements:p,Controller:m}=a,{hasFocus:g,getIndex:v}=m,y=[];let _;function init(){destroy(),s.pagination&&f.isEnough()&&(!function createPagination(){const{length:a}=o,{classes:u,i18n:l,perPage:h}=s,m="slider"===s.pagination&&p.slider||p.root,v=g()?a:da(a/h);_=create("ul",u.pagination,m);for(let o=0;o<v;o++){const a=create("li",null,_),s=create("button",{class:u.page,type:"button"},a),p=f.getIn(o).map((o=>o.slide.id)),m=!g()&&h>1?l.pageX:l.slideX;c(s,"click",onClick.bind(null,o)),setAttribute(s,Qa,p.join(" ")),setAttribute(s,Za,format(m,o+1)),y.push({li:a,button:s,page:o})}}(),l("pagination:mounted",{list:_,items:y},getAt(o.index)),update())}function destroy(){_&&(remove(_),y.forEach((o=>{h(o.button,"click")})),empty(y),_=null)}function onClick(o){m.go(`>${o}`,!0,(()=>{const a=f.getAt(m.toIndex(o));a&&function splide_esm_focus(o){o.setActive&&o.setActive()||o.focus({preventScroll:!0})}(a.slide)}))}function getAt(o){return y[m.toPage(o)]}function update(){const o=getAt(v(!0)),a=getAt(v());o&&(removeClass(o.button,Va),removeAttribute(o.button,Ja)),a&&(addClass(a.button,Va),setAttribute(a.button,Ja,!0)),l("pagination:updated",{list:_,items:y},o,a)}return{items:y,mount:function mount(){init(),u([Ea,wa],init),u([ga,Aa],update)},destroy:destroy,getAt:getAt,update:update}},Sync:function Sync(o,a,s){const{list:u}=a.Elements,l=[];function mount(){o.splides.forEach((a=>{!a.isParent&&function sync(a){[o,a].forEach((s=>{const u=EventInterface(s),c=s===o?a:o;u.on(ga,((o,a,s)=>{c.go(c.is(ss)?s:o)})),l.push(u)}))}(a.splide)})),s.isNavigation&&function navigate(){const a=EventInterface(o),{on:s}=a;s(_a,onClick),s(Sa,onKeydown),s([pa,Ea],update),setAttribute(u,Ka,"menu"),l.push(a),a.emit(Oa,o.splides)}()}function destroy(){removeAttribute(u,os),l.forEach((o=>{o.destroy()})),empty(l)}function update(){setAttribute(u,rs,s.direction!==Ma?"horizontal":null)}function onClick(a){o.go(a.index)}function onKeydown(o,a){includes(ys,a.key)&&(onClick(o),prevent(a))}return{mount:mount,destroy:destroy,remount:function remount(){destroy(),mount()}}},Wheel:function Wheel(o,a,s){const{bind:u}=EventInterface(o);function onWheel(u){if(u.cancelable){const{deltaY:l}=u;if(l){const c=l<0;o.go(c?"<":">"),function shouldPrevent(u){return!s.releaseWheel||o.state.is(4)||-1!==a.Controller.getAdjacent(u)}(c)&&prevent(u)}}}return{mount:function mount(){s.wheel&&u(a.Elements.track,"wheel",onWheel,ds)}}}});const bs={type:"slide",speed:400,waitForTransition:!0,perPage:1,cloneStatus:!0,arrows:!0,pagination:!0,interval:5e3,pauseOnHover:!0,pauseOnFocus:!0,resetProgress:!0,keyboard:!0,easing:"cubic-bezier(0.25, 1, 0.5, 1)",drag:!0,direction:"ltr",slideFocus:!0,trimSpace:!0,focusableNodes:"a, button, textarea, input, select, iframe",classes:$a,i18n:{prev:"Previous slide",next:"Next slide",first:"Go to first slide",last:"Go to last slide",slideX:"Go to slide %s",pageX:"Go to page %s",play:"Start autoplay",pause:"Pause autoplay"}};function splide_esm_Fade(o,a,s){const{on:u}=EventInterface(o);return{mount:function mount(){u([pa,wa],(()=>{nextTick((()=>{a.Slides.style("transition",`opacity ${s.speed}ms ${s.easing}`)}))}))},start:function start(o,s){const{track:u}=a.Elements;splide_esm_style(u,"height",splide_esm_unit(rect(u).height)),nextTick((()=>{s(),splide_esm_style(u,"height","")}))},cancel:splide_esm_noop}}function Slide(o,a,s){const{bind:u}=EventInterface(o),{Move:l,Controller:c}=a,{list:h}=a.Elements;let f;function cancel(){apply("")}function apply(o){splide_esm_style(h,"transition",o)}return{mount:function mount(){u(h,"transitionend",(o=>{o.target===h&&f&&(cancel(),f())}))},start:function start(a,u){const h=l.toPosition(a,!0),p=l.getPosition(),m=function getSpeed(a){const{rewindSpeed:u}=s;if(o.is(as)&&u){const o=c.getIndex(!0),s=c.getEnd();if(0===o&&a>=s||o>=s&&0===a)return u}return s.speed}(a);ha(h-p)>=1&&m>=1?(apply(`transform ${m}ms ${s.easing}`),l.translate(h,!0),f=u):(l.jump(a),u())},cancel:cancel}}const Ts=class{constructor(o,a){this.event=function EventBus(){let o={};function off(a,s){forEachEvent(a,((a,u)=>{const l=o[a];o[a]=l&&l.filter((o=>o._key?o._key!==s:s||o._namespace!==u))}))}function forEachEvent(o,a){splide_esm_toArray(o).join(" ").split(" ").forEach((o=>{const s=o.split(".");a(s[0],s[1])}))}return{on:function on(a,s,u,l=10){forEachEvent(a,((a,c)=>{o[a]=o[a]||[],splide_esm_push(o[a],{_event:a,_callback:s,_namespace:c,_priority:l,_key:u}).sort(((o,a)=>o._priority-a._priority))}))},off:off,offBy:function offBy(a){forOwn(o,((o,s)=>{off(s,a)}))},emit:function emit(a){(o[a]||[]).forEach((o=>{o._callback.apply(o,slice(arguments,1))}))},destroy:function destroy(){o={}}}}(),this.Components={},this.state=function State(o){let a=o;return{set:function set(o){a=o},is:function is(o){return includes(splide_esm_toArray(o),a)}}}(1),this.splides=[],this._options={},this._Extensions={};const s=splide_esm_isString(o)?query(document,o):o;assert(s,`${s} is invalid.`),this.root=s,merge(bs,Ts.defaults),merge(merge(this._options,bs),a||{})}mount(o,a){const{state:s,Components:u}=this;assert(s.is([1,5]),"Already mounted!"),s.set(1),this._Components=u,this._Transition=a||this._Transition||(this.is(us)?splide_esm_Fade:Slide),this._Extensions=o||this._Extensions;return forOwn(splide_esm_assign({},_s,this._Extensions,{Transition:this._Transition}),((o,a)=>{const s=o(this,u,this._options);u[a]=s,s.setup&&s.setup()})),forOwn(u,(o=>{o.mount&&o.mount()})),this.emit(pa),addClass(this.root,"is-initialized"),s.set(3),this.emit(ma),this}sync(o){return this.splides.push({splide:o}),o.splides.push({splide:this,isParent:!0}),this.state.is(3)&&(this._Components.Sync.remount(),o.Components.Sync.remount()),this}go(o){return this._Components.Controller.go(o),this}on(o,a){return this.event.on(o,a,null,20),this}off(o){return this.event.off(o),this}emit(o){return this.event.emit(o,...slice(arguments,1)),this}add(o,a){return this._Components.Slides.add(o,a),this}remove(o){return this._Components.Slides.remove(o),this}is(o){return this._options.type===o}refresh(){return this.emit(wa),this}destroy(o=!0){const{event:a,state:s}=this;return s.is(1)?a.on(ma,this.destroy.bind(this,o),this):(forOwn(this._Components,(a=>{a.destroy&&a.destroy(o)}),!0),a.emit(Ia),a.destroy(),o&&empty(this.splides),s.set(5)),this}get options(){return this._options}set options(o){const{_options:a}=this;merge(a,o),this.state.is(1)||this.emit(Ea,a)}get length(){return this._Components.Slides.getLength(!0)}get index(){return this._Components.Controller.getIndex()}};let Ss=Ts;Ss.defaults={},Ss.STATES=aa;function ownKeys(o,a){var s=Object.keys(o);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(o);a&&(u=u.filter((function(a){return Object.getOwnPropertyDescriptor(o,a).enumerable}))),s.push.apply(s,u)}return s}function _objectSpread(o){for(var a=1;a<arguments.length;a++){var s=null!=arguments[a]?arguments[a]:{};a%2?ownKeys(Object(s),!0).forEach((function(a){_defineProperty(o,a,s[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(s)):ownKeys(Object(s)).forEach((function(a){Object.defineProperty(o,a,Object.getOwnPropertyDescriptor(s,a))}))}return o}function _defineProperty(o,a,s){return a in o?Object.defineProperty(o,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[a]=s,o}var ws,Es,ks,Cs,xs,Ps,As,Is,Os=function switchMainNav(o){var a=document.querySelector("#nav"),s=document.querySelector(".burger");a&&s&&o?(Ds(!0,s),Ls(s),Rs()):a&&s&&(Ds(!1,s),Ms(s))},Ls=function collapseBurgerArrows(o){var a=document.querySelectorAll(".burger-box-arrow");Yt.to(a,{left:"50%",marginLeft:-1,duration:.3,onComplete:function onComplete(){Yt.to(a[0],{transform:"rotate(45deg)",duration:.2}),Yt.set(a[1],{opacity:0}),Yt.to(a[2],{transform:"rotate(-45deg)",duration:.2}),setTimeout((function(){o.classList.add("is-active")}),500)}})},Ms=function unCollapseBurgerArrows(o){var a=document.querySelectorAll(".burger-box-arrow");Yt.to(a,{transform:"none",duration:.3,onComplete:function onComplete(){Yt.to(a[0],{left:0,marginLeft:0,duration:.2}),Yt.set(a[1],{opacity:1}),Yt.to(a[2],{left:"calc(100% - 2px)",marginLeft:0}),setTimeout((function(){o.classList.remove("is-active")}),500)}})},Ds=function toggleNav(o,a){var s=document.querySelector(".header-nav"),u=document.querySelector(".nav"),l=document.querySelector(".nav-column-thumb");document.querySelectorAll(".nav-link-row");a.style.pointerEvents="none",o?Yt.set(s,{display:"block",onComplete:function onComplete(){Yt.to(u,{opacity:1,duration:.2,onComplete:function onComplete(){Yt.to(u.querySelectorAll(".nav-column-bg"),{height:"100%",duration:zo.move.duration,ease:zo.move.ease,onComplete:function onComplete(){u.classList.add("is-visible"),a.style.pointerEvents="auto"}}),setTimeout((function(){Yt.to(l,{opacity:1,duration:zo.move.duration,ease:zo.move.ease})}),200)}})}}):(u.classList.remove("is-visible"),setTimeout((function(){Yt.to(l,{opacity:0,duration:zo.move.duration,ease:zo.move.ease,onComplete:function onComplete(){Yt.to(u.querySelectorAll(".nav-column-bg"),{height:0,duration:zo.move.duration,ease:zo.move.ease,onComplete:function onComplete(){Yt.set(u,{opacity:0,onComplete:function onComplete(){Yt.set(s,{display:"none"}),Ns(),a.style.pointerEvents="auto"}})}})}})}),200))},Rs=function initNavLinkMoving(){var o=document.querySelectorAll(".nav-link.splide"),a={type:"loop",perPage:1,rewind:!0,arrows:!1,pagination:!1,speed:15e3,easing:"linear",autoWidth:!0,autoplay:!0,interval:0,pauseOnHover:!1,pauseOnFocus:!1};o[0].classList.contains("is-active")?(ws.Components.Autoplay.play(),Es.Components.Autoplay.play(),ks.Components.Autoplay.play(),Cs.Components.Autoplay.play(),xs.Components.Autoplay.play(),Ps.Components.Autoplay.play(),As.Components.Autoplay.play(),Is.Components.Autoplay.play()):(ws=new Ss(o[0],_objectSpread({},a)).mount(),Es=new Ss(o[1],_objectSpread(_objectSpread({},a),{},{direction:"rtl",speed:13e3})).mount(),ks=new Ss(o[2],_objectSpread({},a)).mount(),Cs=new Ss(o[3],_objectSpread(_objectSpread({},a),{},{direction:"rtl",speed:1e4})).mount(),xs=new Ss(o[4],_objectSpread(_objectSpread({},a),{},{speed:24e3})).mount(),Ps=new Ss(o[5],_objectSpread(_objectSpread({},a),{},{direction:"rtl",speed:12e3})).mount(),As=new Ss(o[6],_objectSpread(_objectSpread({},a),{},{speed:13e3})).mount(),Is=new Ss(o[7],_objectSpread(_objectSpread({},a),{},{direction:"rtl",speed:11500})).mount())},Ns=function stopNavLinkMoving(){ws.destroy(),Es.destroy(),ks.destroy(),Cs.destroy(),xs.destroy(),Ps.destroy(),As.destroy(),Is.destroy()},Bs=document.documentElement,Fs=document.body,js={target:document.querySelector("#vertical-scroll-container"),ease:.05,endY:0,y:0,resizeRequest:1,scrollRequest:0},Us=null;function initVerticalScroll(){window.innerWidth>=qo.minDesktop&&(js.ease=0,window.scrollTo(0,0),Yt.set(document.querySelector("#vertical-scroll-container"),{y:0,onComplete:function onComplete(){Fs.style.height=document.querySelector("#vertical-scroll-container").clientHeight+"px",updateScroller()}}),window.focus(),window.addEventListener("resize",onResize),document.addEventListener("scroll",onScroll))}function updateScroller(){js.ease=.05;var o=js.resizeRequest>0;if(js.target=document.querySelector("#vertical-scroll-container"),o&&js.target){var a=js.target.clientHeight;Fs.style.height=a+"px",js.resizeRequest=0}var s=window.pageYOffset||Bs.scrollTop||Fs.scrollTop||0;js.endY=s,js.y+=(s-js.y)*js.ease,(Math.abs(s-js.y)<.05||o)&&(js.y=s,js.scrollRequest=0),Yt.set(js.target,{y:-js.y}),Us=js.scrollRequest>0?requestAnimationFrame(updateScroller):null}function onScroll(){js.scrollRequest++,Us||(Us=requestAnimationFrame(updateScroller))}function onResize(){js.resizeRequest++,Us||(Us=requestAnimationFrame(updateScroller))}function next_motorcycle_typeof(o){return(next_motorcycle_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(o){return typeof o}:function _typeof(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(o)}function next_motorcycle_classCallCheck(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")}function next_motorcycle_defineProperties(o,a){for(var s=0;s<a.length;s++){var u=a[s];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(o,u.key,u)}}function next_motorcycle_setPrototypeOf(o,a){return(next_motorcycle_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,a){return o.__proto__=a,o})(o,a)}function next_motorcycle_createSuper(o){var a=function next_motorcycle_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(o){return!1}}();return function _createSuperInternal(){var s,u=next_motorcycle_getPrototypeOf(o);if(a){var l=next_motorcycle_getPrototypeOf(this).constructor;s=Reflect.construct(u,arguments,l)}else s=u.apply(this,arguments);return next_motorcycle_possibleConstructorReturn(this,s)}}function next_motorcycle_possibleConstructorReturn(o,a){return!a||"object"!==next_motorcycle_typeof(a)&&"function"!=typeof a?function next_motorcycle_assertThisInitialized(o){if(void 0===o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(o):a}function next_motorcycle_getPrototypeOf(o){return(next_motorcycle_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}Yt.set(js.target,{rotation:.01,force3D:!0});var Hs=function(o){!function next_motorcycle_inherits(o,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&next_motorcycle_setPrototypeOf(o,a)}(NextMotorcycle,o);var a=next_motorcycle_createSuper(NextMotorcycle);function NextMotorcycle(){return next_motorcycle_classCallCheck(this,NextMotorcycle),a.apply(this,arguments)}return function next_motorcycle_createClass(o,a,s){return a&&next_motorcycle_defineProperties(o.prototype,a),s&&next_motorcycle_defineProperties(o,s),o}(NextMotorcycle,[{key:"out",value:function out(o){o.from;(0,o.done)()}},{key:"in",value:function _in(o){var a=o.from,s=o.to,u=o.done;window.innerWidth<qo.minDesktop&&window.scrollTo(0,0),document.querySelector(".nav-list").classList.add("is-disabled"),a.remove(),ii.fromTo(s,{opacity:0},{opacity:1,duration:zo.opacity.duration,ease:zo.opacity.ease,onComplete:function onComplete(){initVerticalScroll(),u(),setTimeout((function(){document.querySelector(".burger").classList.contains("is-active")&&Os(!1)}),1e3),setTimeout((function(){return document.querySelector(".nav-list").classList.remove("is-disabled")}),2e3)}})}}]),NextMotorcycle}(h.Transition);function menu_typeof(o){return(menu_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(o){return typeof o}:function _typeof(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(o)}function menu_classCallCheck(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")}function menu_defineProperties(o,a){for(var s=0;s<a.length;s++){var u=a[s];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(o,u.key,u)}}function menu_setPrototypeOf(o,a){return(menu_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,a){return o.__proto__=a,o})(o,a)}function menu_createSuper(o){var a=function menu_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(o){return!1}}();return function _createSuperInternal(){var s,u=menu_getPrototypeOf(o);if(a){var l=menu_getPrototypeOf(this).constructor;s=Reflect.construct(u,arguments,l)}else s=u.apply(this,arguments);return menu_possibleConstructorReturn(this,s)}}function menu_possibleConstructorReturn(o,a){return!a||"object"!==menu_typeof(a)&&"function"!=typeof a?function menu_assertThisInitialized(o){if(void 0===o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(o):a}function menu_getPrototypeOf(o){return(menu_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var qs=function(o){!function menu_inherits(o,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&menu_setPrototypeOf(o,a)}(MenuTransition,o);var a=menu_createSuper(MenuTransition);function MenuTransition(){return menu_classCallCheck(this,MenuTransition),a.apply(this,arguments)}return function menu_createClass(o,a,s){return a&&menu_defineProperties(o.prototype,a),s&&menu_defineProperties(o,s),o}(MenuTransition,[{key:"out",value:function out(o){var a=o.from,s=o.done;ii.fromTo(a,{opacity:1},{duration:.5,opacity:0,ease:En.easeOut,onComplete:function onComplete(){document.querySelector(".burger").classList.contains("is-active")&&Os(!1),s()}})}},{key:"in",value:function _in(o){var a=o.from,s=o.to,u=o.done;a.remove(),ii.fromTo(s,{opacity:0,onComplete:function onComplete(){Wo.update(),Wo.scrollTo(0,{duration:0,disableLerp:!0,callback:function callback(){Wo.update()}})}},{duration:.5,opacity:1,ease:En.easeOut,onComplete:function onComplete(){setTimeout((function(){return u()}),1e3)}})}}]),MenuTransition}(h.Transition),Vs=function switchGrid(o){for(var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=document.querySelectorAll(".grid-line-vertical"),u=document.querySelector(".grid-line-horizontal"),l=0;l<s.length;l++)Yt.to(s[l],{height:o?"100%":0,duration:zo.grid.duration,ease:zo.grid.ease});Yt.to(u,{width:o&&a?"100%":0,duration:zo.grid.duration,ease:zo.grid.ease})},Ws=function switchHeaderFooterLogo(o){var a=document.querySelector(".header"),s=document.querySelector(".hero-footer");a&&Yt.to(a,{opacity:o?1:0,duration:zo.opacity.duration,ease:zo.opacity.ease}),s&&Yt.to(s,{opacity:o?1:0,duration:zo.opacity.duration,ease:zo.opacity.ease})},zs=function setWhiteColorTheme(){var o=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Yt.to(document.body,{color:o?"#111111":"#FFFFFF",backgroundColor:o?"#FFFFFF":"#111111",duration:zo.color.duration,ease:zo.color.ease}),document.body.setAttribute("data-theme",o?"white":"dark"),Gs(o)},Gs=function switchThemeElements(o){for(var a=document.querySelectorAll(".theme-dark"),s=document.querySelectorAll(".theme-white"),u=0;u<a.length;u++)Yt.to(a[u],{opacity:o?0:1,pointerEvents:o?"none":"auto",duration:zo.color.duration,ease:zo.color.ease});for(var l=0;l<s.length;l++)Yt.to(s[l],{opacity:o?1:0,pointerEvents:o?"auto":"none",duration:zo.color.duration,ease:zo.color.ease})},Xs=function changeZIndex(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=document.querySelector("#horizontal-scroll-container");Yt.set(a,{zIndex:o})},Ys=function switchTopShadow(o){var a=document.querySelector(".page-shadow");Yt.to(a,{opacity:o?1:0,duration:zo.opacity.duration,ease:zo.opacity.ease})},$s=function scrollListener(){Wo.on("call",(function(o,a,s){"homeHero"===o&&"enter"===a&&(Vs(!0),Xs(0),Go(),Zo("arch")),"homeHero"===o&&"exit"===a&&(Xs(2),Xo(),Vs(!1)),"switchToWhiteColorTheme"===o&&"enter"===a&&(zs(!0,"listener"),Ys(!1)),"switchToWhiteColorTheme"===o&&"exit"===a&&(zs(!1,"listener"),Ys(!0)),"homeAboutBanner"===o&&"enter"===a&&(Vs(!1),window.innerWidth>=qo.minDesktop&&$o(document.querySelector(".section-motorcycle.is-inview").querySelector(".motorcycle-description"),!1)),"homeAbout"===o&&"enter"===a&&Vs(!0),"homeVideos"===o&&"enter"===a&&Vs(!1),"homeVideos"===o&&"exit"===a&&Vs(!0),"showContentOnHorizontalScroll"===o&&"enter"===a&&function showContentOnScroll(o,a){var s=o.querySelectorAll("p");s.length?Yt.fromTo(s,{opacity:0,y:10},{delay:.5,opacity:1,y:0,duration:zo.move.duration,ease:zo.move.ease,stagger:.2}):Yt.fromTo(o,{opacity:0,y:10},{delay:.5,opacity:1,y:0,duration:zo.move.duration,ease:zo.move.ease})}(s.el),"parallaxImagesOnHorizontalScroll"===o&&"enter"===a&&s.el}))},Ks=function loadHomeHeroContent(){var o=document.querySelector("#preloader"),a=document.querySelector(".hero-content.box-split");o&&o.remove(),Vs(!0),setTimeout((function(){Ws(!0),Go()}),500),setTimeout((function(){$o(a,!0),Jo(!0),$s(),ea()}),1e3)},Qs=function enableHorizontalScroll(){document.documentElement.classList.remove("__reset-loco"),document.querySelector("#horizontal-scroll-container").classList.remove("__reset-loco"),window.innerWidth>=qo.minDesktop&&(document.body.style.height=document.querySelector("#horizontal-scroll-container").clientHeight+"px")},Js=function explosionPart(o){return Yt.to(o,{opacity:0,duration:.5,ease:zo.opacity.ease})},Zs=function connectTitle(o,a){Yt.to(o,{yPercent:a,duration:1.6,ease:zo.move.ease})},eu=function switchBackground(o){var a=document.querySelector("#preloader-bg");Yt.to(a,{opacity:o,duration:3,ease:zo.opacity.ease,onComplete:0!==o?tu:Ks})},tu=function hideTitle(){for(var o=document.querySelectorAll(".preloader-box-item svg"),a=0;a<o.length;a++)Yt.to(o[a],{strokeDashoffset:330,duration:2});setTimeout((function(){return eu(0)}),1e3)},nu=function createTimeline(o){return ii.timeline({scrollTrigger:{trigger:o,scroller:"#horizontal-scroll-container",horizontal:!0,scrub:!0,start:"center 350px",end:"center 0"}})},ru=function setTitleStyles(){var o=document.querySelector(".home-about-label"),a=document.querySelector(".home-about-title"),s=document.querySelector('.home-about-label-item[data-id="home-about-title-1"]').clientWidth,u=document.querySelector('.home-about-label-item[data-id="home-about-title-2"]').clientWidth,l=document.querySelector("#home-about-title-1 .home-about-title-item"),c=document.querySelector("#home-about-title-2 .home-about-title-item");l.style.paddingLeft=s-20+"px",c.style.paddingLeft=s+u-20+"px",a.style.paddingRight=o.clientWidth-parseInt(getComputedStyle(o).paddingLeft)+"px",a.style.marginRight="-"+(o.clientWidth-parseInt(getComputedStyle(o).paddingLeft))+"px"},iu=s(76),ou=function enterPlayer(o,a,s){setTimeout((function(){su(0);var u={width:window.innerWidth,height:window.innerHeight},l=o.getBoundingClientRect().left,c=o.getBoundingClientRect().top;Yt.to(o,{y:0-c,x:0-l,width:u.width,height:u.height,onComplete:function onComplete(){a.classList.add("is-hidden-poster"),a.classList.add("is-playing"),s.play(),Yt.to(a.querySelector(".video-btn"),{opacity:0,duration:zo.opacity.duration,ease:zo.opacity.ease})}}),Wo.stop()}),700)},au=function exitPlayer(o,a,s){s.pause(),a.classList.remove("is-playing"),a.classList.remove("is-hidden-poster"),setTimeout((function(){su(1),Yt.to(o,{y:0,x:0,width:"100%",height:window.innerWidth>=qo.minDesktop?"250%":"100%",onComplete:function onComplete(){a.classList.remove("is-starting")}})}),700),Wo.start()},su=function switchHeader(o){var a=document.querySelector(".header");Yt.to(a,{opacity:o,duration:zo.opacity.duration,ease:zo.opacity.ease,pointerEvents:o?"auto":"none"})},uu=function setVideosStyles(){var o=document.querySelector(".home-videos-title"),a=document.querySelector(".home-videos");if(o&&a){var s=a.getBoundingClientRect().height,u=o.getBoundingClientRect().height;document.querySelector(".home-videos-list").style.height="calc(".concat(s-u,"px - 11vmin)")}},lu=function showPlayPauseButtonOnMove(o){o.addEventListener("mousemove",(function(){Yt.set(o.querySelector(".video-btn"),{opacity:1,duration:zo.opacity.duration,ease:zo.opacity.ease,onComplete:function onComplete(){o.classList.contains("is-playing")&&setTimeout((function(){Yt.to(o.querySelector(".video-btn"),{opacity:0,duration:zo.opacity.duration,ease:zo.opacity.ease})}),1e3)}})}))},cu=function hidePlayPauseButtonOnMove(o){o.addEventListener("mouseleave",(function(){Yt.set(o.querySelector(".video-btn"),{opacity:0,duration:zo.opacity.duration,ease:zo.opacity.ease})}))},du=function switchHeaderNav(o){var a=document.querySelector(".header-panel-social");Yt.to(a,{opacity:o,duration:zo.opacity.duration,ease:zo.opacity.ease,pointerEvents:o?"auto":"none"})},hu=function horizontalScene(){for(var o=new ai.Controller({vertical:window.innerWidth<qo.minDesktop}),a=document.querySelectorAll(".section.__motorcycle"),s=0;s<a.length;s++)new ai.Scene({triggerElement:a[s],triggerHook:.5,duration:window.innerWidth>=qo.minDesktop?a[s].clientWidth:1.5*window.innerHeight}).addTo(o).on("enter",(function(o){ta(o.target.triggerElement(),!0),Xs(2),Xo()})).on("leave",(function(o){ta(o.target.triggerElement(),!1),Xs(0)}));var u=document.querySelector(".scale-on-scroll");if(u){var l=u.querySelector(".video-thumbnail");new ai.Scene({triggerElement:u,duration:l.getBoundingClientRect().width,triggerHook:0}).setTween(ii.to(l,{width:window.innerWidth,height:window.innerHeight})).addTo(o)}var c=document.querySelector(".footer");c&&new ai.Scene({triggerElement:c,triggerHook:.5}).on("enter",(function(){du(0)})).on("leave",(function(){du(1)})).addTo(o);var h=document.querySelector(".parts"),f=document.querySelectorAll(".parts-item");if(h&&f.length)for(var p=0;p<f.length;p++){var m={};f[p].dataset.top&&(m.top=f[p].dataset.top+"%"),f[p].dataset.left&&(m.left=f[p].dataset.left+"%"),f[p].dataset.rotate&&(m.rotate=f[p].dataset.rotate+"deg"),new ai.Scene({triggerElement:document.querySelector(".about-parts-section"),triggerHook:0,duration:window.innerWidth}).setTween(ii.to(f[p],m)).addTo(o)}var g=document.querySelector("#home-videos");g&&new ai.Scene({triggerElement:g,triggerHook:.5}).on("enter",(function(){Vs(!1)})).addTo(o);var v=document.querySelector(".inspiration-banner");v&&new ai.Scene({triggerElement:document.querySelector("#page"),duration:window.innerWidth>qo.minDesktop?2*window.innerWidth:2*window.innerHeight,triggerHook:0}).setTween(ii.to(v.querySelector(".section-content-image"),{height:"100vh"})).addTo(o)},fu=function resetParallaxMoving(){for(var o=document.querySelectorAll(".parallaxHorizontalScroll"),a=0;a<o.length;a++)o[a].style.transform="none"},pu=function loadVimeoPlayer(){var o=document.querySelectorAll(".vimeo-player");if(o.length)for(var a=0;a<o.length;a++){var s=o[a]?o[a].getAttribute("data-src"):"";if(s&&o[a]){var u=s.split("/"),l=u.length?u[3]:"";l&&(o[a].setAttribute("src","".concat("https://player.vimeo.com/video/").concat(l).concat("?title=0&byline=0&portrait=0&transparent=1&controls=0&loop=1&responsive=1")),o[a].removeAttribute("data-src"))}}};function home_typeof(o){return(home_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(o){return typeof o}:function _typeof(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(o)}function home_classCallCheck(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")}function home_defineProperties(o,a){for(var s=0;s<a.length;s++){var u=a[s];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(o,u.key,u)}}function home_setPrototypeOf(o,a){return(home_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,a){return o.__proto__=a,o})(o,a)}function home_createSuper(o){var a=function home_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(o){return!1}}();return function _createSuperInternal(){var s,u=home_getPrototypeOf(o);if(a){var l=home_getPrototypeOf(this).constructor;s=Reflect.construct(u,arguments,l)}else s=u.apply(this,arguments);return home_possibleConstructorReturn(this,s)}}function home_possibleConstructorReturn(o,a){return!a||"object"!==home_typeof(a)&&"function"!=typeof a?function home_assertThisInitialized(o){if(void 0===o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(o):a}function home_getPrototypeOf(o){return(home_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var mu,gu,vu,yu=function(o){!function home_inherits(o,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&home_setPrototypeOf(o,a)}(HomeRenderer,o);var a=home_createSuper(HomeRenderer);function HomeRenderer(){return home_classCallCheck(this,HomeRenderer),a.apply(this,arguments)}return function home_createClass(o,a,s){return a&&home_defineProperties(o.prototype,a),s&&home_defineProperties(o,s),o}(HomeRenderer,[{key:"onEnter",value:function onEnter(){!function preloader(){if(document.querySelector("#preloader")){var o=["preloader-item-5","preloader-item-6","preloader-item-7","preloader-item-1","preloader-item-2","preloader-item-3"],a=document.querySelector("#preloader-row-0"),s=document.querySelector("#preloader-row-2");setTimeout((function(){for(var u=function _loop(u){var l=document.querySelector("#".concat(o[u]));setTimeout((function(){"preloader-item-3"===Js(l)._targets[0].getAttribute("id")&&(Zs(a,100),Zs(s,-100),eu(.5))}),200*u)},l=0;l<o.length;l++)u(l)}),500)}}(),document.querySelector(".preloader")||Ks(),Qs(),Wo.destroy(),Xs(window.innerWidth<qo.minDesktop?1:0),Ys(window.innerWidth<qo.minDesktop),function toggleAboutTitles(){if(document.querySelector("#home-about")){ru();for(var o=document.querySelectorAll(".home-about-title-item"),a=document.querySelectorAll(".home-about-label-item"),s=getComputedStyle(a[0]).fontSize,u=0;u<o.length;u++){var l=nu(o[u]),c=nu(o[u]);l.to(o[u],{yPercent:-100,fontSize:s}),c.to(a[u],{y:0,delay:.5})}}}(),zs(!1)}},{key:"onEnterCompleted",value:function onEnterCompleted(){Wo.init(),pu(),document.querySelector('[data-scroll-direction="horizontal"]')&&(!function playVideos(){document.querySelector("#home-videos")&&function(){uu();var o=document.querySelector(".home-videos-list"),a=document.querySelectorAll(".home-video"),s=document.querySelectorAll(".vimeo-player");if(s.length)for(var u=function _loop(u){var l=new iu.a(s[u]);a[u].addEventListener("click",(function(){var s=a[u].querySelector(".home-video-item");o.classList.contains("is-fixed")?(a[u].classList.remove("is-starting"),o.classList.remove("is-fixed"),au(s,a[u],l)):(a[u].classList.add("is-starting"),a[u].classList.add("is-disabled"),o.classList.add("is-fixed"),window.innerWidth>=qo.minDesktop?ou(s,a[u],l):(a[u].classList.add("is-hidden-poster"),a[u].classList.add("is-playing"),l.play(),Yt.to(a[u].querySelector(".video-btn"),{opacity:0,duration:zo.opacity.duration,ease:zo.opacity.ease})))})),lu(a[u]),cu(a[u]),l.on("play",(function(){setTimeout((function(){a[u].classList.remove("is-disabled")}),1e3)}))},l=0;l<s.length;l++)u(l)}()}(),hu(),fu(),du(1))}},{key:"onLeave",value:function onLeave(){}}]),HomeRenderer}(h.Renderer),_u=function showContentOnLoad(){for(var o=document.querySelectorAll(".showThumbOnLoad"),a=document.querySelectorAll(".showContentOnLoad"),s=function _loop(a){Yt.set(o[a],{opacity:1,onComplete:function onComplete(){Yt.to(o[a].querySelector("img"),{opacity:1,scale:1,y:0,duration:zo.show.duration,ease:zo.show.ease})}})},u=0;u<o.length;u++)s(u);for(var l=function _loop2(o){Yt.set(a[o],{opacity:1,onComplete:function onComplete(){$o(a[o],!0,0,0)}})},c=0;c<a.length;c++)l(c)},bu=function showHiddenElements(){for(var o=document.querySelectorAll(".hiddenOnLoading"),a=0;a<o.length;a++)o[a].classList.remove("hiddenOnLoading")},Tu=s(0),Su=s.n(Tu),wu=s(2),Eu=s.n(wu),ku=s(24),Cu=s.n(ku),xu=s(4),Pu=s.n(xu),Au=s(3),Iu=s.n(Au),Ou=s(147),Lu=s.n(Ou),Mu=s(5),Du=s.n(Mu),Ru=s(106),Nu=s.n(Ru),Bu=s(107),Fu=s.n(Bu),ju=s(148),Uu=s.n(ju),Hu=s(149),qu=s.n(Hu),Vu=s(108),Wu=s.n(Vu),zu="http://example.com",Gu=function resolveUrl(o,a){if(/^[a-z]+:/i.test(a))return a;/^data:/.test(o)&&(o=Su.a.location&&Su.a.location.href||"");var s="function"==typeof Su.a.URL,u=/^\/\//.test(o),l=!Su.a.location&&!/\/\//i.test(o);if(s?o=new Su.a.URL(o,Su.a.location||zu):/\/\//i.test(o)||(o=Wu.a.buildAbsoluteURL(Su.a.location&&Su.a.location.href||"",o)),s){var c=new URL(a,o);return l?c.href.slice(zu.length):u?c.href.slice(c.protocol.length):c.href}return Wu.a.buildAbsoluteURL(o,a)},Xu=function(){function Stream(){this.listeners={}}var o=Stream.prototype;return o.on=function on(o,a){this.listeners[o]||(this.listeners[o]=[]),this.listeners[o].push(a)},o.off=function off(o,a){if(!this.listeners[o])return!1;var s=this.listeners[o].indexOf(a);return this.listeners[o]=this.listeners[o].slice(0),this.listeners[o].splice(s,1),s>-1},o.trigger=function trigger(o){var a=this.listeners[o];if(a)if(2===arguments.length)for(var s=a.length,u=0;u<s;++u)a[u].call(this,arguments[1]);else for(var l=Array.prototype.slice.call(arguments,1),c=a.length,h=0;h<c;++h)a[h].apply(this,l)},o.dispose=function dispose(){this.listeners={}},o.pipe=function pipe(o){this.on("data",(function(a){o.push(a)}))},Stream}(),Yu=s(77),$u=function(o){function LineStream(){var a;return(a=o.call(this)||this).buffer="",a}return Iu()(LineStream,o),LineStream.prototype.push=function push(o){var a;for(this.buffer+=o,a=this.buffer.indexOf("\n");a>-1;a=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,a)),this.buffer=this.buffer.substring(a+1)},LineStream}(Xu),Ku=String.fromCharCode(9),Qu=function parseByterange(o){var a=/([0-9.]*)?@?([0-9.]*)?/.exec(o||""),s={};return a[1]&&(s.length=parseInt(a[1],10)),a[2]&&(s.offset=parseInt(a[2],10)),s},Ju=function parseAttributes(o){for(var a,s=o.split(function attributeSeparator(){return new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')}()),u={},l=s.length;l--;)""!==s[l]&&((a=/([^=]*)=(.*)/.exec(s[l]).slice(1))[0]=a[0].replace(/^\s+|\s+$/g,""),a[1]=a[1].replace(/^\s+|\s+$/g,""),a[1]=a[1].replace(/^['"](.*)['"]$/g,"$1"),u[a[0]]=a[1]);return u},Zu=function(o){function ParseStream(){var a;return(a=o.call(this)||this).customParsers=[],a.tagMappers=[],a}Iu()(ParseStream,o);var a=ParseStream.prototype;return a.push=function push(o){var a,s,u=this;0!==(o=o.trim()).length&&("#"===o[0]?this.tagMappers.reduce((function(a,s){var u=s(o);return u===o?a:a.concat([u])}),[o]).forEach((function(o){for(var l=0;l<u.customParsers.length;l++)if(u.customParsers[l].call(u,o))return;if(0===o.indexOf("#EXT"))if(o=o.replace("\r",""),a=/^#EXTM3U/.exec(o))u.trigger("data",{type:"tag",tagType:"m3u"});else{if(a=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(o))return s={type:"tag",tagType:"inf"},a[1]&&(s.duration=parseFloat(a[1])),a[2]&&(s.title=a[2]),void u.trigger("data",s);if(a=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(o))return s={type:"tag",tagType:"targetduration"},a[1]&&(s.duration=parseInt(a[1],10)),void u.trigger("data",s);if(a=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(o))return s={type:"tag",tagType:"version"},a[1]&&(s.version=parseInt(a[1],10)),void u.trigger("data",s);if(a=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(o))return s={type:"tag",tagType:"media-sequence"},a[1]&&(s.number=parseInt(a[1],10)),void u.trigger("data",s);if(a=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(o))return s={type:"tag",tagType:"discontinuity-sequence"},a[1]&&(s.number=parseInt(a[1],10)),void u.trigger("data",s);if(a=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(o))return s={type:"tag",tagType:"playlist-type"},a[1]&&(s.playlistType=a[1]),void u.trigger("data",s);if(a=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(o))return s=Cu()(Qu(a[1]),{type:"tag",tagType:"byterange"}),void u.trigger("data",s);if(a=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(o))return s={type:"tag",tagType:"allow-cache"},a[1]&&(s.allowed=!/NO/.test(a[1])),void u.trigger("data",s);if(a=/^#EXT-X-MAP:?(.*)$/.exec(o)){if(s={type:"tag",tagType:"map"},a[1]){var c=Ju(a[1]);c.URI&&(s.uri=c.URI),c.BYTERANGE&&(s.byterange=Qu(c.BYTERANGE))}u.trigger("data",s)}else if(a=/^#EXT-X-STREAM-INF:?(.*)$/.exec(o)){if(s={type:"tag",tagType:"stream-inf"},a[1]){if(s.attributes=Ju(a[1]),s.attributes.RESOLUTION){var h=s.attributes.RESOLUTION.split("x"),f={};h[0]&&(f.width=parseInt(h[0],10)),h[1]&&(f.height=parseInt(h[1],10)),s.attributes.RESOLUTION=f}s.attributes.BANDWIDTH&&(s.attributes.BANDWIDTH=parseInt(s.attributes.BANDWIDTH,10)),s.attributes["PROGRAM-ID"]&&(s.attributes["PROGRAM-ID"]=parseInt(s.attributes["PROGRAM-ID"],10))}u.trigger("data",s)}else{if(a=/^#EXT-X-MEDIA:?(.*)$/.exec(o))return s={type:"tag",tagType:"media"},a[1]&&(s.attributes=Ju(a[1])),void u.trigger("data",s);if(a=/^#EXT-X-ENDLIST/.exec(o))u.trigger("data",{type:"tag",tagType:"endlist"});else if(a=/^#EXT-X-DISCONTINUITY/.exec(o))u.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(a=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(o))return s={type:"tag",tagType:"program-date-time"},a[1]&&(s.dateTimeString=a[1],s.dateTimeObject=new Date(a[1])),void u.trigger("data",s);if(a=/^#EXT-X-KEY:?(.*)$/.exec(o))return s={type:"tag",tagType:"key"},a[1]&&(s.attributes=Ju(a[1]),s.attributes.IV&&("0x"===s.attributes.IV.substring(0,2).toLowerCase()&&(s.attributes.IV=s.attributes.IV.substring(2)),s.attributes.IV=s.attributes.IV.match(/.{8}/g),s.attributes.IV[0]=parseInt(s.attributes.IV[0],16),s.attributes.IV[1]=parseInt(s.attributes.IV[1],16),s.attributes.IV[2]=parseInt(s.attributes.IV[2],16),s.attributes.IV[3]=parseInt(s.attributes.IV[3],16),s.attributes.IV=new Uint32Array(s.attributes.IV))),void u.trigger("data",s);if(a=/^#EXT-X-START:?(.*)$/.exec(o))return s={type:"tag",tagType:"start"},a[1]&&(s.attributes=Ju(a[1]),s.attributes["TIME-OFFSET"]=parseFloat(s.attributes["TIME-OFFSET"]),s.attributes.PRECISE=/YES/.test(s.attributes.PRECISE)),void u.trigger("data",s);if(a=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(o))return s={type:"tag",tagType:"cue-out-cont"},a[1]?s.data=a[1]:s.data="",void u.trigger("data",s);if(a=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(o))return s={type:"tag",tagType:"cue-out"},a[1]?s.data=a[1]:s.data="",void u.trigger("data",s);if(a=/^#EXT-X-CUE-IN:?(.*)?$/.exec(o))return s={type:"tag",tagType:"cue-in"},a[1]?s.data=a[1]:s.data="",void u.trigger("data",s);if((a=/^#EXT-X-SKIP:(.*)$/.exec(o))&&a[1])return(s={type:"tag",tagType:"skip"}).attributes=Ju(a[1]),s.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(s.attributes["SKIPPED-SEGMENTS"]=parseInt(s.attributes["SKIPPED-SEGMENTS"],10)),s.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(s.attributes["RECENTLY-REMOVED-DATERANGES"]=s.attributes["RECENTLY-REMOVED-DATERANGES"].split(Ku)),void u.trigger("data",s);if((a=/^#EXT-X-PART:(.*)$/.exec(o))&&a[1])return(s={type:"tag",tagType:"part"}).attributes=Ju(a[1]),["DURATION"].forEach((function(o){s.attributes.hasOwnProperty(o)&&(s.attributes[o]=parseFloat(s.attributes[o]))})),["INDEPENDENT","GAP"].forEach((function(o){s.attributes.hasOwnProperty(o)&&(s.attributes[o]=/YES/.test(s.attributes[o]))})),s.attributes.hasOwnProperty("BYTERANGE")&&(s.attributes.byterange=Qu(s.attributes.BYTERANGE)),void u.trigger("data",s);if((a=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(o))&&a[1])return(s={type:"tag",tagType:"server-control"}).attributes=Ju(a[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach((function(o){s.attributes.hasOwnProperty(o)&&(s.attributes[o]=parseFloat(s.attributes[o]))})),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach((function(o){s.attributes.hasOwnProperty(o)&&(s.attributes[o]=/YES/.test(s.attributes[o]))})),void u.trigger("data",s);if((a=/^#EXT-X-PART-INF:(.*)$/.exec(o))&&a[1])return(s={type:"tag",tagType:"part-inf"}).attributes=Ju(a[1]),["PART-TARGET"].forEach((function(o){s.attributes.hasOwnProperty(o)&&(s.attributes[o]=parseFloat(s.attributes[o]))})),void u.trigger("data",s);if((a=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(o))&&a[1])return(s={type:"tag",tagType:"preload-hint"}).attributes=Ju(a[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach((function(o){if(s.attributes.hasOwnProperty(o)){s.attributes[o]=parseInt(s.attributes[o],10);var a="BYTERANGE-LENGTH"===o?"length":"offset";s.attributes.byterange=s.attributes.byterange||{},s.attributes.byterange[a]=s.attributes[o],delete s.attributes[o]}})),void u.trigger("data",s);if((a=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(o))&&a[1])return(s={type:"tag",tagType:"rendition-report"}).attributes=Ju(a[1]),["LAST-MSN","LAST-PART"].forEach((function(o){s.attributes.hasOwnProperty(o)&&(s.attributes[o]=parseInt(s.attributes[o],10))})),void u.trigger("data",s);u.trigger("data",{type:"tag",data:o.slice(4)})}}}else u.trigger("data",{type:"comment",text:o.slice(1)})})):this.trigger("data",{type:"uri",uri:o}))},a.addParser=function addParser(o){var a=this,s=o.expression,u=o.customType,l=o.dataParser,c=o.segment;"function"!=typeof l&&(l=function dataParser(o){return o}),this.customParsers.push((function(o){if(s.exec(o))return a.trigger("data",{type:"custom",data:l(o),customType:u,segment:c}),!0}))},a.addTagMapper=function addTagMapper(o){var a=o.expression,s=o.map;this.tagMappers.push((function mapFn(o){return a.test(o)?s(o):o}))},ParseStream}(Xu),tl=function camelCaseKeys(o){var a={};return Object.keys(o).forEach((function(s){a[function camelCase(o){return o.toLowerCase().replace(/-(\w)/g,(function(o){return o[1].toUpperCase()}))}(s)]=o[s]})),a},nl=function setHoldBack(o){var a=o.serverControl,s=o.targetDuration,u=o.partTargetDuration;if(a){var l="#EXT-X-SERVER-CONTROL",c="holdBack",h="partHoldBack",f=s&&3*s,p=u&&2*u;s&&!a.hasOwnProperty(c)&&(a[c]=f,this.trigger("info",{message:l+" defaulting HOLD-BACK to targetDuration * 3 ("+f+")."})),f&&a[c]<f&&(this.trigger("warn",{message:l+" clamping HOLD-BACK ("+a[c]+") to targetDuration * 3 ("+f+")"}),a[c]=f),u&&!a.hasOwnProperty(h)&&(a[h]=3*u,this.trigger("info",{message:l+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+a[h]+")."})),u&&a[h]<p&&(this.trigger("warn",{message:l+" clamping PART-HOLD-BACK ("+a[h]+") to partTargetDuration * 2 ("+p+")."}),a[h]=p)}},rl=function(o){function Parser(){var a;(a=o.call(this)||this).lineStream=new $u,a.parseStream=new Zu,a.lineStream.pipe(a.parseStream);var s,u,l=Pu()(a),c=[],h={},f=!1,p=function noop(){},m={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},g=0;a.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var v=0,y=0;return a.on("end",(function(){h.uri||!h.parts&&!h.preloadHints||(!h.map&&s&&(h.map=s),!h.key&&u&&(h.key=u),h.timeline||"number"!=typeof g||(h.timeline=g),a.manifest.preloadSegment=h)})),a.parseStream.on("data",(function(o){var a,_;({tag:function tag(){({version:function version(){o.version&&(this.manifest.version=o.version)},"allow-cache":function allowCache(){this.manifest.allowCache=o.allowed,"allowed"in o||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function byterange(){var byterange={};"length"in o&&(h.byterange=byterange,byterange.length=o.length,"offset"in o||(o.offset=v)),"offset"in o&&(h.byterange=byterange,byterange.offset=o.offset),v=byterange.offset+byterange.length},endlist:function endlist(){this.manifest.endList=!0},inf:function inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),o.duration>0&&(h.duration=o.duration),0===o.duration&&(h.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=c},key:function key(){if(o.attributes)if("NONE"!==o.attributes.METHOD)if(o.attributes.URI){if("com.apple.streamingkeydelivery"===o.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:o.attributes});if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===o.attributes.KEYFORMAT){return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(o.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===o.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==o.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):o.attributes.KEYID&&"0x"===o.attributes.KEYID.substring(0,2)?(this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:o.attributes.KEYFORMAT,keyId:o.attributes.KEYID.substring(2)},pssh:Object(Yu.a)(o.attributes.URI.split(",")[1])})):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}))}o.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),u={method:o.attributes.METHOD||"AES-128",uri:o.attributes.URI},void 0!==o.attributes.IV&&(u.iv=o.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else u=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function mediaSequence(){isFinite(o.number)?this.manifest.mediaSequence=o.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+o.number})},"discontinuity-sequence":function discontinuitySequence(){isFinite(o.number)?(this.manifest.discontinuitySequence=o.number,g=o.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+o.number})},"playlist-type":function playlistType(){/VOD|EVENT/.test(o.playlistType)?this.manifest.playlistType=o.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+o.playlist})},map:function map(){s={},o.uri&&(s.uri=o.uri),o.byterange&&(s.byterange=o.byterange),u&&(s.key=u)},"stream-inf":function streamInf(){this.manifest.playlists=c,this.manifest.mediaGroups=this.manifest.mediaGroups||m,o.attributes?(h.attributes||(h.attributes={}),Cu()(h.attributes,o.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||m,o.attributes&&o.attributes.TYPE&&o.attributes["GROUP-ID"]&&o.attributes.NAME){var s=this.manifest.mediaGroups[o.attributes.TYPE];s[o.attributes["GROUP-ID"]]=s[o.attributes["GROUP-ID"]]||{},a=s[o.attributes["GROUP-ID"]],(_={default:/yes/i.test(o.attributes.DEFAULT)}).default?_.autoselect=!0:_.autoselect=/yes/i.test(o.attributes.AUTOSELECT),o.attributes.LANGUAGE&&(_.language=o.attributes.LANGUAGE),o.attributes.URI&&(_.uri=o.attributes.URI),o.attributes["INSTREAM-ID"]&&(_.instreamId=o.attributes["INSTREAM-ID"]),o.attributes.CHARACTERISTICS&&(_.characteristics=o.attributes.CHARACTERISTICS),o.attributes.FORCED&&(_.forced=/yes/i.test(o.attributes.FORCED)),a[o.attributes.NAME]=_}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function discontinuity(){g+=1,h.discontinuity=!0,this.manifest.discontinuityStarts.push(c.length)},"program-date-time":function programDateTime(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=o.dateTimeString,this.manifest.dateTimeObject=o.dateTimeObject),h.dateTimeString=o.dateTimeString,h.dateTimeObject=o.dateTimeObject},targetduration:function targetduration(){!isFinite(o.duration)||o.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+o.duration}):(this.manifest.targetDuration=o.duration,nl.call(this,this.manifest))},start:function start(){o.attributes&&!isNaN(o.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:o.attributes["TIME-OFFSET"],precise:o.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function cueOut(){h.cueOut=o.data},"cue-out-cont":function cueOutCont(){h.cueOutCont=o.data},"cue-in":function cueIn(){h.cueIn=o.data},skip:function skip(){this.manifest.skip=tl(o.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",o.attributes,["SKIPPED-SEGMENTS"])},part:function part(){var a=this;f=!0;var s=this.manifest.segments.length,part=tl(o.attributes);h.parts=h.parts||[],h.parts.push(part),part.byterange&&(part.byterange.hasOwnProperty("offset")||(part.byterange.offset=y),y=part.byterange.offset+part.byterange.length);var u=h.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #"+u+" for segment #"+s,o.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((function(o,s){o.hasOwnProperty("lastPart")||a.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+s+" lacks required attribute(s): LAST-PART"})}))},"server-control":function serverControl(){var a=this.manifest.serverControl=tl(o.attributes);a.hasOwnProperty("canBlockReload")||(a.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),nl.call(this,this.manifest),a.canSkipDateranges&&!a.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function preloadHint(){var a=this.manifest.segments.length,s=tl(o.attributes),u=s.type&&"PART"===s.type;h.preloadHints=h.preloadHints||[],h.preloadHints.push(s),s.byterange&&(s.byterange.hasOwnProperty("offset")||(s.byterange.offset=u?y:0,u&&(y=s.byterange.offset+s.byterange.length)));var l=h.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+l+" for segment #"+a,o.attributes,["TYPE","URI"]),s.type)for(var c=0;c<h.preloadHints.length-1;c++){var f=h.preloadHints[c];f.type&&(f.type===s.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+l+" for segment #"+a+" has the same TYPE "+s.type+" as preload hint #"+c}))}},"rendition-report":function renditionReport(){var a=tl(o.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(a);var s=this.manifest.renditionReports.length-1,u=["LAST-MSN","URI"];f&&u.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+s,o.attributes,u)},"part-inf":function partInf(){this.manifest.partInf=tl(o.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",o.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),nl.call(this,this.manifest)}}[o.tagType]||p).call(l)},uri:function uri(){h.uri=o.uri,c.push(h),this.manifest.targetDuration&&!("duration"in h)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),h.duration=this.manifest.targetDuration),u&&(h.key=u),h.timeline=g,s&&(h.map=s),y=0,h={}},comment:function comment(){},custom:function custom(){o.segment?(h.custom=h.custom||{},h.custom[o.customType]=o.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[o.customType]=o.data)}})[o.type].call(l)})),a}Iu()(Parser,o);var a=Parser.prototype;return a.warnOnMissingAttributes_=function warnOnMissingAttributes_(o,a,s){var u=[];s.forEach((function(o){a.hasOwnProperty(o)||u.push(o)})),u.length&&this.trigger("warn",{message:o+" lacks required attribute(s): "+u.join(", ")})},a.push=function push(o){this.lineStream.push(o)},a.end=function end(){this.lineStream.push("\n"),this.trigger("end")},a.addParser=function addParser(o){this.parseStream.addParser(o)},a.addTagMapper=function addTagMapper(o){this.parseStream.addTagMapper(o)},Parser}(Xu),il={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},ol=["video","audio","text"],al=["Video","Audio","Text"],sl=function translateLegacyCodec(o){return o?o.replace(/avc1\.(\d+)\.(\d+)/i,(function(o,a,s){return"avc1."+("00"+Number(a).toString(16)).slice(-2)+"00"+("00"+Number(s).toString(16)).slice(-2)})):o},ul=function parseCodecs(o){void 0===o&&(o="");var a=o.split(","),s=[];return a.forEach((function(o){var a;o=o.trim(),ol.forEach((function(u){var l=il[u].exec(o.toLowerCase());if(l&&!(l.length<=1)){a=u;var c=o.substring(0,l[1].length),h=o.replace(c,"");s.push({type:c,details:h,mediaType:u})}})),a||s.push({type:o,details:"",mediaType:"unknown"})})),s},ll=function isAudioCodec(o){return void 0===o&&(o=""),il.audio.test(o.trim().toLowerCase())},cl=function getMimeForCodec(o){if(o&&"string"==typeof o){var a=o.toLowerCase().split(",").map((function(o){return sl(o.trim())})),s="video";1===a.length&&ll(a[0])?s="audio":1===a.length&&function isTextCodec(o){return void 0===o&&(o=""),il.text.test(o.trim().toLowerCase())}(a[0])&&(s="application");var u="mp4";return a.every((function(o){return il.mp4.test(o)}))?u="mp4":a.every((function(o){return il.webm.test(o)}))?u="webm":a.every((function(o){return il.ogg.test(o)}))&&(u="ogg"),s+"/"+u+';codecs="'+o+'"'}},dl=function browserSupportsCodec(o){return void 0===o&&(o=""),Su.a.MediaSource&&Su.a.MediaSource.isTypeSupported&&Su.a.MediaSource.isTypeSupported(cl(o))||!1},hl=function muxerSupportsCodec(o){return void 0===o&&(o=""),o.toLowerCase().split(",").every((function(o){o=o.trim();for(var a=0;a<al.length;a++){if(il["muxer"+al[a]].test(o))return!0}return!1}))},fl="mp4a.40.2",pl=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,ml=/^application\/dash\+xml/i,gl=function simpleTypeFromSourceType(o){return pl.test(o)?"hls":ml.test(o)?"dash":"application/vnd.videojs.vhs+json"===o?"vhs-json":null},vl=s(150),yl=function isObject(o){return!!o&&"object"==typeof o},_l=function merge(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return a.reduce((function(o,a){return"object"!=typeof a||Object.keys(a).forEach((function(s){Array.isArray(o[s])&&Array.isArray(a[s])?o[s]=o[s].concat(a[s]):yl(o[s])&&yl(a[s])?o[s]=merge(o[s],a[s]):o[s]=a[s]})),o}),{})},bl=function flatten(o){return o.reduce((function(o,a){return o.concat(a)}),[])},Tl=function from(o){if(!o.length)return[];for(var a=[],s=0;s<o.length;s++)a.push(o[s]);return a},Sl="INVALID_NUMBER_OF_PERIOD",wl="DASH_EMPTY_MANIFEST",El="DASH_INVALID_XML",kl="NO_BASE_URL",Cl="SEGMENT_TIME_UNSPECIFIED",xl="UNSUPPORTED_UTC_TIMING_SCHEME",Pl=function urlTypeToSegment(o){var a=o.baseUrl,s=void 0===a?"":a,u=o.source,l=void 0===u?"":u,c=o.range,h=void 0===c?"":c,f=o.indexRange,p=void 0===f?"":f,m={uri:l,resolvedUri:Gu(s||"",l)};if(h||p){var g=(h||p).split("-"),v=parseInt(g[0],10),y=parseInt(g[1],10);m.byterange={length:y-v+1,offset:v}}return m},Al=function parseEndNumber(o){return o&&"number"!=typeof o&&(o=parseInt(o,10)),isNaN(o)?null:o},Il={static:function _static(o){var a=o.duration,s=o.timescale,u=void 0===s?1:s,l=o.sourceDuration,c=o.periodDuration,h=Al(o.endNumber),f=a/u;return"number"==typeof h?{start:0,end:h}:"number"==typeof c?{start:0,end:c/f}:{start:0,end:l/f}},dynamic:function dynamic(o){var a=o.NOW,s=o.clientOffset,u=o.availabilityStartTime,l=o.timescale,c=void 0===l?1:l,h=o.duration,f=o.start,p=void 0===f?0:f,m=o.minimumUpdatePeriod,g=void 0===m?0:m,v=o.timeShiftBufferDepth,y=void 0===v?1/0:v,_=Al(o.endNumber),b=(a+s)/1e3,T=u+p,S=b+g-T,w=Math.ceil(S*c/h),k=Math.floor((b-T-y)*c/h),x=Math.floor((b-T)*c/h);return{start:Math.max(0,k),end:"number"==typeof _?_:Math.min(w,x)}}},Ol=function parseByDuration(o){var a=o.type,s=o.duration,u=o.timescale,l=void 0===u?1:u,c=o.periodDuration,h=o.sourceDuration,f=Il[a](o),p=function range(o,a){for(var s=[],u=o;u<a;u++)s.push(u);return s}(f.start,f.end).map(function toSegments(o){return function(a,s){var u=o.duration,l=o.timescale,c=void 0===l?1:l,h=o.periodIndex,f=o.startNumber;return{number:(void 0===f?1:f)+a,duration:u/c,timeline:h,time:s*u}}}(o));if("static"===a){var m=p.length-1,g="number"==typeof c?c:h;p[m].duration=g-s/l*m}return p},Ll=function segmentsFromBase(o){var a=o.baseUrl,s=o.initialization,u=void 0===s?{}:s,l=o.sourceDuration,c=o.indexRange,h=void 0===c?"":c,f=o.duration;if(!a)throw new Error(kl);var p=Pl({baseUrl:a,source:u.sourceURL,range:u.range}),m=Pl({baseUrl:a,source:a,indexRange:h});if(m.map=p,f){var g=Ol(o);g.length&&(m.duration=g[0].duration,m.timeline=g[0].timeline)}else l&&(m.duration=l,m.timeline=0);return m.number=0,[m]},Ml=function addSidxSegmentsToPlaylist(o,a,s){for(var u=o.sidx.map?o.sidx.map:null,l=o.sidx.duration,c=o.timeline||0,h=o.sidx.byterange,f=h.offset+h.length,p=a.timescale,m=a.references.filter((function(o){return 1!==o.referenceType})),g=[],v=o.endList?"static":"dynamic",y=f+a.firstOffset,_=0;_<m.length;_++){var b=a.references[_],T=b.referencedSize,S=b.subsegmentDuration,w=Ll({baseUrl:s,timescale:p,timeline:c,periodIndex:c,duration:S,sourceDuration:l,indexRange:y+"-"+(y+T-1),type:v})[0];u&&(w.map=u),g.push(w),y+=T}return o.segments=g,o},Dl=function generateSidxKey(o){return o&&o.uri+"-"+function byteRangeToString(o){var a=o.offset+o.length-1;return o.offset+"-"+a}(o.byterange)},Rl=function mergeDiscontiguousPlaylists(o){return function values(o){return Object.keys(o).map((function(a){return o[a]}))}(o.reduce((function(o,a){var s,u=a.attributes.id+(a.attributes.lang||"");o[u]?(a.segments[0]&&(a.segments[0].discontinuity=!0),(s=o[u].segments).push.apply(s,a.segments),a.attributes.contentProtection&&(o[u].attributes.contentProtection=a.attributes.contentProtection)):o[u]=a;return o}),{})).map((function(o){return o.discontinuityStarts=function findIndexes(o,a){return o.reduce((function(o,s,u){return s[a]&&o.push(u),o}),[])}(o.segments,"discontinuity"),o}))},Nl=function addSidxSegmentsToPlaylist$1(o,a){var s=Dl(o.sidx),u=s&&a[s]&&a[s].sidx;return u&&Ml(o,u,o.sidx.resolvedUri),o},Bl=function addSidxSegmentsToPlaylists(o,a){if(void 0===a&&(a={}),!Object.keys(a).length)return o;for(var s in o)o[s]=Nl(o[s],a);return o},Fl=function formatVideoPlaylist(o){var a,s=o.attributes,u=o.segments,l=o.sidx,c={attributes:(a={NAME:s.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:s.width,height:s.height},CODECS:s.codecs,BANDWIDTH:s.bandwidth},a["PROGRAM-ID"]=1,a),uri:"",endList:"static"===s.type,timeline:s.periodIndex,resolvedUri:"",targetDuration:s.duration,segments:u,mediaSequence:u.length?u[0].number:1};return s.contentProtection&&(c.contentProtection=s.contentProtection),l&&(c.sidx=l),c},jl=function videoOnly(o){var a=o.attributes;return"video/mp4"===a.mimeType||"video/webm"===a.mimeType||"video"===a.contentType},Ul=function audioOnly(o){var a=o.attributes;return"audio/mp4"===a.mimeType||"audio/webm"===a.mimeType||"audio"===a.contentType},Hl=function vttOnly(o){var a=o.attributes;return"text/vtt"===a.mimeType||"text"===a.contentType},ql=function toM3u8(o,a,s){var u;if(void 0===s&&(s={}),!o.length)return{};var l=o[0].attributes,c=l.sourceDuration,h=l.type,f=l.suggestedPresentationDelay,p=l.minimumUpdatePeriod,m=Rl(o.filter(jl)).map(Fl),g=Rl(o.filter(Ul)),v=o.filter(Hl),y=o.map((function(o){return o.attributes.captionServices})).filter(Boolean),_={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(u={AUDIO:{},VIDEO:{}},u["CLOSED-CAPTIONS"]={},u.SUBTITLES={},u),uri:"",duration:c,playlists:Bl(m,s)};p>=0&&(_.minimumUpdatePeriod=1e3*p),a&&(_.locations=a),"dynamic"===h&&(_.suggestedPresentationDelay=f);var b=0===_.playlists.length;return g.length&&(_.mediaGroups.AUDIO.audio=function organizeAudioPlaylists(o,a,s){var u;void 0===a&&(a={}),void 0===s&&(s=!1);var l=o.reduce((function(o,l){var c=l.attributes.role&&l.attributes.role.value||"",h=l.attributes.lang||"",f=l.attributes.label||"main";if(h&&!l.attributes.label){var p=c?" ("+c+")":"";f=""+l.attributes.lang+p}o[f]||(o[f]={language:h,autoselect:!0,default:"main"===c,playlists:[],uri:""});var m=Nl(function formatAudioPlaylist(o,a){var s,u=o.attributes,l=o.segments,c=o.sidx,h={attributes:(s={NAME:u.id,BANDWIDTH:u.bandwidth,CODECS:u.codecs},s["PROGRAM-ID"]=1,s),uri:"",endList:"static"===u.type,timeline:u.periodIndex,resolvedUri:"",targetDuration:u.duration,segments:l,mediaSequence:l.length?l[0].number:1};return u.contentProtection&&(h.contentProtection=u.contentProtection),c&&(h.sidx=c),a&&(h.attributes.AUDIO="audio",h.attributes.SUBTITLES="subs"),h}(l,s),a);return o[f].playlists.push(m),void 0===u&&"main"===c&&((u=l).default=!0),o}),{});return u||(l[Object.keys(l)[0]].default=!0),l}(g,s,b)),v.length&&(_.mediaGroups.SUBTITLES.subs=function organizeVttPlaylists(o,a){return void 0===a&&(a={}),o.reduce((function(o,s){var u=s.attributes.lang||"text";return o[u]||(o[u]={language:u,default:!1,autoselect:!1,playlists:[],uri:""}),o[u].playlists.push(Nl(function formatVttPlaylist(o){var a,s=o.attributes,u=o.segments;void 0===u&&(u=[{uri:s.baseUrl,timeline:s.periodIndex,resolvedUri:s.baseUrl||"",duration:s.sourceDuration,number:0}],s.duration=s.sourceDuration);var l=((a={NAME:s.id,BANDWIDTH:s.bandwidth})["PROGRAM-ID"]=1,a);return s.codecs&&(l.CODECS=s.codecs),{attributes:l,uri:"",endList:"static"===s.type,timeline:s.periodIndex,resolvedUri:s.baseUrl||"",targetDuration:s.duration,segments:u,mediaSequence:u.length?u[0].number:1}}(s),a)),o}),{})}(v,s)),y.length&&(_.mediaGroups["CLOSED-CAPTIONS"].cc=function organizeCaptionServices(o){return o.reduce((function(o,a){return a?(a.forEach((function(a){var s=a.channel,u=a.language;o[u]={autoselect:!1,default:!1,instreamId:s,language:u},a.hasOwnProperty("aspectRatio")&&(o[u].aspectRatio=a.aspectRatio),a.hasOwnProperty("easyReader")&&(o[u].easyReader=a.easyReader),a.hasOwnProperty("3D")&&(o[u]["3D"]=a["3D"])})),o):o}),{})}(y)),_},Vl=function getLiveRValue(o,a,s){var u=o.NOW,l=o.clientOffset,c=o.availabilityStartTime,h=o.timescale,f=void 0===h?1:h,p=o.start,m=void 0===p?0:p,g=o.minimumUpdatePeriod,v=(u+l)/1e3+(void 0===g?0:g)-(c+m);return Math.ceil((v*f-a)/s)},Wl=function parseByTimeline(o,a){for(var s=o.type,u=o.minimumUpdatePeriod,l=void 0===u?0:u,c=o.media,h=void 0===c?"":c,f=o.sourceDuration,p=o.timescale,m=void 0===p?1:p,g=o.startNumber,v=void 0===g?1:g,y=o.periodIndex,_=[],b=-1,T=0;T<a.length;T++){var S=a[T],w=S.d,k=S.r||0,x=S.t||0;b<0&&(b=x),x&&x>b&&(b=x);var P=void 0;if(k<0){var I=T+1;P=I===a.length?"dynamic"===s&&l>0&&h.indexOf("$Number$")>0?Vl(o,b,w):(f*m-b)/w:(a[I].t-b)/w}else P=k+1;for(var O=v+_.length+P,L=v+_.length;L<O;)_.push({number:L,duration:w/m,time:b,timeline:y}),b+=w,L++}return _},zl=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,Gl=function constructTemplateUrl(o,a){return o.replace(zl,function identifierReplacement(o){return function(a,s,u,l){if("$$"===a)return"$";if(void 0===o[s])return a;var c=""+o[s];return"RepresentationID"===s?c:(l=u?parseInt(l,10):1,c.length>=l?c:""+new Array(l-c.length+1).join("0")+c)}}(a))},Xl=function segmentsFromTemplate(o,a){var s={RepresentationID:o.id,Bandwidth:o.bandwidth||0},u=o.initialization,l=void 0===u?{sourceURL:"",range:""}:u,c=Pl({baseUrl:o.baseUrl,source:Gl(l.sourceURL,s),range:l.range});return function parseTemplateInfo(o,a){return o.duration||a?o.duration?Ol(o):Wl(o,a):[{number:o.startNumber||1,duration:o.sourceDuration,time:0,timeline:o.periodIndex}]}(o,a).map((function(a){s.Number=a.number,s.Time=a.time;var u=Gl(o.media||"",s),l=o.timescale||1,h=o.presentationTimeOffset||0,f=o.periodStart+(a.time-h)/l;return{uri:u,timeline:a.timeline,duration:a.duration,resolvedUri:Gu(o.baseUrl||"",u),map:c,number:a.number,presentationTime:f}}))},Yl=function segmentsFromList(o,a){var s=o.duration,u=o.segmentUrls,l=void 0===u?[]:u,c=o.periodStart;if(!s&&!a||s&&a)throw new Error(Cl);var h,f=l.map((function(a){return function SegmentURLToSegmentObject(o,a){var s=o.baseUrl,u=o.initialization,l=void 0===u?{}:u,c=Pl({baseUrl:s,source:l.sourceURL,range:l.range}),h=Pl({baseUrl:s,source:a.media,range:a.mediaRange});return h.map=c,h}(o,a)}));return s&&(h=Ol(o)),a&&(h=Wl(o,a)),h.map((function(a,s){if(f[s]){var u=f[s],l=o.timescale||1,h=o.presentationTimeOffset||0;return u.timeline=a.timeline,u.duration=a.duration,u.number=a.number,u.presentationTime=c+(a.time-h)/l,u}})).filter((function(o){return o}))},$l=function generateSegments(o){var a,s,u=o.attributes,l=o.segmentInfo;l.template?(s=Xl,a=_l(u,l.template)):l.base?(s=Ll,a=_l(u,l.base)):l.list&&(s=Yl,a=_l(u,l.list));var c={attributes:u};if(!s)return c;var h=s(a,l.segmentTimeline);if(a.duration){var f=a,p=f.duration,m=f.timescale,g=void 0===m?1:m;a.duration=p/g}else h.length?a.duration=h.reduce((function(o,a){return Math.max(o,Math.ceil(a.duration))}),0):a.duration=0;return c.attributes=a,c.segments=h,l.base&&a.indexRange&&(c.sidx=h[0],c.segments=[]),c},Kl=function findChildren(o,a){return Tl(o.childNodes).filter((function(o){return o.tagName===a}))},Ql=function getContent(o){return o.textContent.trim()},Jl=function parseDuration(o){var a=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(o);if(!a)return 0;var s=a.slice(1),u=s[0],l=s[1],c=s[2],h=s[3],f=s[4],p=s[5];return 31536e3*parseFloat(u||0)+2592e3*parseFloat(l||0)+86400*parseFloat(c||0)+3600*parseFloat(h||0)+60*parseFloat(f||0)+parseFloat(p||0)},Zl={mediaPresentationDuration:function mediaPresentationDuration(o){return Jl(o)},availabilityStartTime:function availabilityStartTime(o){return function parseDate(o){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(o)&&(o+="Z"),Date.parse(o)}(o)/1e3},minimumUpdatePeriod:function minimumUpdatePeriod(o){return Jl(o)},suggestedPresentationDelay:function suggestedPresentationDelay(o){return Jl(o)},type:function type(o){return o},timeShiftBufferDepth:function timeShiftBufferDepth(o){return Jl(o)},start:function start(o){return Jl(o)},width:function width(o){return parseInt(o,10)},height:function height(o){return parseInt(o,10)},bandwidth:function bandwidth(o){return parseInt(o,10)},startNumber:function startNumber(o){return parseInt(o,10)},timescale:function timescale(o){return parseInt(o,10)},presentationTimeOffset:function presentationTimeOffset(o){return parseInt(o,10)},duration:function duration(o){var a=parseInt(o,10);return isNaN(a)?Jl(o):a},d:function d(o){return parseInt(o,10)},t:function t(o){return parseInt(o,10)},r:function r(o){return parseInt(o,10)},DEFAULT:function DEFAULT(o){return o}},ec=function parseAttributes(o){return o&&o.attributes?Tl(o.attributes).reduce((function(o,a){var s=Zl[a.name]||Zl.DEFAULT;return o[a.name]=s(a.value),o}),{}):{}},tc={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},nc=function buildBaseUrls(o,a){return a.length?bl(o.map((function(o){return a.map((function(a){return Gu(o,Ql(a))}))}))):o},rc=function getSegmentInformation(o){var a=Kl(o,"SegmentTemplate")[0],s=Kl(o,"SegmentList")[0],u=s&&Kl(s,"SegmentURL").map((function(o){return _l({tag:"SegmentURL"},ec(o))})),l=Kl(o,"SegmentBase")[0],c=s||a,h=c&&Kl(c,"SegmentTimeline")[0],f=s||l||a,p=f&&Kl(f,"Initialization")[0],m=a&&ec(a);m&&p?m.initialization=p&&ec(p):m&&m.initialization&&(m.initialization={sourceURL:m.initialization});var g={template:m,segmentTimeline:h&&Kl(h,"S").map((function(o){return ec(o)})),list:s&&_l(ec(s),{segmentUrls:u,initialization:ec(p)}),base:l&&_l(ec(l),{initialization:ec(p)})};return Object.keys(g).forEach((function(o){g[o]||delete g[o]})),g},ic=function toRepresentations(o,a,s){return function(u){var l=ec(u),c=nc(a,Kl(u,"BaseURL")),h=Kl(u,"Role")[0],f={role:ec(h)},p=_l(o,l,f),m=Kl(u,"Accessibility")[0],g=function parseCaptionServiceMetadata(o){return"urn:scte:dash:cc:cea-608:2015"===o.schemeIdUri?o.value.split(";").map((function(o){var a,s;if(s=o,/^CC\d=/.test(o)){var u=o.split("=");a=u[0],s=u[1]}else/^CC\d$/.test(o)&&(a=o);return{channel:a,language:s}})):"urn:scte:dash:cc:cea-708:2015"===o.schemeIdUri?o.value.split(";").map((function(o){var a={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(o)){var s=o.split("="),u=s[0],l=s[1],c=void 0===l?"":l;a.channel=u,a.language=o,c.split(",").forEach((function(o){var s=o.split(":"),u=s[0],l=s[1];"lang"===u?a.language=l:"er"===u?a.easyReader=Number(l):"war"===u?a.aspectRatio=Number(l):"3D"===u&&(a["3D"]=Number(l))}))}else a.language=o;return a.channel&&(a.channel="SERVICE"+a.channel),a})):void 0}(ec(m));g&&(p=_l(p,{captionServices:g}));var v=Kl(u,"Label")[0];if(v&&v.childNodes.length){var y=v.childNodes[0].nodeValue.trim();p=_l(p,{label:y})}var _=function generateKeySystemInformation(o){return o.reduce((function(o,a){var s=ec(a),u=tc[s.schemeIdUri];if(u){o[u]={attributes:s};var l=Kl(a,"cenc:pssh")[0];if(l){var c=Ql(l),h=c&&Object(Yu.a)(c);o[u].pssh=h}}return o}),{})}(Kl(u,"ContentProtection"));Object.keys(_).length&&(p=_l(p,{contentProtection:_}));var b=rc(u),T=Kl(u,"Representation"),S=_l(s,b);return bl(T.map(function inheritBaseUrls(o,a,s){return function(u){var l=Kl(u,"BaseURL"),c=nc(a,l),h=_l(o,ec(u)),f=rc(u);return c.map((function(o){return{segmentInfo:_l(s,f),attributes:_l(h,{baseUrl:o})}}))}}(p,c,S)))}},oc=function toAdaptationSets(o,a){return function(s,u){var l=nc(a,Kl(s.node,"BaseURL")),c=parseInt(s.attributes.id,10),h=Su.a.isNaN(c)?u:c,f=_l(o,{periodIndex:h,periodStart:s.attributes.start});"number"==typeof s.attributes.duration&&(f.periodDuration=s.attributes.duration);var p=Kl(s.node,"AdaptationSet"),m=rc(s.node);return bl(p.map(ic(f,l,m)))}},ac=function stringToMpdXml(o){if(""===o)throw new Error(wl);var a,s,u=new vl.DOMParser;try{s=(a=u.parseFromString(o,"application/xml"))&&"MPD"===a.documentElement.tagName?a.documentElement:null}catch(o){}if(!s||s&&s.getElementsByTagName("parsererror").length>0)throw new Error(El);return s},uc=function parse(o,a){void 0===a&&(a={});var s=function inheritAttributes(o,a){void 0===a&&(a={});var s=a,u=s.manifestUri,l=void 0===u?"":u,c=s.NOW,h=void 0===c?Date.now():c,f=s.clientOffset,p=void 0===f?0:f,m=Kl(o,"Period");if(!m.length)throw new Error(Sl);var g=Kl(o,"Location"),v=ec(o),y=nc([l],Kl(o,"BaseURL"));v.type=v.type||"static",v.sourceDuration=v.mediaPresentationDuration||0,v.NOW=h,v.clientOffset=p,g.length&&(v.locations=g.map(Ql));var _=[];return m.forEach((function(o,a){var s=ec(o),u=_[a-1];s.start=function getPeriodStart(o){var a=o.attributes,s=o.priorPeriodAttributes,u=o.mpdType;return"number"==typeof a.start?a.start:s&&"number"==typeof s.start&&"number"==typeof s.duration?s.start+s.duration:s||"static"!==u?null:0}({attributes:s,priorPeriodAttributes:u?u.attributes:null,mpdType:v.type}),_.push({node:o,attributes:s})})),{locations:v.locations,representationInfo:bl(_.map(oc(v,y)))}}(ac(o),a),u=function toPlaylists(o){return o.map($l)}(s.representationInfo);return ql(u,s.locations,a.sidxMapping)},lc=function parseUTCTiming(o){return function parseUTCTimingScheme(o){var a=Kl(o,"UTCTiming")[0];if(!a)return null;var s=ec(a);switch(s.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":s.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":s.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":s.method="DIRECT",s.value=Date.parse(s.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(xl)}return s}(ac(o))},cc=s(151),dc=s.n(cc),hc=function toUint8(o){return o instanceof Uint8Array?o:(Array.isArray(o)||function isTypedArray(o){return ArrayBuffer.isView(o)}(o)||o instanceof ArrayBuffer||(o="number"!=typeof o||"number"==typeof o&&o!=o?0:[o]),new Uint8Array(o&&o.buffer||o,o&&o.byteOffset||0,o&&o.byteLength||0))},fc=Su.a.BigInt||Number,pc=[fc("0x1"),fc("0x100"),fc("0x10000"),fc("0x1000000"),fc("0x100000000"),fc("0x10000000000"),fc("0x1000000000000"),fc("0x100000000000000"),fc("0x10000000000000000")],mc=(mu=new Uint16Array([65484]),255===(gu=new Uint8Array(mu.buffer,mu.byteOffset,mu.byteLength))[0]||gu[0],function bytesToNumber(o,a){var s=void 0===a?{}:a,u=s.signed,l=void 0!==u&&u,c=s.le,h=void 0!==c&&c;o=hc(o);var f=h?"reduce":"reduceRight",p=(o[f]?o[f]:Array.prototype[f]).call(o,(function(a,s,u){var l=h?u:Math.abs(u+1-o.length);return a+fc(s)*pc[l]}),fc(0));if(l){var m=pc[o.length]/fc(2)-fc(1);(p=fc(p))>m&&(p-=m,p-=m,p-=fc(2))}return Number(p)}),gc=function numberToBytes(o,a){var s=(void 0===a?{}:a).le,u=void 0!==s&&s;("bigint"!=typeof o&&"number"!=typeof o||"number"==typeof o&&o!=o)&&(o=0);for(var l=function countBytes(o){return Math.ceil(function countBits(o){return o.toString(2).length}(o)/8)}(o=fc(o)),c=new Uint8Array(new ArrayBuffer(l)),h=0;h<l;h++){var f=u?h:Math.abs(h+1-c.length);c[f]=Number(o/pc[h]&fc(255)),o<0&&(c[f]=Math.abs(~c[f]),c[f]-=0===h?1:2)}return c},vc=function bytesToString(o){if(!o)return"";o=Array.prototype.slice.call(o);var a=String.fromCharCode.apply(null,hc(o));try{return decodeURIComponent(escape(a))}catch(o){}return a},yc=function stringToBytes(o,a){if("string"!=typeof o&&o&&"function"==typeof o.toString&&(o=o.toString()),"string"!=typeof o)return new Uint8Array;a||(o=unescape(encodeURIComponent(o)));for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s},_c=function bytesMatch(o,a,s){var u=void 0===s?{}:s,l=u.offset,c=void 0===l?0:l,h=u.mask,f=void 0===h?[]:h;o=hc(o);var p=(a=hc(a)).every?a.every:Array.prototype.every;return a.length&&o.length-c>=a.length&&p.call(a,(function(a,s){return a===(f[s]?f[s]&o[c+s]:o[c+s])}))},bc=hc([73,68,51]),Tc=function getId3Offset(o,a){return void 0===a&&(a=0),(o=hc(o)).length-a<10||!_c(o,bc,{offset:a})?a:(a+=function getId3Size(o,a){void 0===a&&(a=0);var s=(o=hc(o))[a+5],u=o[a+6]<<21|o[a+7]<<14|o[a+8]<<7|o[a+9];return(16&s)>>4?u+20:u+10}(o,a),getId3Offset(o,a))},Sc=(new Uint8Array([79,112,117,115,72,101,97,100]),function normalizePath(o){return"string"==typeof o?yc(o):o}),wc=function parseDescriptors(o){o=hc(o);for(var a=[],s=0;o.length>s;){var u=o[s],l=0,c=0,h=o[++c];for(c++;128&h;)l=(127&h)<<7,h=o[c],c++;l+=127&h;for(var f=0;f<vu.length;f++){var p=vu[f],m=p.id,g=p.parser;if(u===m){a.push(g(o.subarray(c,c+l)));break}}s+=l+c}return a};vu=[{id:3,parser:function parser(o){var a={tag:3,id:o[0]<<8|o[1],flags:o[2],size:3,dependsOnEsId:0,ocrEsId:0,descriptors:[],url:""};if(128&a.flags&&(a.dependsOnEsId=o[a.size]<<8|o[a.size+1],a.size+=2),64&a.flags){var s=o[a.size];a.url=vc(o.subarray(a.size+1,a.size+1+s)),a.size+=s}return 32&a.flags&&(a.ocrEsId=o[a.size]<<8|o[a.size+1],a.size+=2),a.descriptors=wc(o.subarray(a.size))||[],a}},{id:4,parser:function parser(o){return{tag:4,oti:o[0],streamType:o[1],bufferSize:o[2]<<16|o[3]<<8|o[4],maxBitrate:o[5]<<24|o[6]<<16|o[7]<<8|o[8],avgBitrate:o[9]<<24|o[10]<<16|o[11]<<8|o[12],descriptors:wc(o.subarray(13))}}},{id:5,parser:function parser(o){return{tag:5,bytes:o}}},{id:6,parser:function parser(o){return{tag:6,bytes:o}}}];var Ec=function findBox(o,a,s){void 0===s&&(s=!1),a=function normalizePaths(o){return Array.isArray(o)?o.map((function(o){return Sc(o)})):[Sc(o)]}(a),o=hc(o);var u=[];if(!a.length)return u;for(var l=0;l<o.length;){var c=(o[l]<<24|o[l+1]<<16|o[l+2]<<8|o[l+3])>>>0,h=o.subarray(l+4,l+8);if(0===c)break;var f=l+c;if(f>o.length){if(s)break;f=o.length}var p=o.subarray(l+8,f);_c(h,a[0])&&(1===a.length?u.push(p):u.push.apply(u,findBox(p,a.slice(1),s))),l=f}return u},kc={EBML:hc([26,69,223,163]),DocType:hc([66,130]),Segment:hc([24,83,128,103]),SegmentInfo:hc([21,73,169,102]),Tracks:hc([22,84,174,107]),Track:hc([174]),TrackNumber:hc([215]),DefaultDuration:hc([35,227,131]),TrackEntry:hc([174]),TrackType:hc([131]),FlagDefault:hc([136]),CodecID:hc([134]),CodecPrivate:hc([99,162]),VideoTrack:hc([224]),AudioTrack:hc([225]),Cluster:hc([31,67,182,117]),Timestamp:hc([231]),TimestampScale:hc([42,215,177]),BlockGroup:hc([160]),BlockDuration:hc([155]),Block:hc([161]),SimpleBlock:hc([163])},Cc=[128,64,32,16,8,4,2,1],xc=function getvint(o,a,s,u){void 0===s&&(s=!0),void 0===u&&(u=!1);var l=function getLength(o){for(var a=1,s=0;s<Cc.length&&!(o&Cc[s]);s++)a++;return a}(o[a]),c=o.subarray(a,a+l);return s&&((c=Array.prototype.slice.call(o,a,a+l))[0]^=Cc[l-1]),{length:l,value:mc(c,{signed:u}),bytes:c}},Pc=function normalizePath(o){return"string"==typeof o?o.match(/.{1,2}/g).map((function(o){return normalizePath(o)})):"number"==typeof o?gc(o):o},Ac=function getInfinityDataSize(o,a,s){if(s>=a.length)return a.length;var u=xc(a,s,!1);if(_c(o.bytes,u.bytes))return s;var l=xc(a,s+u.length);return getInfinityDataSize(o,a,s+l.length+l.value+u.length)},Ic=function findEbml(o,a){a=function normalizePaths(o){return Array.isArray(o)?o.map((function(o){return Pc(o)})):[Pc(o)]}(a),o=hc(o);var s=[];if(!a.length)return s;for(var u=0;u<o.length;){var l=xc(o,u,!1),c=xc(o,u+l.length),h=u+l.length+c.length;127===c.value&&(c.value=Ac(l,o,h),c.value!==o.length&&(c.value-=h));var f=h+c.value>o.length?o.length:h+c.value,p=o.subarray(h,f);_c(a[0],l.bytes)&&(1===a.length?s.push(p):s=s.concat(findEbml(p,a.slice(1)))),u+=l.length+c.length+p.length}return s},Oc=hc([0,0,0,1]),Lc=hc([0,0,1]),Mc=hc([0,0,3]),Dc=function discardEmulationPreventionBytes(o){for(var a=[],s=1;s<o.length-2;)_c(o.subarray(s,s+3),Mc)&&(a.push(s+2),s++),s++;if(0===a.length)return o;var u=o.length-a.length,l=new Uint8Array(u),c=0;for(s=0;s<u;c++,s++)c===a[0]&&(c++,a.shift()),l[s]=o[c];return l},Rc=function findNal(o,a,s,u){void 0===u&&(u=1/0),o=hc(o),s=[].concat(s);for(var l,c=0,h=0;c<o.length&&(h<u||l);){var f=void 0;if(_c(o.subarray(c),Oc)?f=4:_c(o.subarray(c),Lc)&&(f=3),f){if(h++,l)return Dc(o.subarray(l,c));var p=void 0;"h264"===a?p=31&o[c+f]:"h265"===a&&(p=o[c+f]>>1&63),-1!==s.indexOf(p)&&(l=c+f),c+=f+("h264"===a?1:2)}else c++}return o.subarray(0,0)},Nc={webm:hc([119,101,98,109]),matroska:hc([109,97,116,114,111,115,107,97]),flac:hc([102,76,97,67]),ogg:hc([79,103,103,83]),ac3:hc([11,119]),riff:hc([82,73,70,70]),avi:hc([65,86,73]),wav:hc([87,65,86,69]),"3gp":hc([102,116,121,112,51,103]),mp4:hc([102,116,121,112]),fmp4:hc([115,116,121,112]),mov:hc([102,116,121,112,113,116]),moov:hc([109,111,111,118]),moof:hc([109,111,111,102])},Bc={aac:function aac(o){var a=Tc(o);return _c(o,[255,16],{offset:a,mask:[255,22]})},mp3:function mp3(o){var a=Tc(o);return _c(o,[255,2],{offset:a,mask:[255,6]})},webm:function webm(o){var a=Ic(o,[kc.EBML,kc.DocType])[0];return _c(a,Nc.webm)},mkv:function mkv(o){var a=Ic(o,[kc.EBML,kc.DocType])[0];return _c(a,Nc.matroska)},mp4:function mp4(o){return!Bc["3gp"](o)&&!Bc.mov(o)&&(!(!_c(o,Nc.mp4,{offset:4})&&!_c(o,Nc.fmp4,{offset:4}))||(!(!_c(o,Nc.moof,{offset:4})&&!_c(o,Nc.moov,{offset:4}))||void 0))},mov:function mov(o){return _c(o,Nc.mov,{offset:4})},"3gp":function gp(o){return _c(o,Nc["3gp"],{offset:4})},ac3:function ac3(o){var a=Tc(o);return _c(o,Nc.ac3,{offset:a})},ts:function ts(o){if(o.length<189&&o.length>=1)return 71===o[0];for(var a=0;a+188<o.length&&a<188;){if(71===o[a]&&71===o[a+188])return!0;a+=1}return!1},flac:function flac(o){var a=Tc(o);return _c(o,Nc.flac,{offset:a})},ogg:function ogg(o){return _c(o,Nc.ogg)},avi:function avi(o){return _c(o,Nc.riff)&&_c(o,Nc.avi,{offset:8})},wav:function wav(o){return _c(o,Nc.riff)&&_c(o,Nc.wav,{offset:8})},h264:function h264(o){return function findH264Nal(o,a,s){return Rc(o,"h264",a,s)}(o,7,3).length},h265:function h265(o){return function findH265Nal(o,a,s){return Rc(o,"h265",a,s)}(o,[32,33],3).length}},Fc=Object.keys(Bc).filter((function(o){return"ts"!==o&&"h264"!==o&&"h265"!==o})).concat(["ts","h264","h265"]);Fc.forEach((function(o){var a=Bc[o];Bc[o]=function(o){return a(hc(o))}}));for(var jc,Uc=Bc,Hc=function detectContainerForBytes(o){o=hc(o);for(var a=0;a<Fc.length;a++){var s=Fc[a];if(Uc[s](o))return s}return""},qc=s(60),Vc="7.15.4",Wc={},zc=function hooks(o,a){return Wc[o]=Wc[o]||[],a&&(Wc[o]=Wc[o].concat(a)),Wc[o]},Gc=function removeHook(o,a){var s=zc(o).indexOf(a);return!(s<=-1)&&(Wc[o]=Wc[o].slice(),Wc[o].splice(s,1),!0)},Xc={prefixed:!0},Yc=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],$c=Yc[0],Kc=0;Kc<Yc.length;Kc++)if(Yc[Kc][1]in Eu.a){jc=Yc[Kc];break}if(jc){for(var Qc=0;Qc<jc.length;Qc++)Xc[$c[Qc]]=jc[Qc];Xc.prefixed=jc[0]!==$c[0]}var Jc=[];var Zc=function createLogger$1(o){var a,s="info",u=function log(){for(var o=arguments.length,u=new Array(o),l=0;l<o;l++)u[l]=arguments[l];a("log",s,u)};return a=function LogByTypeFactory(o,a){return function(s,u,l){var c=a.levels[u],h=new RegExp("^("+c+")$");if("log"!==s&&l.unshift(s.toUpperCase()+":"),l.unshift(o+":"),Jc){Jc.push([].concat(l));var f=Jc.length-1e3;Jc.splice(0,f>0?f:0)}if(Su.a.console){var p=Su.a.console[s];p||"debug"!==s||(p=Su.a.console.info||Su.a.console.log),p&&c&&h.test(s)&&p[Array.isArray(l)?"apply":"call"](Su.a.console,l)}}}(o,u),u.createLogger=function(a){return createLogger$1(o+": "+a)},u.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:s},u.level=function(o){if("string"==typeof o){if(!u.levels.hasOwnProperty(o))throw new Error('"'+o+'" in not a valid log level');s=o}return s},(u.history=function(){return Jc?[].concat(Jc):[]}).filter=function(o){return(Jc||[]).filter((function(a){return new RegExp(".*"+o+".*").test(a[0])}))},u.history.clear=function(){Jc&&(Jc.length=0)},u.history.disable=function(){null!==Jc&&(Jc.length=0,Jc=null)},u.history.enable=function(){null===Jc&&(Jc=[])},u.error=function(){for(var o=arguments.length,u=new Array(o),l=0;l<o;l++)u[l]=arguments[l];return a("error",s,u)},u.warn=function(){for(var o=arguments.length,u=new Array(o),l=0;l<o;l++)u[l]=arguments[l];return a("warn",s,u)},u.debug=function(){for(var o=arguments.length,u=new Array(o),l=0;l<o;l++)u[l]=arguments[l];return a("debug",s,u)},u}("VIDEOJS"),ed=Zc.createLogger,td=Object.prototype.toString,nd=function keys(o){return video_es_isObject(o)?Object.keys(o):[]};function each(o,a){nd(o).forEach((function(s){return a(o[s],s)}))}function video_es_assign(o){for(var a=arguments.length,s=new Array(a>1?a-1:0),u=1;u<a;u++)s[u-1]=arguments[u];return Object.assign?Cu.a.apply(void 0,[o].concat(s)):(s.forEach((function(a){a&&each(a,(function(a,s){o[s]=a}))})),o)}function video_es_isObject(o){return!!o&&"object"==typeof o}function isPlain(o){return video_es_isObject(o)&&"[object Object]"===td.call(o)&&o.constructor===Object}function computedStyle(o,a){if(!o||!a)return"";if("function"==typeof Su.a.getComputedStyle){var s;try{s=Su.a.getComputedStyle(o)}catch(o){return""}return s?s.getPropertyValue(a)||s[a]:""}return""}var rd,od,ad,sd=Su.a.navigator&&Su.a.navigator.userAgent||"",ud=/AppleWebKit\/([\d.]+)/i.exec(sd),ld=ud?parseFloat(ud.pop()):null,cd=/iPod/i.test(sd),dd=(rd=sd.match(/OS (\d+)_/i))&&rd[1]?rd[1]:null,hd=/Android/i.test(sd),fd=function(){var o=sd.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!o)return null;var a=o[1]&&parseFloat(o[1]),s=o[2]&&parseFloat(o[2]);return a&&s?parseFloat(o[1]+"."+o[2]):a||null}(),pd=hd&&fd<5&&ld<537,md=/Firefox/i.test(sd),gd=/Edg/i.test(sd),vd=!gd&&(/Chrome/i.test(sd)||/CriOS/i.test(sd)),yd=function(){var o=sd.match(/(Chrome|CriOS)\/(\d+)/);return o&&o[2]?parseFloat(o[2]):null}(),_d=(od=/MSIE\s(\d+)\.\d/.exec(sd),!(ad=od&&parseFloat(od[1]))&&/Trident\/7.0/i.test(sd)&&/rv:11.0/.test(sd)&&(ad=11),ad),bd=/Safari/i.test(sd)&&!vd&&!hd&&!gd,Td=/Windows/i.test(sd),Sd=Boolean(isReal()&&("ontouchstart"in Su.a||Su.a.navigator.maxTouchPoints||Su.a.DocumentTouch&&Su.a.document instanceof Su.a.DocumentTouch)),wd=/iPad/i.test(sd)||bd&&Sd&&!/iPhone/i.test(sd),Ed=/iPhone/i.test(sd)&&!wd,kd=Ed||wd||cd,Cd=(bd||kd)&&!vd,xd=Object.freeze({__proto__:null,IS_IPOD:cd,IOS_VERSION:dd,IS_ANDROID:hd,ANDROID_VERSION:fd,IS_NATIVE_ANDROID:pd,IS_FIREFOX:md,IS_EDGE:gd,IS_CHROME:vd,CHROME_VERSION:yd,IE_VERSION:_d,IS_SAFARI:bd,IS_WINDOWS:Td,TOUCH_ENABLED:Sd,IS_IPAD:wd,IS_IPHONE:Ed,IS_IOS:kd,IS_ANY_SAFARI:Cd});function isNonBlankString(o){return"string"==typeof o&&Boolean(o.trim())}function throwIfWhitespace(o){if(o.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function isReal(){return Eu.a===Su.a.document}function isEl(o){return video_es_isObject(o)&&1===o.nodeType}function isInFrame(){try{return Su.a.parent!==Su.a.self}catch(o){return!0}}function createQuerier(o){return function(a,s){if(!isNonBlankString(a))return Eu.a[o](null);isNonBlankString(s)&&(s=Eu.a.querySelector(s));var u=isEl(s)?s:Eu.a;return u[o]&&u[o](a)}}function video_es_createEl(o,a,s,u){void 0===o&&(o="div"),void 0===a&&(a={}),void 0===s&&(s={});var l=Eu.a.createElement(o);return Object.getOwnPropertyNames(a).forEach((function(o){var s=a[o];-1!==o.indexOf("aria-")||"role"===o||"type"===o?(Zc.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+o+" to "+s+"."),l.setAttribute(o,s)):"textContent"===o?textContent(l,s):l[o]===s&&"tabIndex"!==o||(l[o]=s)})),Object.getOwnPropertyNames(s).forEach((function(o){l.setAttribute(o,s[o])})),u&&appendContent(l,u),l}function textContent(o,a){return void 0===o.textContent?o.innerText=a:o.textContent=a,o}function prependTo(o,a){a.firstChild?a.insertBefore(o,a.firstChild):a.appendChild(o)}function video_es_hasClass(o,a){return throwIfWhitespace(a),o.classList?o.classList.contains(a):function classRegExp(o){return new RegExp("(^|\\s)"+o+"($|\\s)")}(a).test(o.className)}function video_es_addClass(o,a){return o.classList?o.classList.add(a):video_es_hasClass(o,a)||(o.className=(o.className+" "+a).trim()),o}function video_es_removeClass(o,a){return o?(o.classList?o.classList.remove(a):(throwIfWhitespace(a),o.className=o.className.split(/\s+/).filter((function(o){return o!==a})).join(" ")),o):(Zc.warn("removeClass was called with an element that doesn't exist"),null)}function video_es_toggleClass(o,a,s){var u=video_es_hasClass(o,a);if("function"==typeof s&&(s=s(o,a)),"boolean"!=typeof s&&(s=!u),s!==u)return s?video_es_addClass(o,a):video_es_removeClass(o,a),o}function setAttributes(o,a){Object.getOwnPropertyNames(a).forEach((function(s){var u=a[s];null==u||!1===u?o.removeAttribute(s):o.setAttribute(s,!0===u?"":u)}))}function getAttributes(o){var a={},s=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(o&&o.attributes&&o.attributes.length>0)for(var u=o.attributes,l=u.length-1;l>=0;l--){var c=u[l].name,h=u[l].value;"boolean"!=typeof o[c]&&-1===s.indexOf(","+c+",")||(h=null!==h),a[c]=h}return a}function video_es_getAttribute(o,a){return o.getAttribute(a)}function video_es_setAttribute(o,a,s){o.setAttribute(a,s)}function video_es_removeAttribute(o,a){o.removeAttribute(a)}function blockTextSelection(){Eu.a.body.focus(),Eu.a.onselectstart=function(){return!1}}function unblockTextSelection(){Eu.a.onselectstart=function(){return!0}}function getBoundingClientRect(o){if(o&&o.getBoundingClientRect&&o.parentNode){var a=o.getBoundingClientRect(),s={};return["bottom","height","left","right","top","width"].forEach((function(o){void 0!==a[o]&&(s[o]=a[o])})),s.height||(s.height=parseFloat(computedStyle(o,"height"))),s.width||(s.width=parseFloat(computedStyle(o,"width"))),s}}function findPosition(o){if(!o||o&&!o.offsetParent)return{left:0,top:0,width:0,height:0};for(var a=o.offsetWidth,s=o.offsetHeight,u=0,l=0;o.offsetParent&&o!==Eu.a[Xc.fullscreenElement];)u+=o.offsetLeft,l+=o.offsetTop,o=o.offsetParent;return{left:u,top:l,width:a,height:s}}function getPointerPosition(o,a){var s={x:0,y:0};if(kd)for(var u=o;u&&"html"!==u.nodeName.toLowerCase();){var l=computedStyle(u,"transform");if(/^matrix/.test(l)){var c=l.slice(7,-1).split(/,\s/).map(Number);s.x+=c[4],s.y+=c[5]}else if(/^matrix3d/.test(l)){var h=l.slice(9,-1).split(/,\s/).map(Number);s.x+=h[12],s.y+=h[13]}u=u.parentNode}var f={},p=findPosition(a.target),m=findPosition(o),g=m.width,v=m.height,y=a.offsetY-(m.top-p.top),_=a.offsetX-(m.left-p.left);return a.changedTouches&&(_=a.changedTouches[0].pageX-m.left,y=a.changedTouches[0].pageY+m.top,kd&&(_-=s.x,y-=s.y)),f.y=1-Math.max(0,Math.min(1,y/v)),f.x=Math.max(0,Math.min(1,_/g)),f}function isTextNode(o){return video_es_isObject(o)&&3===o.nodeType}function emptyEl(o){for(;o.firstChild;)o.removeChild(o.firstChild);return o}function normalizeContent(o){return"function"==typeof o&&(o=o()),(Array.isArray(o)?o:[o]).map((function(o){return"function"==typeof o&&(o=o()),isEl(o)||isTextNode(o)?o:"string"==typeof o&&/\S/.test(o)?Eu.a.createTextNode(o):void 0})).filter((function(o){return o}))}function appendContent(o,a){return normalizeContent(a).forEach((function(a){return o.appendChild(a)})),o}function insertContent(o,a){return appendContent(emptyEl(o),a)}function isSingleLeftClick(o){return void 0===o.button&&void 0===o.buttons||(0===o.button&&void 0===o.buttons||("mouseup"===o.type&&0===o.button&&0===o.buttons||0===o.button&&1===o.buttons))}var Pd,Ad=createQuerier("querySelector"),Id=createQuerier("querySelectorAll"),Od=Object.freeze({__proto__:null,isReal:isReal,isEl:isEl,isInFrame:isInFrame,createEl:video_es_createEl,textContent:textContent,prependTo:prependTo,hasClass:video_es_hasClass,addClass:video_es_addClass,removeClass:video_es_removeClass,toggleClass:video_es_toggleClass,setAttributes:setAttributes,getAttributes:getAttributes,getAttribute:video_es_getAttribute,setAttribute:video_es_setAttribute,removeAttribute:video_es_removeAttribute,blockTextSelection:blockTextSelection,unblockTextSelection:unblockTextSelection,getBoundingClientRect:getBoundingClientRect,findPosition:findPosition,getPointerPosition:getPointerPosition,isTextNode:isTextNode,emptyEl:emptyEl,normalizeContent:normalizeContent,appendContent:appendContent,insertContent:insertContent,isSingleLeftClick:isSingleLeftClick,$:Ad,$$:Id}),Ld=!1,Md=function autoSetup(){if(!1!==Pd.options.autoSetup){var o=Array.prototype.slice.call(Eu.a.getElementsByTagName("video")),a=Array.prototype.slice.call(Eu.a.getElementsByTagName("audio")),s=Array.prototype.slice.call(Eu.a.getElementsByTagName("video-js")),u=o.concat(a,s);if(u&&u.length>0)for(var l=0,c=u.length;l<c;l++){var h=u[l];if(!h||!h.getAttribute){autoSetupTimeout(1);break}void 0===h.player&&null!==h.getAttribute("data-setup")&&Pd(h)}else Ld||autoSetupTimeout(1)}};function autoSetupTimeout(o,a){isReal()&&(a&&(Pd=a),Su.a.setTimeout(Md,o))}function setWindowLoaded(){Ld=!0,Su.a.removeEventListener("load",setWindowLoaded)}isReal()&&("complete"===Eu.a.readyState?setWindowLoaded():Su.a.addEventListener("load",setWindowLoaded));var Dd,Rd=function createStyleElement(o){var a=Eu.a.createElement("style");return a.className=o,a},Nd=function setTextContent(o,a){o.styleSheet?o.styleSheet.cssText=a:o.textContent=a},Bd=3;function newGUID(){return Bd++}Su.a.WeakMap||(Dd=function(){function FakeWeakMap(){this.vdata="vdata"+Math.floor(Su.a.performance&&Su.a.performance.now()||Date.now()),this.data={}}var o=FakeWeakMap.prototype;return o.set=function set(o,a){var s=o[this.vdata]||newGUID();return o[this.vdata]||(o[this.vdata]=s),this.data[s]=a,this},o.get=function get(o){var a=o[this.vdata];if(a)return this.data[a];Zc("We have no data for this element",o)},o.has=function has(o){return o[this.vdata]in this.data},o.delete=function _delete(o){var a=o[this.vdata];a&&(delete this.data[a],delete o[this.vdata])},FakeWeakMap}());var Fd,jd=Su.a.WeakMap?new WeakMap:new Dd;function _cleanUpEvents(o,a){if(jd.has(o)){var s=jd.get(o);0===s.handlers[a].length&&(delete s.handlers[a],o.removeEventListener?o.removeEventListener(a,s.dispatcher,!1):o.detachEvent&&o.detachEvent("on"+a,s.dispatcher)),Object.getOwnPropertyNames(s.handlers).length<=0&&(delete s.handlers,delete s.dispatcher,delete s.disabled),0===Object.getOwnPropertyNames(s).length&&jd.delete(o)}}function _handleMultipleEvents(o,a,s,u){s.forEach((function(s){o(a,s,u)}))}function fixEvent(o){if(o.fixed_)return o;function returnTrue(){return!0}function returnFalse(){return!1}if(!o||!o.isPropagationStopped||!o.isImmediatePropagationStopped){var a=o||Su.a.event;for(var s in o={},a)"layerX"!==s&&"layerY"!==s&&"keyLocation"!==s&&"webkitMovementX"!==s&&"webkitMovementY"!==s&&("returnValue"===s&&a.preventDefault||(o[s]=a[s]));if(o.target||(o.target=o.srcElement||Eu.a),o.relatedTarget||(o.relatedTarget=o.fromElement===o.target?o.toElement:o.fromElement),o.preventDefault=function(){a.preventDefault&&a.preventDefault(),o.returnValue=!1,a.returnValue=!1,o.defaultPrevented=!0},o.defaultPrevented=!1,o.stopPropagation=function(){a.stopPropagation&&a.stopPropagation(),o.cancelBubble=!0,a.cancelBubble=!0,o.isPropagationStopped=returnTrue},o.isPropagationStopped=returnFalse,o.stopImmediatePropagation=function(){a.stopImmediatePropagation&&a.stopImmediatePropagation(),o.isImmediatePropagationStopped=returnTrue,o.stopPropagation()},o.isImmediatePropagationStopped=returnFalse,null!==o.clientX&&void 0!==o.clientX){var u=Eu.a.documentElement,l=Eu.a.body;o.pageX=o.clientX+(u&&u.scrollLeft||l&&l.scrollLeft||0)-(u&&u.clientLeft||l&&l.clientLeft||0),o.pageY=o.clientY+(u&&u.scrollTop||l&&l.scrollTop||0)-(u&&u.clientTop||l&&l.clientTop||0)}o.which=o.charCode||o.keyCode,null!==o.button&&void 0!==o.button&&(o.button=1&o.button?0:4&o.button?1:2&o.button?2:0)}return o.fixed_=!0,o}var Ud=["touchstart","touchmove"];function on(o,a,s){if(Array.isArray(a))return _handleMultipleEvents(on,o,a,s);jd.has(o)||jd.set(o,{});var u=jd.get(o);if(u.handlers||(u.handlers={}),u.handlers[a]||(u.handlers[a]=[]),s.guid||(s.guid=newGUID()),u.handlers[a].push(s),u.dispatcher||(u.disabled=!1,u.dispatcher=function(a,s){if(!u.disabled){a=fixEvent(a);var l=u.handlers[a.type];if(l)for(var c=l.slice(0),h=0,f=c.length;h<f&&!a.isImmediatePropagationStopped();h++)try{c[h].call(o,a,s)}catch(o){Zc.error(o)}}}),1===u.handlers[a].length)if(o.addEventListener){var l=!1;(function supportsPassive(){if("boolean"!=typeof Fd){Fd=!1;try{var o=Object.defineProperty({},"passive",{get:function get(){Fd=!0}});Su.a.addEventListener("test",null,o),Su.a.removeEventListener("test",null,o)}catch(o){}}return Fd})()&&Ud.indexOf(a)>-1&&(l={passive:!0}),o.addEventListener(a,u.dispatcher,l)}else o.attachEvent&&o.attachEvent("on"+a,u.dispatcher)}function off(o,a,s){if(jd.has(o)){var u=jd.get(o);if(u.handlers){if(Array.isArray(a))return _handleMultipleEvents(off,o,a,s);var l=function removeType(o,a){u.handlers[a]=[],_cleanUpEvents(o,a)};if(void 0!==a){var c=u.handlers[a];if(c)if(s){if(s.guid)for(var h=0;h<c.length;h++)c[h].guid===s.guid&&c.splice(h--,1);_cleanUpEvents(o,a)}else l(o,a)}else for(var f in u.handlers)Object.prototype.hasOwnProperty.call(u.handlers||{},f)&&l(o,f)}}}function video_es_trigger(o,a,s){var u=jd.has(o)?jd.get(o):{},l=o.parentNode||o.ownerDocument;if("string"==typeof a?a={type:a,target:o}:a.target||(a.target=o),a=fixEvent(a),u.dispatcher&&u.dispatcher.call(o,a,s),l&&!a.isPropagationStopped()&&!0===a.bubbles)video_es_trigger.call(null,l,a,s);else if(!l&&!a.defaultPrevented&&a.target&&a.target[a.type]){jd.has(a.target)||jd.set(a.target,{});var c=jd.get(a.target);a.target[a.type]&&(c.disabled=!0,"function"==typeof a.target[a.type]&&a.target[a.type](),c.disabled=!1)}return!a.defaultPrevented}function one(o,a,s){if(Array.isArray(a))return _handleMultipleEvents(one,o,a,s);var u=function func(){off(o,a,func),s.apply(this,arguments)};u.guid=s.guid=s.guid||newGUID(),on(o,a,u)}function any(o,a,s){var u=function func(){off(o,a,func),s.apply(this,arguments)};u.guid=s.guid=s.guid||newGUID(),on(o,a,u)}var Hd,qd=Object.freeze({__proto__:null,fixEvent:fixEvent,on:on,off:off,trigger:video_es_trigger,one:one,any:any}),Vd=30,Wd=function bind(o,a,s){a.guid||(a.guid=newGUID());var u=a.bind(o);return u.guid=s?s+"_"+a.guid:a.guid,u},zd=function throttle(o,a){var s=Su.a.performance.now();return function throttled(){var u=Su.a.performance.now();u-s>=a&&(o.apply(void 0,arguments),s=u)}},Gd=function EventTarget(){};Gd.prototype.allowedEvents_={},Gd.prototype.on=function(o,a){var s=this.addEventListener;this.addEventListener=function(){},on(this,o,a),this.addEventListener=s},Gd.prototype.addEventListener=Gd.prototype.on,Gd.prototype.off=function(o,a){off(this,o,a)},Gd.prototype.removeEventListener=Gd.prototype.off,Gd.prototype.one=function(o,a){var s=this.addEventListener;this.addEventListener=function(){},one(this,o,a),this.addEventListener=s},Gd.prototype.any=function(o,a){var s=this.addEventListener;this.addEventListener=function(){},any(this,o,a),this.addEventListener=s},Gd.prototype.trigger=function(o){var a=o.type||o;"string"==typeof o&&(o={type:a}),o=fixEvent(o),this.allowedEvents_[a]&&this["on"+a]&&this["on"+a](o),video_es_trigger(this,o)},Gd.prototype.dispatchEvent=Gd.prototype.trigger,Gd.prototype.queueTrigger=function(o){var a=this;Hd||(Hd=new Map);var s=o.type||o,u=Hd.get(this);u||(u=new Map,Hd.set(this,u));var l=u.get(s);u.delete(s),Su.a.clearTimeout(l);var c=Su.a.setTimeout((function(){0===u.size&&(u=null,Hd.delete(a)),a.trigger(o)}),0);u.set(s,c)};var Xd=function objName(o){return"function"==typeof o.name?o.name():"string"==typeof o.name?o.name:o.name_?o.name_:o.constructor&&o.constructor.name?o.constructor.name:typeof o},Yd=function isEvented(o){return o instanceof Gd||!!o.eventBusEl_&&["on","one","off","trigger"].every((function(a){return"function"==typeof o[a]}))},$d=function isValidEventType(o){return"string"==typeof o&&/\S/.test(o)||Array.isArray(o)&&!!o.length},Kd=function validateTarget(o,a,s){if(!o||!o.nodeName&&!Yd(o))throw new Error("Invalid target for "+Xd(a)+"#"+s+"; must be a DOM node or evented object.")},Qd=function validateEventType(o,a,s){if(!$d(o))throw new Error("Invalid event type for "+Xd(a)+"#"+s+"; must be a non-empty string or array.")},Jd=function validateListener(o,a,s){if("function"!=typeof o)throw new Error("Invalid listener for "+Xd(a)+"#"+s+"; must be a function.")},Zd=function normalizeListenArgs(o,a,s){var u,l,c,h=a.length<3||a[0]===o||a[0]===o.eventBusEl_;return h?(u=o.eventBusEl_,a.length>=3&&a.shift(),l=a[0],c=a[1]):(u=a[0],l=a[1],c=a[2]),Kd(u,o,s),Qd(l,o,s),Jd(c,o,s),{isTargetingSelf:h,target:u,type:l,listener:c=Wd(o,c)}},eh=function listen(o,a,s,u){Kd(o,o,a),o.nodeName?qd[a](o,s,u):o[a](s,u)},th={on:function on(){for(var o=this,a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];var l=Zd(this,s,"on"),c=l.isTargetingSelf,h=l.target,f=l.type,p=l.listener;if(eh(h,"on",f,p),!c){var m=function removeListenerOnDispose(){return o.off(h,f,p)};m.guid=p.guid;var g=function removeRemoverOnTargetDispose(){return o.off("dispose",m)};g.guid=p.guid,eh(this,"on","dispose",m),eh(h,"on","dispose",g)}},one:function one(){for(var o=this,a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];var l=Zd(this,s,"one"),c=l.isTargetingSelf,h=l.target,f=l.type,p=l.listener;if(c)eh(h,"one",f,p);else{var m=function wrapper(){o.off(h,f,wrapper);for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];p.apply(null,s)};m.guid=p.guid,eh(h,"one",f,m)}},any:function any(){for(var o=this,a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];var l=Zd(this,s,"any"),c=l.isTargetingSelf,h=l.target,f=l.type,p=l.listener;if(c)eh(h,"any",f,p);else{var m=function wrapper(){o.off(h,f,wrapper);for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];p.apply(null,s)};m.guid=p.guid,eh(h,"any",f,m)}},off:function off$1(o,a,s){if(!o||$d(o))off(this.eventBusEl_,o,a);else{var u=o,l=a;Kd(u,this,"off"),Qd(l,this,"off"),Jd(s,this,"off"),s=Wd(this,s),this.off("dispose",s),u.nodeName?(off(u,l,s),off(u,"dispose",s)):Yd(u)&&(u.off(l,s),u.off("dispose",s))}},trigger:function trigger$1(o,a){Kd(this.eventBusEl_,this,"trigger");var s=o&&"string"!=typeof o?o.type:o;if(!$d(s)){var u="Invalid event type for "+Xd(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(!o)throw new Error(u);(this.log||Zc).error(u)}return video_es_trigger(this.eventBusEl_,o,a)}};function evented(o,a){void 0===a&&(a={});var s=a.eventBusKey;if(s){if(!o[s].nodeName)throw new Error('The eventBusKey "'+s+'" does not refer to an element.');o.eventBusEl_=o[s]}else o.eventBusEl_=video_es_createEl("span",{className:"vjs-event-bus"});return video_es_assign(o,th),o.eventedCallbacks&&o.eventedCallbacks.forEach((function(o){o()})),o.on("dispose",(function(){o.off(),[o,o.el_,o.eventBusEl_].forEach((function(o){o&&jd.has(o)&&jd.delete(o)})),Su.a.setTimeout((function(){o.eventBusEl_=null}),0)})),o}var nh={state:{},setState:function setState(o){var a,s=this;return"function"==typeof o&&(o=o()),each(o,(function(o,u){s.state[u]!==o&&((a=a||{})[u]={from:s.state[u],to:o}),s.state[u]=o})),a&&Yd(this)&&this.trigger({changes:a,type:"statechanged"}),a}};function stateful(o,a){return video_es_assign(o,nh),o.state=video_es_assign({},o.state,a),"function"==typeof o.handleStateChanged&&Yd(o)&&o.on("statechanged",o.handleStateChanged),o}var rh=function toLowerCase(o){return"string"!=typeof o?o:o.replace(/./,(function(o){return o.toLowerCase()}))},ih=function toTitleCase(o){return"string"!=typeof o?o:o.replace(/./,(function(o){return o.toUpperCase()}))};function mergeOptions$3(){for(var o={},a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];return s.forEach((function(a){a&&each(a,(function(a,s){isPlain(a)?(isPlain(o[s])||(o[s]={}),o[s]=mergeOptions$3(o[s],a)):o[s]=a}))})),o}var oh=function(){function MapSham(){this.map_={}}var o=MapSham.prototype;return o.has=function has(o){return o in this.map_},o.delete=function _delete(o){var a=this.has(o);return delete this.map_[o],a},o.set=function set(o,a){return this.map_[o]=a,this},o.forEach=function forEach(o,a){for(var s in this.map_)o.call(a,this.map_[s],s,this)},MapSham}(),ah=Su.a.Map?Su.a.Map:oh,sh=function(){function SetSham(){this.set_={}}var o=SetSham.prototype;return o.has=function has(o){return o in this.set_},o.delete=function _delete(o){var a=this.has(o);return delete this.set_[o],a},o.add=function add(o){return this.set_[o]=1,this},o.forEach=function forEach(o,a){for(var s in this.set_)o.call(a,s,s,this)},SetSham}(),uh=Su.a.Set?Su.a.Set:sh,lh=function(){function Component(o,a,s){if(!o&&this.play?this.player_=o=this:this.player_=o,this.isDisposed_=!1,this.parentComponent_=null,this.options_=mergeOptions$3({},this.options_),a=this.options_=mergeOptions$3(this.options_,a),this.id_=a.id||a.el&&a.el.id,!this.id_){var u=o&&o.id&&o.id()||"no_player";this.id_=u+"_component_"+newGUID()}this.name_=a.name||null,a.el?this.el_=a.el:!1!==a.createEl&&(this.el_=this.createEl()),!1!==a.evented&&(evented(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),stateful(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new uh,this.setIntervalIds_=new uh,this.rafIds_=new uh,this.namedRafs_=new ah,this.clearingTimersOnDispose_=!1,!1!==a.initChildren&&this.initChildren(),this.ready(s),!1!==a.reportTouchActivity&&this.enableTouchActivity()}var o=Component.prototype;return o.dispose=function dispose(){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var o=this.children_.length-1;o>=0;o--)this.children_[o].dispose&&this.children_[o].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),this.el_=null),this.player_=null}},o.isDisposed=function isDisposed(){return Boolean(this.isDisposed_)},o.player=function player(){return this.player_},o.options=function options(o){return o?(this.options_=mergeOptions$3(this.options_,o),this.options_):this.options_},o.el=function el(){return this.el_},o.createEl=function createEl$1(o,a,s){return video_es_createEl(o,a,s)},o.localize=function localize(o,a,s){void 0===s&&(s=o);var u=this.player_.language&&this.player_.language(),l=this.player_.languages&&this.player_.languages(),c=l&&l[u],h=u&&u.split("-")[0],f=l&&l[h],p=s;return c&&c[o]?p=c[o]:f&&f[o]&&(p=f[o]),a&&(p=p.replace(/\{(\d+)\}/g,(function(o,s){var u=a[s-1],l=u;return void 0===u&&(l=o),l}))),p},o.handleLanguagechange=function handleLanguagechange(){},o.contentEl=function contentEl(){return this.contentEl_||this.el_},o.id=function id(){return this.id_},o.name=function name(){return this.name_},o.children=function children(){return this.children_},o.getChildById=function getChildById(o){return this.childIndex_[o]},o.getChild=function getChild(o){if(o)return this.childNameIndex_[o]},o.getDescendant=function getDescendant(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];a=a.reduce((function(o,a){return o.concat(a)}),[]);for(var u=this,l=0;l<a.length;l++)if(!(u=u.getChild(a[l]))||!u.getChild)return;return u},o.addChild=function addChild(o,a,s){var u,l;if(void 0===a&&(a={}),void 0===s&&(s=this.children_.length),"string"==typeof o){l=ih(o);var c=a.componentClass||l;a.name=l;var h=Component.getComponent(c);if(!h)throw new Error("Component "+c+" does not exist");if("function"!=typeof h)return null;u=new h(this.player_||this,a)}else u=o;if(u.parentComponent_&&u.parentComponent_.removeChild(u),this.children_.splice(s,0,u),u.parentComponent_=this,"function"==typeof u.id&&(this.childIndex_[u.id()]=u),(l=l||u.name&&ih(u.name()))&&(this.childNameIndex_[l]=u,this.childNameIndex_[rh(l)]=u),"function"==typeof u.el&&u.el()){var f=null;this.children_[s+1]&&(this.children_[s+1].el_?f=this.children_[s+1].el_:isEl(this.children_[s+1])&&(f=this.children_[s+1])),this.contentEl().insertBefore(u.el(),f)}return u},o.removeChild=function removeChild(o){if("string"==typeof o&&(o=this.getChild(o)),o&&this.children_){for(var a=!1,s=this.children_.length-1;s>=0;s--)if(this.children_[s]===o){a=!0,this.children_.splice(s,1);break}if(a){o.parentComponent_=null,this.childIndex_[o.id()]=null,this.childNameIndex_[ih(o.name())]=null,this.childNameIndex_[rh(o.name())]=null;var u=o.el();u&&u.parentNode===this.contentEl()&&this.contentEl().removeChild(o.el())}}},o.initChildren=function initChildren(){var o=this,a=this.options_.children;if(a){var s,u=this.options_,l=Component.getComponent("Tech");(s=Array.isArray(a)?a:Object.keys(a)).concat(Object.keys(this.options_).filter((function(o){return!s.some((function(a){return"string"==typeof a?o===a:o===a.name}))}))).map((function(s){var u,l;return"string"==typeof s?l=a[u=s]||o.options_[u]||{}:(u=s.name,l=s),{name:u,opts:l}})).filter((function(o){var a=Component.getComponent(o.opts.componentClass||ih(o.name));return a&&!l.isTech(a)})).forEach((function handleAdd(a){var s=a.name,l=a.opts;if(void 0!==u[s]&&(l=u[s]),!1!==l){!0===l&&(l={}),l.playerOptions=o.options_.playerOptions;var c=o.addChild(s,l);c&&(o[s]=c)}}))}},o.buildCSSClass=function buildCSSClass(){return""},o.ready=function ready(o,a){if(void 0===a&&(a=!1),o)return this.isReady_?void(a?o.call(this):this.setTimeout(o,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(o))},o.triggerReady=function triggerReady(){this.isReady_=!0,this.setTimeout((function(){var o=this.readyQueue_;this.readyQueue_=[],o&&o.length>0&&o.forEach((function(o){o.call(this)}),this),this.trigger("ready")}),1)},o.$=function $$1(o,a){return Ad(o,a||this.contentEl())},o.$$=function $$$1(o,a){return Id(o,a||this.contentEl())},o.hasClass=function hasClass$1(o){return video_es_hasClass(this.el_,o)},o.addClass=function addClass$1(o){video_es_addClass(this.el_,o)},o.removeClass=function removeClass$1(o){video_es_removeClass(this.el_,o)},o.toggleClass=function toggleClass$1(o,a){video_es_toggleClass(this.el_,o,a)},o.show=function show(){this.removeClass("vjs-hidden")},o.hide=function hide(){this.addClass("vjs-hidden")},o.lockShowing=function lockShowing(){this.addClass("vjs-lock-showing")},o.unlockShowing=function unlockShowing(){this.removeClass("vjs-lock-showing")},o.getAttribute=function getAttribute$1(o){return video_es_getAttribute(this.el_,o)},o.setAttribute=function setAttribute$1(o,a){video_es_setAttribute(this.el_,o,a)},o.removeAttribute=function removeAttribute$1(o){video_es_removeAttribute(this.el_,o)},o.width=function width(o,a){return this.dimension("width",o,a)},o.height=function height(o,a){return this.dimension("height",o,a)},o.dimensions=function dimensions(o,a){this.width(o,!0),this.height(a)},o.dimension=function dimension(o,a,s){if(void 0!==a)return null!==a&&a==a||(a=0),-1!==(""+a).indexOf("%")||-1!==(""+a).indexOf("px")?this.el_.style[o]=a:this.el_.style[o]="auto"===a?"":a+"px",void(s||this.trigger("componentresize"));if(!this.el_)return 0;var u=this.el_.style[o],l=u.indexOf("px");return-1!==l?parseInt(u.slice(0,l),10):parseInt(this.el_["offset"+ih(o)],10)},o.currentDimension=function currentDimension(o){var a=0;if("width"!==o&&"height"!==o)throw new Error("currentDimension only accepts width or height value");if(a=computedStyle(this.el_,o),0===(a=parseFloat(a))||isNaN(a)){var s="offset"+ih(o);a=this.el_[s]}return a},o.currentDimensions=function currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},o.currentWidth=function currentWidth(){return this.currentDimension("width")},o.currentHeight=function currentHeight(){return this.currentDimension("height")},o.focus=function focus(){this.el_.focus()},o.blur=function blur(){this.el_.blur()},o.handleKeyDown=function handleKeyDown(o){this.player_&&(o.stopPropagation(),this.player_.handleKeyDown(o))},o.handleKeyPress=function handleKeyPress(o){this.handleKeyDown(o)},o.emitTapEvents=function emitTapEvents(){var o,a=0,s=null;this.on("touchstart",(function(u){1===u.touches.length&&(s={pageX:u.touches[0].pageX,pageY:u.touches[0].pageY},a=Su.a.performance.now(),o=!0)})),this.on("touchmove",(function(a){if(a.touches.length>1)o=!1;else if(s){var u=a.touches[0].pageX-s.pageX,l=a.touches[0].pageY-s.pageY;Math.sqrt(u*u+l*l)>10&&(o=!1)}}));var u=function noTap(){o=!1};this.on("touchleave",u),this.on("touchcancel",u),this.on("touchend",(function(u){(s=null,!0===o)&&(Su.a.performance.now()-a<200&&(u.preventDefault(),this.trigger("tap")))}))},o.enableTouchActivity=function enableTouchActivity(){if(this.player()&&this.player().reportUserActivity){var o,a=Wd(this.player(),this.player().reportUserActivity);this.on("touchstart",(function(){a(),this.clearInterval(o),o=this.setInterval(a,250)}));var s=function touchEnd(s){a(),this.clearInterval(o)};this.on("touchmove",a),this.on("touchend",s),this.on("touchcancel",s)}},o.setTimeout=function setTimeout(o,a){var s,u=this;return o=Wd(this,o),this.clearTimersOnDispose_(),s=Su.a.setTimeout((function(){u.setTimeoutIds_.has(s)&&u.setTimeoutIds_.delete(s),o()}),a),this.setTimeoutIds_.add(s),s},o.clearTimeout=function clearTimeout(o){return this.setTimeoutIds_.has(o)&&(this.setTimeoutIds_.delete(o),Su.a.clearTimeout(o)),o},o.setInterval=function setInterval(o,a){o=Wd(this,o),this.clearTimersOnDispose_();var s=Su.a.setInterval(o,a);return this.setIntervalIds_.add(s),s},o.clearInterval=function clearInterval(o){return this.setIntervalIds_.has(o)&&(this.setIntervalIds_.delete(o),Su.a.clearInterval(o)),o},o.requestAnimationFrame=function requestAnimationFrame(o){var a,s=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),o=Wd(this,o),a=Su.a.requestAnimationFrame((function(){s.rafIds_.has(a)&&s.rafIds_.delete(a),o()})),this.rafIds_.add(a),a):this.setTimeout(o,1e3/60)},o.requestNamedAnimationFrame=function requestNamedAnimationFrame(o,a){var s=this;if(!this.namedRafs_.has(o)){this.clearTimersOnDispose_(),a=Wd(this,a);var u=this.requestAnimationFrame((function(){a(),s.namedRafs_.has(o)&&s.namedRafs_.delete(o)}));return this.namedRafs_.set(o,u),o}},o.cancelNamedAnimationFrame=function cancelNamedAnimationFrame(o){this.namedRafs_.has(o)&&(this.cancelAnimationFrame(this.namedRafs_.get(o)),this.namedRafs_.delete(o))},o.cancelAnimationFrame=function cancelAnimationFrame(o){return this.supportsRaf_?(this.rafIds_.has(o)&&(this.rafIds_.delete(o),Su.a.cancelAnimationFrame(o)),o):this.clearTimeout(o)},o.clearTimersOnDispose_=function clearTimersOnDispose_(){var o=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",(function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach((function(a){var s=a[0],u=a[1];o[s].forEach((function(a,s){return o[u](s)}))})),o.clearingTimersOnDispose_=!1})))},Component.registerComponent=function registerComponent(o,a){if("string"!=typeof o||!o)throw new Error('Illegal component name, "'+o+'"; must be a non-empty string.');var s,u=Component.getComponent("Tech"),l=u&&u.isTech(a),c=Component===a||Component.prototype.isPrototypeOf(a.prototype);if(l||!c)throw s=l?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+o+'"; '+s+".");o=ih(o),Component.components_||(Component.components_={});var h=Component.getComponent("Player");if("Player"===o&&h&&h.players){var f=h.players,p=Object.keys(f);if(f&&p.length>0&&p.map((function(o){return f[o]})).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return Component.components_[o]=a,Component.components_[rh(o)]=a,a},Component.getComponent=function getComponent(o){if(o&&Component.components_)return Component.components_[o]},Component}();function getRange(o,a,s,u){return function rangeCheck(o,a,s){if("number"!=typeof a||a<0||a>s)throw new Error("Failed to execute '"+o+"' on 'TimeRanges': The index provided ("+a+") is non-numeric or out of bounds (0-"+s+").")}(o,u,s.length-1),s[u][a]}function createTimeRangesObj(o){var a;return a=void 0===o||0===o.length?{length:0,start:function start(){throw new Error("This TimeRanges object is empty")},end:function end(){throw new Error("This TimeRanges object is empty")}}:{length:o.length,start:getRange.bind(null,"start",0,o),end:getRange.bind(null,"end",1,o)},Su.a.Symbol&&Su.a.Symbol.iterator&&(a[Su.a.Symbol.iterator]=function(){return(o||[]).values()}),a}function createTimeRanges(o,a){return Array.isArray(o)?createTimeRangesObj(o):void 0===o||void 0===a?createTimeRangesObj():createTimeRangesObj([[o,a]])}function bufferedPercent(o,a){var s,u,l=0;if(!a)return 0;o&&o.length||(o=createTimeRanges(0,0));for(var c=0;c<o.length;c++)s=o.start(c),(u=o.end(c))>a&&(u=a),l+=u-s;return l/a}function MediaError(o){if(o instanceof MediaError)return o;"number"==typeof o?this.code=o:"string"==typeof o?this.message=o:video_es_isObject(o)&&("number"==typeof o.code&&(this.code=o.code),video_es_assign(this,o)),this.message||(this.message=MediaError.defaultMessages[this.code]||"")}lh.prototype.supportsRaf_="function"==typeof Su.a.requestAnimationFrame&&"function"==typeof Su.a.cancelAnimationFrame,lh.registerComponent("Component",lh),MediaError.prototype.code=0,MediaError.prototype.message="",MediaError.prototype.status=null,MediaError.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],MediaError.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var ch=0;ch<MediaError.errorTypes.length;ch++)MediaError[MediaError.errorTypes[ch]]=ch,MediaError.prototype[MediaError.errorTypes[ch]]=ch;function isPromise(o){return null!=o&&"function"==typeof o.then}function silencePromise(o){isPromise(o)&&o.then(null,(function(o){}))}var dh=function trackToJson_(o){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((function(a,s,u){return o[s]&&(a[s]=o[s]),a}),{cues:o.cues&&Array.prototype.map.call(o.cues,(function(o){return{startTime:o.startTime,endTime:o.endTime,text:o.text,id:o.id}}))})},hh=function textTracksToJson(o){var a=o.$$("track"),s=Array.prototype.map.call(a,(function(o){return o.track}));return Array.prototype.map.call(a,(function(o){var a=dh(o.track);return o.src&&(a.src=o.src),a})).concat(Array.prototype.filter.call(o.textTracks(),(function(o){return-1===s.indexOf(o)})).map(dh))},fh=function jsonToTextTracks(o,a){return o.forEach((function(o){var s=a.addRemoteTextTrack(o).track;!o.src&&o.cues&&o.cues.forEach((function(o){return s.addCue(o)}))})),a.textTracks()},ph=function(o){function ModalDialog(a,s){var u;return(u=o.call(this,a,s)||this).handleKeyDown_=function(o){return u.handleKeyDown(o)},u.close_=function(o){return u.close(o)},u.opened_=u.hasBeenOpened_=u.hasBeenFilled_=!1,u.closeable(!u.options_.uncloseable),u.content(u.options_.content),u.contentEl_=video_es_createEl("div",{className:"vjs-modal-dialog-content"},{role:"document"}),u.descEl_=video_es_createEl("p",{className:"vjs-modal-dialog-description vjs-control-text",id:u.el().getAttribute("aria-describedby")}),textContent(u.descEl_,u.description()),u.el_.appendChild(u.descEl_),u.el_.appendChild(u.contentEl_),u}Iu()(ModalDialog,o);var a=ModalDialog.prototype;return a.createEl=function createEl(){return o.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},a.dispose=function dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,o.prototype.dispose.call(this)},a.buildCSSClass=function buildCSSClass(){return"vjs-modal-dialog vjs-hidden "+o.prototype.buildCSSClass.call(this)},a.label=function label(){return this.localize(this.options_.label||"Modal Window")},a.description=function description(){var o=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(o+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),o},a.open=function open(){if(!this.opened_){var o=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!o.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&o.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=o.controls(),o.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},a.opened=function opened(o){return"boolean"==typeof o&&this[o?"open":"close"](),this.opened_},a.close=function close(){if(this.opened_){var o=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&o.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&o.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},a.closeable=function closeable(o){if("boolean"==typeof o){var closeable=this.closeable_=!!o,a=this.getChild("closeButton");if(closeable&&!a){var s=this.contentEl_;this.contentEl_=this.el_,a=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=s,this.on(a,"close",this.close_)}!closeable&&a&&(this.off(a,"close",this.close_),this.removeChild(a),a.dispose())}return this.closeable_},a.fill=function fill(){this.fillWith(this.content())},a.fillWith=function fillWith(o){var a=this.contentEl(),s=a.parentNode,u=a.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,s.removeChild(a),this.empty(),insertContent(a,o),this.trigger("modalfill"),u?s.insertBefore(a,u):s.appendChild(a);var l=this.getChild("closeButton");l&&s.appendChild(l.el_)},a.empty=function empty(){this.trigger("beforemodalempty"),emptyEl(this.contentEl()),this.trigger("modalempty")},a.content=function content(o){return void 0!==o&&(this.content_=o),this.content_},a.conditionalFocus_=function conditionalFocus_(){var o=Eu.a.activeElement,a=this.player_.el_;this.previouslyActiveEl_=null,(a.contains(o)||a===o)&&(this.previouslyActiveEl_=o,this.focus())},a.conditionalBlur_=function conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},a.handleKeyDown=function handleKeyDown(o){if(o.stopPropagation(),Du.a.isEventKey(o,"Escape")&&this.closeable())return o.preventDefault(),void this.close();if(Du.a.isEventKey(o,"Tab")){for(var a,s=this.focusableEls_(),u=this.el_.querySelector(":focus"),l=0;l<s.length;l++)if(u===s[l]){a=l;break}Eu.a.activeElement===this.el_&&(a=0),o.shiftKey&&0===a?(s[s.length-1].focus(),o.preventDefault()):o.shiftKey||a!==s.length-1||(s[0].focus(),o.preventDefault())}},a.focusableEls_=function focusableEls_(){var o=this.el_.querySelectorAll("*");return Array.prototype.filter.call(o,(function(o){return(o instanceof Su.a.HTMLAnchorElement||o instanceof Su.a.HTMLAreaElement)&&o.hasAttribute("href")||(o instanceof Su.a.HTMLInputElement||o instanceof Su.a.HTMLSelectElement||o instanceof Su.a.HTMLTextAreaElement||o instanceof Su.a.HTMLButtonElement)&&!o.hasAttribute("disabled")||o instanceof Su.a.HTMLIFrameElement||o instanceof Su.a.HTMLObjectElement||o instanceof Su.a.HTMLEmbedElement||o.hasAttribute("tabindex")&&-1!==o.getAttribute("tabindex")||o.hasAttribute("contenteditable")}))},ModalDialog}(lh);ph.prototype.options_={pauseOnOpen:!0,temporary:!0},lh.registerComponent("ModalDialog",ph);var mh=function(o){function TrackList(a){var s;void 0===a&&(a=[]),(s=o.call(this)||this).tracks_=[],Object.defineProperty(Pu()(s),"length",{get:function get(){return this.tracks_.length}});for(var u=0;u<a.length;u++)s.addTrack(a[u]);return s}Iu()(TrackList,o);var a=TrackList.prototype;return a.addTrack=function addTrack(o){var a=this,s=this.tracks_.length;""+s in this||Object.defineProperty(this,s,{get:function get(){return this.tracks_[s]}}),-1===this.tracks_.indexOf(o)&&(this.tracks_.push(o),this.trigger({track:o,type:"addtrack",target:this})),o.labelchange_=function(){a.trigger({track:o,type:"labelchange",target:a})},Yd(o)&&o.addEventListener("labelchange",o.labelchange_)},a.removeTrack=function removeTrack(o){for(var a,s=0,u=this.length;s<u;s++)if(this[s]===o){(a=this[s]).off&&a.off(),this.tracks_.splice(s,1);break}a&&this.trigger({track:a,type:"removetrack",target:this})},a.getTrackById=function getTrackById(o){for(var a=null,s=0,u=this.length;s<u;s++){var l=this[s];if(l.id===o){a=l;break}}return a},TrackList}(Gd);for(var gh in mh.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"},mh.prototype.allowedEvents_)mh.prototype["on"+gh]=null;var vh=function disableOthers(o,a){for(var s=0;s<o.length;s++)Object.keys(o[s]).length&&a.id!==o[s].id&&(o[s].enabled=!1)},yh=function(o){function AudioTrackList(a){var s;void 0===a&&(a=[]);for(var u=a.length-1;u>=0;u--)if(a[u].enabled){vh(a,a[u]);break}return(s=o.call(this,a)||this).changing_=!1,s}Iu()(AudioTrackList,o);var a=AudioTrackList.prototype;return a.addTrack=function addTrack(a){var s=this;a.enabled&&vh(this,a),o.prototype.addTrack.call(this,a),a.addEventListener&&(a.enabledChange_=function(){s.changing_||(s.changing_=!0,vh(s,a),s.changing_=!1,s.trigger("change"))},a.addEventListener("enabledchange",a.enabledChange_))},a.removeTrack=function removeTrack(a){o.prototype.removeTrack.call(this,a),a.removeEventListener&&a.enabledChange_&&(a.removeEventListener("enabledchange",a.enabledChange_),a.enabledChange_=null)},AudioTrackList}(mh),_h=function disableOthers(o,a){for(var s=0;s<o.length;s++)Object.keys(o[s]).length&&a.id!==o[s].id&&(o[s].selected=!1)},bh=function(o){function VideoTrackList(a){var s;void 0===a&&(a=[]);for(var u=a.length-1;u>=0;u--)if(a[u].selected){_h(a,a[u]);break}return(s=o.call(this,a)||this).changing_=!1,Object.defineProperty(Pu()(s),"selectedIndex",{get:function get(){for(var o=0;o<this.length;o++)if(this[o].selected)return o;return-1},set:function set(){}}),s}Iu()(VideoTrackList,o);var a=VideoTrackList.prototype;return a.addTrack=function addTrack(a){var s=this;a.selected&&_h(this,a),o.prototype.addTrack.call(this,a),a.addEventListener&&(a.selectedChange_=function(){s.changing_||(s.changing_=!0,_h(s,a),s.changing_=!1,s.trigger("change"))},a.addEventListener("selectedchange",a.selectedChange_))},a.removeTrack=function removeTrack(a){o.prototype.removeTrack.call(this,a),a.removeEventListener&&a.selectedChange_&&(a.removeEventListener("selectedchange",a.selectedChange_),a.selectedChange_=null)},VideoTrackList}(mh),Th=function(o){function TextTrackList(){return o.apply(this,arguments)||this}Iu()(TextTrackList,o);var a=TextTrackList.prototype;return a.addTrack=function addTrack(a){var s=this;o.prototype.addTrack.call(this,a),this.queueChange_||(this.queueChange_=function(){return s.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return s.trigger("selectedlanguagechange")}),a.addEventListener("modechange",this.queueChange_);-1===["metadata","chapters"].indexOf(a.kind)&&a.addEventListener("modechange",this.triggerSelectedlanguagechange_)},a.removeTrack=function removeTrack(a){o.prototype.removeTrack.call(this,a),a.removeEventListener&&(this.queueChange_&&a.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&a.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},TextTrackList}(mh),Sh=function(){function HtmlTrackElementList(o){void 0===o&&(o=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function get(){return this.trackElements_.length}});for(var a=0,s=o.length;a<s;a++)this.addTrackElement_(o[a])}var o=HtmlTrackElementList.prototype;return o.addTrackElement_=function addTrackElement_(o){var a=this.trackElements_.length;""+a in this||Object.defineProperty(this,a,{get:function get(){return this.trackElements_[a]}}),-1===this.trackElements_.indexOf(o)&&this.trackElements_.push(o)},o.getTrackElementByTrack_=function getTrackElementByTrack_(o){for(var a,s=0,u=this.trackElements_.length;s<u;s++)if(o===this.trackElements_[s].track){a=this.trackElements_[s];break}return a},o.removeTrackElement_=function removeTrackElement_(o){for(var a=0,s=this.trackElements_.length;a<s;a++)if(o===this.trackElements_[a]){this.trackElements_[a].track&&"function"==typeof this.trackElements_[a].track.off&&this.trackElements_[a].track.off(),"function"==typeof this.trackElements_[a].off&&this.trackElements_[a].off(),this.trackElements_.splice(a,1);break}},HtmlTrackElementList}(),wh=function(){function TextTrackCueList(o){TextTrackCueList.prototype.setCues_.call(this,o),Object.defineProperty(this,"length",{get:function get(){return this.length_}})}var o=TextTrackCueList.prototype;return o.setCues_=function setCues_(o){var a=this.length||0,s=0,u=o.length;this.cues_=o,this.length_=o.length;var l=function defineProp(o){""+o in this||Object.defineProperty(this,""+o,{get:function get(){return this.cues_[o]}})};if(a<u)for(s=a;s<u;s++)l.call(this,s)},o.getCueById=function getCueById(o){for(var a=null,s=0,u=this.length;s<u;s++){var l=this[s];if(l.id===o){a=l;break}}return a},TextTrackCueList}(),Eh={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},kh={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Ch={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},xh={disabled:"disabled",hidden:"hidden",showing:"showing"},Ph=function(o){function Track(a){var s;void 0===a&&(a={}),s=o.call(this)||this;var u={id:a.id||"vjs_track_"+newGUID(),kind:a.kind||"",language:a.language||""},l=a.label||"",c=function _loop(o){Object.defineProperty(Pu()(s),o,{get:function get(){return u[o]},set:function set(){}})};for(var h in u)c(h);return Object.defineProperty(Pu()(s),"label",{get:function get(){return l},set:function set(o){o!==l&&(l=o,this.trigger("labelchange"))}}),s}return Iu()(Track,o),Track}(Gd),Ah=function parseUrl(o){var a=["protocol","hostname","port","pathname","search","hash","host"],s=Eu.a.createElement("a");s.href=o;for(var u={},l=0;l<a.length;l++)u[a[l]]=s[a[l]];return"http:"===u.protocol&&(u.host=u.host.replace(/:80$/,"")),"https:"===u.protocol&&(u.host=u.host.replace(/:443$/,"")),u.protocol||(u.protocol=Su.a.location.protocol),u.host||(u.host=Su.a.location.host),u},Ih=function getAbsoluteURL(o){if(!o.match(/^https?:\/\//)){var a=Eu.a.createElement("a");a.href=o,o=a.href}return o},Oh=function getFileExtension(o){if("string"==typeof o){var a=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(o);if(a)return a.pop().toLowerCase()}return""},Lh=function isCrossOrigin(o,a){void 0===a&&(a=Su.a.location);var s=Ah(o);return(":"===s.protocol?a.protocol:s.protocol)+s.host!==a.protocol+a.host},Mh=Object.freeze({__proto__:null,parseUrl:Ah,getAbsoluteURL:Ih,getFileExtension:Oh,isCrossOrigin:Lh}),Dh=function parseCues(o,a){var s=new Su.a.WebVTT.Parser(Su.a,Su.a.vttjs,Su.a.WebVTT.StringDecoder()),u=[];s.oncue=function(o){a.addCue(o)},s.onparsingerror=function(o){u.push(o)},s.onflush=function(){a.trigger({type:"loadeddata",target:a})},s.parse(o),u.length>0&&(Su.a.console&&Su.a.console.groupCollapsed&&Su.a.console.groupCollapsed("Text Track parsing errors for "+a.src),u.forEach((function(o){return Zc.error(o)})),Su.a.console&&Su.a.console.groupEnd&&Su.a.console.groupEnd()),s.flush()},Rh=function loadTrack(o,a){var s={uri:o},u=Lh(o);u&&(s.cors=u);var l="use-credentials"===a.tech_.crossOrigin();l&&(s.withCredentials=l),Nu()(s,Wd(this,(function(o,s,u){if(o)return Zc.error(o,s);a.loaded_=!0,"function"!=typeof Su.a.WebVTT?a.tech_&&a.tech_.any(["vttjsloaded","vttjserror"],(function(o){if("vttjserror"!==o.type)return Dh(u,a);Zc.error("vttjs failed to load, stopping trying to process "+a.src)})):Dh(u,a)})))},Nh=function(o){function TextTrack(a){var s;if(void 0===a&&(a={}),!a.tech)throw new Error("A tech was not provided.");var u=mergeOptions$3(a,{kind:Ch[a.kind]||"subtitles",language:a.language||a.srclang||""}),l=xh[u.mode]||"disabled",c=u.default;"metadata"!==u.kind&&"chapters"!==u.kind||(l="hidden"),(s=o.call(this,u)||this).tech_=u.tech,s.cues_=[],s.activeCues_=[],s.preload_=!1!==s.tech_.preloadTextTracks;var h=new wh(s.cues_),f=new wh(s.activeCues_),p=!1,m=Wd(Pu()(s),(function(){this.tech_.isReady_&&!this.tech_.isDisposed()&&(this.activeCues=this.activeCues,p&&(this.trigger("cuechange"),p=!1))}));return s.tech_.one("dispose",(function disposeHandler(){s.tech_.off("timeupdate",m)})),"disabled"!==l&&s.tech_.on("timeupdate",m),Object.defineProperties(Pu()(s),{default:{get:function get(){return c},set:function set(){}},mode:{get:function get(){return l},set:function set(o){xh[o]&&l!==o&&(l=o,this.preload_||"disabled"===l||0!==this.cues.length||Rh(this.src,this),this.tech_.off("timeupdate",m),"disabled"!==l&&this.tech_.on("timeupdate",m),this.trigger("modechange"))}},cues:{get:function get(){return this.loaded_?h:null},set:function set(){}},activeCues:{get:function get(){if(!this.loaded_)return null;if(0===this.cues.length)return f;for(var o=this.tech_.currentTime(),a=[],s=0,u=this.cues.length;s<u;s++){var l=this.cues[s];(l.startTime<=o&&l.endTime>=o||l.startTime===l.endTime&&l.startTime<=o&&l.startTime+.5>=o)&&a.push(l)}if(p=!1,a.length!==this.activeCues_.length)p=!0;else for(var c=0;c<a.length;c++)-1===this.activeCues_.indexOf(a[c])&&(p=!0);return this.activeCues_=a,f.setCues_(this.activeCues_),f},set:function set(){}}}),u.src?(s.src=u.src,s.preload_||(s.loaded_=!0),(s.preload_||"subtitles"!==u.kind&&"captions"!==u.kind)&&Rh(s.src,Pu()(s))):s.loaded_=!0,s}Iu()(TextTrack,o);var a=TextTrack.prototype;return a.addCue=function addCue(o){var a=o;if(Su.a.vttjs&&!(o instanceof Su.a.vttjs.VTTCue)){for(var s in a=new Su.a.vttjs.VTTCue(o.startTime,o.endTime,o.text),o)s in a||(a[s]=o[s]);a.id=o.id,a.originalCue_=o}for(var u=this.tech_.textTracks(),l=0;l<u.length;l++)u[l]!==this&&u[l].removeCue(a);this.cues_.push(a),this.cues.setCues_(this.cues_)},a.removeCue=function removeCue(o){for(var a=this.cues_.length;a--;){var s=this.cues_[a];if(s===o||s.originalCue_&&s.originalCue_===o){this.cues_.splice(a,1),this.cues.setCues_(this.cues_);break}}},TextTrack}(Ph);Nh.prototype.allowedEvents_={cuechange:"cuechange"};var Bh=function(o){function AudioTrack(a){var s;void 0===a&&(a={});var u=mergeOptions$3(a,{kind:kh[a.kind]||""});s=o.call(this,u)||this;var l=!1;return Object.defineProperty(Pu()(s),"enabled",{get:function get(){return l},set:function set(o){"boolean"==typeof o&&o!==l&&(l=o,this.trigger("enabledchange"))}}),u.enabled&&(s.enabled=u.enabled),s.loaded_=!0,s}return Iu()(AudioTrack,o),AudioTrack}(Ph),Fh=function(o){function VideoTrack(a){var s;void 0===a&&(a={});var u=mergeOptions$3(a,{kind:Eh[a.kind]||""});s=o.call(this,u)||this;var l=!1;return Object.defineProperty(Pu()(s),"selected",{get:function get(){return l},set:function set(o){"boolean"==typeof o&&o!==l&&(l=o,this.trigger("selectedchange"))}}),u.selected&&(s.selected=u.selected),s}return Iu()(VideoTrack,o),VideoTrack}(Ph),jh=function(o){function HTMLTrackElement(a){var s,u;void 0===a&&(a={}),s=o.call(this)||this;var l=new Nh(a);return s.kind=l.kind,s.src=l.src,s.srclang=l.language,s.label=l.label,s.default=l.default,Object.defineProperties(Pu()(s),{readyState:{get:function get(){return u}},track:{get:function get(){return l}}}),u=0,l.addEventListener("loadeddata",(function(){u=2,s.trigger({type:"load",target:Pu()(s)})})),s}return Iu()(HTMLTrackElement,o),HTMLTrackElement}(Gd);jh.prototype.allowedEvents_={load:"load"},jh.NONE=0,jh.LOADING=1,jh.LOADED=2,jh.ERROR=3;var Uh={audio:{ListClass:yh,TrackClass:Bh,capitalName:"Audio"},video:{ListClass:bh,TrackClass:Fh,capitalName:"Video"},text:{ListClass:Th,TrackClass:Nh,capitalName:"Text"}};Object.keys(Uh).forEach((function(o){Uh[o].getterName=o+"Tracks",Uh[o].privateName=o+"Tracks_"}));var Hh={remoteText:{ListClass:Th,TrackClass:Nh,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Sh,TrackClass:jh,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},qh=Cu()({},Uh,Hh);Hh.names=Object.keys(Hh),Uh.names=Object.keys(Uh),qh.names=[].concat(Hh.names).concat(Uh.names);var Vh=function(o){function Tech(a,s){var u;return void 0===a&&(a={}),void 0===s&&(s=function ready(){}),a.reportTouchActivity=!1,(u=o.call(this,null,a,s)||this).onDurationChange_=function(o){return u.onDurationChange(o)},u.trackProgress_=function(o){return u.trackProgress(o)},u.trackCurrentTime_=function(o){return u.trackCurrentTime(o)},u.stopTrackingCurrentTime_=function(o){return u.stopTrackingCurrentTime(o)},u.disposeSourceHandler_=function(o){return u.disposeSourceHandler(o)},u.hasStarted_=!1,u.on("playing",(function(){this.hasStarted_=!0})),u.on("loadstart",(function(){this.hasStarted_=!1})),qh.names.forEach((function(o){var s=qh[o];a&&a[s.getterName]&&(u[s.privateName]=a[s.getterName])})),u.featuresProgressEvents||u.manualProgressOn(),u.featuresTimeupdateEvents||u.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((function(o){!1===a["native"+o+"Tracks"]&&(u["featuresNative"+o+"Tracks"]=!1)})),!1===a.nativeCaptions||!1===a.nativeTextTracks?u.featuresNativeTextTracks=!1:!0!==a.nativeCaptions&&!0!==a.nativeTextTracks||(u.featuresNativeTextTracks=!0),u.featuresNativeTextTracks||u.emulateTextTracks(),u.preloadTextTracks=!1!==a.preloadTextTracks,u.autoRemoteTextTracks_=new qh.text.ListClass,u.initTrackListeners(),a.nativeControlsForTouch||u.emitTapEvents(),u.constructor&&(u.name_=u.constructor.name||"Unknown Tech"),u}Iu()(Tech,o);var a=Tech.prototype;return a.triggerSourceset=function triggerSourceset(o){var a=this;this.isReady_||this.one("ready",(function(){return a.setTimeout((function(){return a.triggerSourceset(o)}),1)})),this.trigger({src:o,type:"sourceset"})},a.manualProgressOn=function manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},a.manualProgressOff=function manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},a.trackProgress=function trackProgress(o){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Wd(this,(function(){var o=this.bufferedPercent();this.bufferedPercent_!==o&&this.trigger("progress"),this.bufferedPercent_=o,1===o&&this.stopTrackingProgress()})),500)},a.onDurationChange=function onDurationChange(o){this.duration_=this.duration()},a.buffered=function buffered(){return createTimeRanges(0,0)},a.bufferedPercent=function bufferedPercent$1(){return bufferedPercent(this.buffered(),this.duration_)},a.stopTrackingProgress=function stopTrackingProgress(){this.clearInterval(this.progressInterval)},a.manualTimeUpdatesOn=function manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},a.manualTimeUpdatesOff=function manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},a.trackCurrentTime=function trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}),250)},a.stopTrackingCurrentTime=function stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},a.dispose=function dispose(){this.clearTracks(Uh.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),o.prototype.dispose.call(this)},a.clearTracks=function clearTracks(o){var a=this;(o=[].concat(o)).forEach((function(o){for(var s=a[o+"Tracks"]()||[],u=s.length;u--;){var l=s[u];"text"===o&&a.removeRemoteTextTrack(l),s.removeTrack(l)}}))},a.cleanupAutoTextTracks=function cleanupAutoTextTracks(){for(var o=this.autoRemoteTextTracks_||[],a=o.length;a--;){var s=o[a];this.removeRemoteTextTrack(s)}},a.reset=function reset(){},a.crossOrigin=function crossOrigin(){},a.setCrossOrigin=function setCrossOrigin(){},a.error=function error(o){return void 0!==o&&(this.error_=new MediaError(o),this.trigger("error")),this.error_},a.played=function played(){return this.hasStarted_?createTimeRanges(0,0):createTimeRanges()},a.play=function play(){},a.setScrubbing=function setScrubbing(){},a.scrubbing=function scrubbing(){},a.setCurrentTime=function setCurrentTime(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},a.initTrackListeners=function initTrackListeners(){var o=this;Uh.names.forEach((function(a){var s=Uh[a],u=function trackListChanges(){o.trigger(a+"trackchange")},l=o[s.getterName]();l.addEventListener("removetrack",u),l.addEventListener("addtrack",u),o.on("dispose",(function(){l.removeEventListener("removetrack",u),l.removeEventListener("addtrack",u)}))}))},a.addWebVttScript_=function addWebVttScript_(){var o=this;if(!Su.a.WebVTT)if(Eu.a.body.contains(this.el())){if(!this.options_["vtt.js"]&&isPlain(Fu.a)&&Object.keys(Fu.a).length>0)return void this.trigger("vttjsloaded");var a=Eu.a.createElement("script");a.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",a.onload=function(){o.trigger("vttjsloaded")},a.onerror=function(){o.trigger("vttjserror")},this.on("dispose",(function(){a.onload=null,a.onerror=null})),Su.a.WebVTT=!0,this.el().parentNode.appendChild(a)}else this.ready(this.addWebVttScript_)},a.emulateTextTracks=function emulateTextTracks(){var o=this,a=this.textTracks(),s=this.remoteTextTracks(),u=function handleAddTrack(o){return a.addTrack(o.track)},l=function handleRemoveTrack(o){return a.removeTrack(o.track)};s.on("addtrack",u),s.on("removetrack",l),this.addWebVttScript_();var c=function updateDisplay(){return o.trigger("texttrackchange")},h=function textTracksChanges(){c();for(var o=0;o<a.length;o++){var s=a[o];s.removeEventListener("cuechange",c),"showing"===s.mode&&s.addEventListener("cuechange",c)}};h(),a.addEventListener("change",h),a.addEventListener("addtrack",h),a.addEventListener("removetrack",h),this.on("dispose",(function(){s.off("addtrack",u),s.off("removetrack",l),a.removeEventListener("change",h),a.removeEventListener("addtrack",h),a.removeEventListener("removetrack",h);for(var o=0;o<a.length;o++){a[o].removeEventListener("cuechange",c)}}))},a.addTextTrack=function addTextTrack(o,a,s){if(!o)throw new Error("TextTrack kind is required but was not provided");return function createTrackHelper(o,a,s,u,l){void 0===l&&(l={});var c=o.textTracks();l.kind=a,s&&(l.label=s),u&&(l.language=u),l.tech=o;var h=new qh.text.TrackClass(l);return c.addTrack(h),h}(this,o,a,s)},a.createRemoteTextTrack=function createRemoteTextTrack(o){var a=mergeOptions$3(o,{tech:this});return new Hh.remoteTextEl.TrackClass(a)},a.addRemoteTextTrack=function addRemoteTextTrack(o,a){var s=this;void 0===o&&(o={});var u=this.createRemoteTextTrack(o);return!0!==a&&!1!==a&&(Zc.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),a=!0),this.remoteTextTrackEls().addTrackElement_(u),this.remoteTextTracks().addTrack(u.track),!0!==a&&this.ready((function(){return s.autoRemoteTextTracks_.addTrack(u.track)})),u},a.removeRemoteTextTrack=function removeRemoteTextTrack(o){var a=this.remoteTextTrackEls().getTrackElementByTrack_(o);this.remoteTextTrackEls().removeTrackElement_(a),this.remoteTextTracks().removeTrack(o),this.autoRemoteTextTracks_.removeTrack(o)},a.getVideoPlaybackQuality=function getVideoPlaybackQuality(){return{}},a.requestPictureInPicture=function requestPictureInPicture(){var o=this.options_.Promise||Su.a.Promise;if(o)return o.reject()},a.disablePictureInPicture=function disablePictureInPicture(){return!0},a.setDisablePictureInPicture=function setDisablePictureInPicture(){},a.setPoster=function setPoster(){},a.playsinline=function playsinline(){},a.setPlaysinline=function setPlaysinline(){},a.overrideNativeAudioTracks=function overrideNativeAudioTracks(){},a.overrideNativeVideoTracks=function overrideNativeVideoTracks(){},a.canPlayType=function canPlayType(){return""},Tech.canPlayType=function canPlayType(){return""},Tech.canPlaySource=function canPlaySource(o,a){return Tech.canPlayType(o.type)},Tech.isTech=function isTech(o){return o.prototype instanceof Tech||o instanceof Tech||o===Tech},Tech.registerTech=function registerTech(o,a){if(Tech.techs_||(Tech.techs_={}),!Tech.isTech(a))throw new Error("Tech "+o+" must be a Tech");if(!Tech.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!Tech.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return o=ih(o),Tech.techs_[o]=a,Tech.techs_[rh(o)]=a,"Tech"!==o&&Tech.defaultTechOrder_.push(o),a},Tech.getTech=function getTech(o){if(o)return Tech.techs_&&Tech.techs_[o]?Tech.techs_[o]:(o=ih(o),Su.a&&Su.a.videojs&&Su.a.videojs[o]?(Zc.warn("The "+o+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),Su.a.videojs[o]):void 0)},Tech}(lh);qh.names.forEach((function(o){var a=qh[o];Vh.prototype[a.getterName]=function(){return this[a.privateName]=this[a.privateName]||new a.ListClass,this[a.privateName]}})),Vh.prototype.featuresVolumeControl=!0,Vh.prototype.featuresMuteControl=!0,Vh.prototype.featuresFullscreenResize=!1,Vh.prototype.featuresPlaybackRate=!1,Vh.prototype.featuresProgressEvents=!1,Vh.prototype.featuresSourceset=!1,Vh.prototype.featuresTimeupdateEvents=!1,Vh.prototype.featuresNativeTextTracks=!1,Vh.withSourceHandlers=function(o){o.registerSourceHandler=function(a,s){var u=o.sourceHandlers;u||(u=o.sourceHandlers=[]),void 0===s&&(s=u.length),u.splice(s,0,a)},o.canPlayType=function(a){for(var s,u=o.sourceHandlers||[],l=0;l<u.length;l++)if(s=u[l].canPlayType(a))return s;return""},o.selectSourceHandler=function(a,s){for(var u=o.sourceHandlers||[],l=0;l<u.length;l++)if(u[l].canHandleSource(a,s))return u[l];return null},o.canPlaySource=function(a,s){var u=o.selectSourceHandler(a,s);return u?u.canHandleSource(a,s):""};["seekable","seeking","duration"].forEach((function(o){var a=this[o];"function"==typeof a&&(this[o]=function(){return this.sourceHandler_&&this.sourceHandler_[o]?this.sourceHandler_[o].apply(this.sourceHandler_,arguments):a.apply(this,arguments)})}),o.prototype),o.prototype.setSource=function(a){var s=o.selectSourceHandler(a,this.options_);s||(o.nativeSourceHandler?s=o.nativeSourceHandler:Zc.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),s!==o.nativeSourceHandler&&(this.currentSource_=a),this.sourceHandler_=s.handleSource(a,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},o.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},lh.registerComponent("Tech",Vh),Vh.registerTech("Tech",Vh),Vh.defaultTechOrder_=[];var Wh={},zh={},Gh={};function setSource(o,a,s){o.setTimeout((function(){return setSourceHelper(a,Wh[a.type],s,o)}),1)}function mediate(o,a,s,u){void 0===u&&(u=null);var l="call"+ih(s),c=o.reduce(middlewareIterator(l),u),h=c===Gh,f=h?null:a[s](c);return function executeRight(o,a,s,u){for(var l=o.length-1;l>=0;l--){var c=o[l];c[a]&&c[a](u,s)}}(o,s,f,h),f}var Xh={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},Yh={setCurrentTime:1,setMuted:1,setVolume:1},$h={play:1,pause:1};function middlewareIterator(o){return function(a,s){return a===Gh?Gh:s[o]?s[o](a):a}}function setSourceHelper(o,a,s,u,l,c){void 0===o&&(o={}),void 0===a&&(a=[]),void 0===l&&(l=[]),void 0===c&&(c=!1);var h=a,f=h[0],p=h.slice(1);if("string"==typeof f)setSourceHelper(o,Wh[f],s,u,l,c);else if(f){var m=function getOrCreateFactory(o,a){var s=zh[o.id()],u=null;if(null==s)return u=a(o),zh[o.id()]=[[a,u]],u;for(var l=0;l<s.length;l++){var c=s[l],h=c[0],f=c[1];h===a&&(u=f)}return null===u&&(u=a(o),s.push([a,u])),u}(u,f);if(!m.setSource)return l.push(m),setSourceHelper(o,p,s,u,l,c);m.setSource(video_es_assign({},o),(function(a,h){if(a)return setSourceHelper(o,p,s,u,l,c);l.push(m),setSourceHelper(h,o.type===h.type?p:Wh[h.type],s,u,l,c)}))}else p.length?setSourceHelper(o,p,s,u,l,c):c?s(o,l):setSourceHelper(o,Wh["*"],s,u,l,!0)}var Kh={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Qh=function getMimetype(o){void 0===o&&(o="");var a=Oh(o);return Kh[a.toLowerCase()]||""},Jh=function filterSource(o){if(Array.isArray(o)){var a=[];o.forEach((function(o){o=filterSource(o),Array.isArray(o)?a=a.concat(o):video_es_isObject(o)&&a.push(o)})),o=a}else o="string"==typeof o&&o.trim()?[fixSource({src:o})]:video_es_isObject(o)&&"string"==typeof o.src&&o.src&&o.src.trim()?[fixSource(o)]:[];return o};function fixSource(o){if(!o.type){var a=Qh(o.src);a&&(o.type=a)}return o}var Zh=function(o){function MediaLoader(a,s,u){var l,c=mergeOptions$3({createEl:!1},s);if(l=o.call(this,a,c,u)||this,s.playerOptions.sources&&0!==s.playerOptions.sources.length)a.src(s.playerOptions.sources);else for(var h=0,f=s.playerOptions.techOrder;h<f.length;h++){var p=ih(f[h]),m=Vh.getTech(p);if(p||(m=lh.getComponent(p)),m&&m.isSupported()){a.loadTech_(p);break}}return l}return Iu()(MediaLoader,o),MediaLoader}(lh);lh.registerComponent("MediaLoader",Zh);var ef=function(o){function ClickableComponent(a,s){var u;return(u=o.call(this,a,s)||this).handleMouseOver_=function(o){return u.handleMouseOver(o)},u.handleMouseOut_=function(o){return u.handleMouseOut(o)},u.handleClick_=function(o){return u.handleClick(o)},u.handleKeyDown_=function(o){return u.handleKeyDown(o)},u.emitTapEvents(),u.enable(),u}Iu()(ClickableComponent,o);var a=ClickableComponent.prototype;return a.createEl=function createEl$1(o,a,s){void 0===o&&(o="div"),void 0===a&&(a={}),void 0===s&&(s={}),a=video_es_assign({className:this.buildCSSClass(),tabIndex:0},a),"button"===o&&Zc.error("Creating a ClickableComponent with an HTML element of "+o+" is not supported; use a Button instead."),s=video_es_assign({role:"button"},s),this.tabIndex_=a.tabIndex;var u=video_es_createEl(o,a,s);return u.appendChild(video_es_createEl("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(u),u},a.dispose=function dispose(){this.controlTextEl_=null,o.prototype.dispose.call(this)},a.createControlTextEl=function createControlTextEl(o){return this.controlTextEl_=video_es_createEl("span",{className:"vjs-control-text"},{"aria-live":"polite"}),o&&o.appendChild(this.controlTextEl_),this.controlText(this.controlText_,o),this.controlTextEl_},a.controlText=function controlText(o,a){if(void 0===a&&(a=this.el()),void 0===o)return this.controlText_||"Need Text";var s=this.localize(o);this.controlText_=o,textContent(this.controlTextEl_,s),this.nonIconControl||this.player_.options_.noUITitleAttributes||a.setAttribute("title",s)},a.buildCSSClass=function buildCSSClass(){return"vjs-control vjs-button "+o.prototype.buildCSSClass.call(this)},a.enable=function enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},a.disable=function disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},a.handleLanguagechange=function handleLanguagechange(){this.controlText(this.controlText_)},a.handleClick=function handleClick(o){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},a.handleKeyDown=function handleKeyDown(a){Du.a.isEventKey(a,"Space")||Du.a.isEventKey(a,"Enter")?(a.preventDefault(),a.stopPropagation(),this.trigger("click")):o.prototype.handleKeyDown.call(this,a)},ClickableComponent}(lh);lh.registerComponent("ClickableComponent",ef);var tf=function(o){function PosterImage(a,s){var u;return(u=o.call(this,a,s)||this).update(),u.update_=function(o){return u.update(o)},a.on("posterchange",u.update_),u}Iu()(PosterImage,o);var a=PosterImage.prototype;return a.dispose=function dispose(){this.player().off("posterchange",this.update_),o.prototype.dispose.call(this)},a.createEl=function createEl$1(){return video_es_createEl("div",{className:"vjs-poster",tabIndex:-1})},a.update=function update(o){var a=this.player().poster();this.setSrc(a),a?this.show():this.hide()},a.setSrc=function setSrc(o){var a="";o&&(a='url("'+o+'")'),this.el_.style.backgroundImage=a},a.handleClick=function handleClick(o){if(this.player_.controls()){var a=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;!this.player_.tech(!0)||(_d||gd)&&a||this.player_.tech(!0).focus(),this.player_.paused()?silencePromise(this.player_.play()):this.player_.pause()}},PosterImage}(ef);lh.registerComponent("PosterImage",tf);var nf={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function constructColor(o,a){var s;if(4===o.length)s=o[1]+o[1]+o[2]+o[2]+o[3]+o[3];else{if(7!==o.length)throw new Error("Invalid color code provided, "+o+"; must be formatted as e.g. #f0e or #f604e2.");s=o.slice(1)}return"rgba("+parseInt(s.slice(0,2),16)+","+parseInt(s.slice(2,4),16)+","+parseInt(s.slice(4,6),16)+","+a+")"}function tryUpdateStyle(o,a,s){try{o.style[a]=s}catch(o){return}}var rf=function(o){function TextTrackDisplay(a,s,u){var l;l=o.call(this,a,s,u)||this;var c=function updateDisplayHandler(o){return l.updateDisplay(o)};return a.on("loadstart",(function(o){return l.toggleDisplay(o)})),a.on("texttrackchange",c),a.on("loadedmetadata",(function(o){return l.preselectTrack(o)})),a.ready(Wd(Pu()(l),(function(){if(a.tech_&&a.tech_.featuresNativeTextTracks)this.hide();else{a.on("fullscreenchange",c),a.on("playerresize",c),Su.a.addEventListener("orientationchange",c),a.on("dispose",(function(){return Su.a.removeEventListener("orientationchange",c)}));for(var o=this.options_.playerOptions.tracks||[],s=0;s<o.length;s++)this.player_.addRemoteTextTrack(o[s],!0);this.preselectTrack()}}))),l}Iu()(TextTrackDisplay,o);var a=TextTrackDisplay.prototype;return a.preselectTrack=function preselectTrack(){for(var o,a,s,u={captions:1,subtitles:1},l=this.player_.textTracks(),c=this.player_.cache_.selectedLanguage,h=0;h<l.length;h++){var f=l[h];c&&c.enabled&&c.language&&c.language===f.language&&f.kind in u?f.kind===c.kind?s=f:s||(s=f):c&&!c.enabled?(s=null,o=null,a=null):f.default&&("descriptions"!==f.kind||o?f.kind in u&&!a&&(a=f):o=f)}s?s.mode="showing":a?a.mode="showing":o&&(o.mode="showing")},a.toggleDisplay=function toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},a.createEl=function createEl(){return o.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},a.clearDisplay=function clearDisplay(){"function"==typeof Su.a.WebVTT&&Su.a.WebVTT.processCues(Su.a,[],this.el_)},a.updateDisplay=function updateDisplay(){var o=this.player_.textTracks(),a=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),a){for(var s=[],u=0;u<o.length;++u){var l=o[u];"showing"===l.mode&&s.push(l)}this.updateForTrack(s)}else{for(var c=null,h=null,f=o.length;f--;){var p=o[f];"showing"===p.mode&&("descriptions"===p.kind?c=p:h=p)}h?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(h)):c&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(c))}},a.updateDisplayState=function updateDisplayState(o){for(var a=this.player_.textTrackSettings.getValues(),s=o.activeCues,u=s.length;u--;){var l=s[u];if(l){var c=l.displayState;if(a.color&&(c.firstChild.style.color=a.color),a.textOpacity&&tryUpdateStyle(c.firstChild,"color",constructColor(a.color||"#fff",a.textOpacity)),a.backgroundColor&&(c.firstChild.style.backgroundColor=a.backgroundColor),a.backgroundOpacity&&tryUpdateStyle(c.firstChild,"backgroundColor",constructColor(a.backgroundColor||"#000",a.backgroundOpacity)),a.windowColor&&(a.windowOpacity?tryUpdateStyle(c,"backgroundColor",constructColor(a.windowColor,a.windowOpacity)):c.style.backgroundColor=a.windowColor),a.edgeStyle&&("dropshadow"===a.edgeStyle?c.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===a.edgeStyle?c.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===a.edgeStyle?c.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===a.edgeStyle&&(c.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),a.fontPercent&&1!==a.fontPercent){var h=Su.a.parseFloat(c.style.fontSize);c.style.fontSize=h*a.fontPercent+"px",c.style.height="auto",c.style.top="auto"}a.fontFamily&&"default"!==a.fontFamily&&("small-caps"===a.fontFamily?c.firstChild.style.fontVariant="small-caps":c.firstChild.style.fontFamily=nf[a.fontFamily])}}},a.updateForTrack=function updateForTrack(o){if(Array.isArray(o)||(o=[o]),"function"==typeof Su.a.WebVTT&&!o.every((function(o){return!o.activeCues}))){for(var a=[],s=0;s<o.length;++s)for(var u=o[s],l=0;l<u.activeCues.length;++l)a.push(u.activeCues[l]);Su.a.WebVTT.processCues(Su.a,a,this.el_);for(var c=0;c<o.length;++c){for(var h=o[c],f=0;f<h.activeCues.length;++f){var p=h.activeCues[f].displayState;video_es_addClass(p,"vjs-text-track-cue"),video_es_addClass(p,"vjs-text-track-cue-"+(h.language?h.language:c))}this.player_.textTrackSettings&&this.updateDisplayState(h)}}},TextTrackDisplay}(lh);lh.registerComponent("TextTrackDisplay",rf);var af=function(o){function LoadingSpinner(){return o.apply(this,arguments)||this}return Iu()(LoadingSpinner,o),LoadingSpinner.prototype.createEl=function createEl$1(){var a=this.player_.isAudio(),s=this.localize(a?"Audio Player":"Video Player"),u=video_es_createEl("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[s])}),l=o.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return l.appendChild(u),l},LoadingSpinner}(lh);lh.registerComponent("LoadingSpinner",af);var sf=function(o){function Button(){return o.apply(this,arguments)||this}Iu()(Button,o);var a=Button.prototype;return a.createEl=function createEl$1(o,a,s){void 0===a&&(a={}),void 0===s&&(s={});var u=video_es_createEl("button",a=video_es_assign({className:this.buildCSSClass()},a),s=video_es_assign({type:"button"},s));return u.appendChild(video_es_createEl("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(u),u},a.addChild=function addChild(o,a){void 0===a&&(a={});var s=this.constructor.name;return Zc.warn("Adding an actionable (user controllable) child to a Button ("+s+") is not supported; use a ClickableComponent instead."),lh.prototype.addChild.call(this,o,a)},a.enable=function enable(){o.prototype.enable.call(this),this.el_.removeAttribute("disabled")},a.disable=function disable(){o.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},a.handleKeyDown=function handleKeyDown(a){Du.a.isEventKey(a,"Space")||Du.a.isEventKey(a,"Enter")?a.stopPropagation():o.prototype.handleKeyDown.call(this,a)},Button}(ef);lh.registerComponent("Button",sf);var uf=function(o){function BigPlayButton(a,s){var u;return(u=o.call(this,a,s)||this).mouseused_=!1,u.on("mousedown",(function(o){return u.handleMouseDown(o)})),u}Iu()(BigPlayButton,o);var a=BigPlayButton.prototype;return a.buildCSSClass=function buildCSSClass(){return"vjs-big-play-button"},a.handleClick=function handleClick(o){var a=this.player_.play();if(this.mouseused_&&o.clientX&&o.clientY){var s=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;return silencePromise(a),void(!this.player_.tech(!0)||(_d||gd)&&s||this.player_.tech(!0).focus())}var u=this.player_.getChild("controlBar"),l=u&&u.getChild("playToggle");if(l){var c=function playFocus(){return l.focus()};isPromise(a)?a.then(c,(function(){})):this.setTimeout(c,1)}else this.player_.tech(!0).focus()},a.handleKeyDown=function handleKeyDown(a){this.mouseused_=!1,o.prototype.handleKeyDown.call(this,a)},a.handleMouseDown=function handleMouseDown(o){this.mouseused_=!0},BigPlayButton}(sf);uf.prototype.controlText_="Play Video",lh.registerComponent("BigPlayButton",uf);var lf=function(o){function CloseButton(a,s){var u;return(u=o.call(this,a,s)||this).controlText(s&&s.controlText||u.localize("Close")),u}Iu()(CloseButton,o);var a=CloseButton.prototype;return a.buildCSSClass=function buildCSSClass(){return"vjs-close-button "+o.prototype.buildCSSClass.call(this)},a.handleClick=function handleClick(o){this.trigger({type:"close",bubbles:!1})},a.handleKeyDown=function handleKeyDown(a){Du.a.isEventKey(a,"Esc")?(a.preventDefault(),a.stopPropagation(),this.trigger("click")):o.prototype.handleKeyDown.call(this,a)},CloseButton}(sf);lh.registerComponent("CloseButton",lf);var cf=function(o){function PlayToggle(a,s){var u;return void 0===s&&(s={}),u=o.call(this,a,s)||this,s.replay=void 0===s.replay||s.replay,u.on(a,"play",(function(o){return u.handlePlay(o)})),u.on(a,"pause",(function(o){return u.handlePause(o)})),s.replay&&u.on(a,"ended",(function(o){return u.handleEnded(o)})),u}Iu()(PlayToggle,o);var a=PlayToggle.prototype;return a.buildCSSClass=function buildCSSClass(){return"vjs-play-control "+o.prototype.buildCSSClass.call(this)},a.handleClick=function handleClick(o){this.player_.paused()?silencePromise(this.player_.play()):this.player_.pause()},a.handleSeeked=function handleSeeked(o){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(o):this.handlePlay(o)},a.handlePlay=function handlePlay(o){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},a.handlePause=function handlePause(o){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},a.handleEnded=function handleEnded(o){var a=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",(function(o){return a.handleSeeked(o)}))},PlayToggle}(sf);cf.prototype.controlText_="Play",lh.registerComponent("PlayToggle",cf);var df=function defaultImplementation(o,a){o=o<0?0:o;var s=Math.floor(o%60),u=Math.floor(o/60%60),l=Math.floor(o/3600),c=Math.floor(a/60%60),h=Math.floor(a/3600);return(isNaN(o)||o===1/0)&&(l=u=s="-"),(l=l>0||h>0?l+":":"")+(u=((l||c>=10)&&u<10?"0"+u:u)+":")+(s=s<10?"0"+s:s)},hf=df;function formatTime(o,a){return void 0===a&&(a=o),hf(o,a)}var ff=function(o){function TimeDisplay(a,s){var u;return(u=o.call(this,a,s)||this).on(a,["timeupdate","ended"],(function(o){return u.updateContent(o)})),u.updateTextNode_(),u}Iu()(TimeDisplay,o);var a=TimeDisplay.prototype;return a.createEl=function createEl$1(){var a=this.buildCSSClass(),s=o.prototype.createEl.call(this,"div",{className:a+" vjs-time-control vjs-control"}),u=video_es_createEl("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+" "},{role:"presentation"});return s.appendChild(u),this.contentEl_=video_es_createEl("span",{className:a+"-display"},{"aria-live":"off",role:"presentation"}),s.appendChild(this.contentEl_),s},a.dispose=function dispose(){this.contentEl_=null,this.textNode_=null,o.prototype.dispose.call(this)},a.updateTextNode_=function updateTextNode_(o){var a=this;void 0===o&&(o=0),o=formatTime(o),this.formattedTime_!==o&&(this.formattedTime_=o,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",(function(){if(a.contentEl_){var o=a.textNode_;o&&a.contentEl_.firstChild!==o&&(o=null,Zc.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),a.textNode_=Eu.a.createTextNode(a.formattedTime_),a.textNode_&&(o?a.contentEl_.replaceChild(a.textNode_,o):a.contentEl_.appendChild(a.textNode_))}})))},a.updateContent=function updateContent(o){},TimeDisplay}(lh);ff.prototype.labelText_="Time",ff.prototype.controlText_="Time",lh.registerComponent("TimeDisplay",ff);var pf=function(o){function CurrentTimeDisplay(){return o.apply(this,arguments)||this}Iu()(CurrentTimeDisplay,o);var a=CurrentTimeDisplay.prototype;return a.buildCSSClass=function buildCSSClass(){return"vjs-current-time"},a.updateContent=function updateContent(o){var a;a=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(a)},CurrentTimeDisplay}(ff);pf.prototype.labelText_="Current Time",pf.prototype.controlText_="Current Time",lh.registerComponent("CurrentTimeDisplay",pf);var mf=function(o){function DurationDisplay(a,s){var u,l=function updateContent(o){return u.updateContent(o)};return(u=o.call(this,a,s)||this).on(a,"durationchange",l),u.on(a,"loadstart",l),u.on(a,"loadedmetadata",l),u}Iu()(DurationDisplay,o);var a=DurationDisplay.prototype;return a.buildCSSClass=function buildCSSClass(){return"vjs-duration"},a.updateContent=function updateContent(o){var a=this.player_.duration();this.updateTextNode_(a)},DurationDisplay}(ff);mf.prototype.labelText_="Duration",mf.prototype.controlText_="Duration",lh.registerComponent("DurationDisplay",mf);var gf=function(o){function TimeDivider(){return o.apply(this,arguments)||this}return Iu()(TimeDivider,o),TimeDivider.prototype.createEl=function createEl(){var a=o.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),s=o.prototype.createEl.call(this,"div"),u=o.prototype.createEl.call(this,"span",{textContent:"/"});return s.appendChild(u),a.appendChild(s),a},TimeDivider}(lh);lh.registerComponent("TimeDivider",gf);var vf=function(o){function RemainingTimeDisplay(a,s){var u;return(u=o.call(this,a,s)||this).on(a,"durationchange",(function(o){return u.updateContent(o)})),u}Iu()(RemainingTimeDisplay,o);var a=RemainingTimeDisplay.prototype;return a.buildCSSClass=function buildCSSClass(){return"vjs-remaining-time"},a.createEl=function createEl$1(){var a=o.prototype.createEl.call(this);return a.insertBefore(video_es_createEl("span",{},{"aria-hidden":!0},"-"),this.contentEl_),a},a.updateContent=function updateContent(o){var a;"number"==typeof this.player_.duration()&&(a=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(a))},RemainingTimeDisplay}(ff);vf.prototype.labelText_="Remaining Time",vf.prototype.controlText_="Remaining Time",lh.registerComponent("RemainingTimeDisplay",vf);var yf=function(o){function LiveDisplay(a,s){var u;return(u=o.call(this,a,s)||this).updateShowing(),u.on(u.player(),"durationchange",(function(o){return u.updateShowing(o)})),u}Iu()(LiveDisplay,o);var a=LiveDisplay.prototype;return a.createEl=function createEl$1(){var a=o.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=video_es_createEl("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(video_es_createEl("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+" "})),this.contentEl_.appendChild(Eu.a.createTextNode(this.localize("LIVE"))),a.appendChild(this.contentEl_),a},a.dispose=function dispose(){this.contentEl_=null,o.prototype.dispose.call(this)},a.updateShowing=function updateShowing(o){this.player().duration()===1/0?this.show():this.hide()},LiveDisplay}(lh);lh.registerComponent("LiveDisplay",yf);var _f=function(o){function SeekToLive(a,s){var u;return(u=o.call(this,a,s)||this).updateLiveEdgeStatus(),u.player_.liveTracker&&(u.updateLiveEdgeStatusHandler_=function(o){return u.updateLiveEdgeStatus(o)},u.on(u.player_.liveTracker,"liveedgechange",u.updateLiveEdgeStatusHandler_)),u}Iu()(SeekToLive,o);var a=SeekToLive.prototype;return a.createEl=function createEl$1(){var a=o.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=video_es_createEl("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),a.appendChild(this.textEl_),a},a.updateLiveEdgeStatus=function updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},a.handleClick=function handleClick(){this.player_.liveTracker.seekToLiveEdge()},a.dispose=function dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,o.prototype.dispose.call(this)},SeekToLive}(sf);_f.prototype.controlText_="Seek to live, currently playing live",lh.registerComponent("SeekToLive",_f);var bf=function clamp(o,a,s){return o=Number(o),Math.min(s,Math.max(a,isNaN(o)?a:o))},Tf=function(o){function Slider(a,s){var u;return(u=o.call(this,a,s)||this).handleMouseDown_=function(o){return u.handleMouseDown(o)},u.handleMouseUp_=function(o){return u.handleMouseUp(o)},u.handleKeyDown_=function(o){return u.handleKeyDown(o)},u.handleClick_=function(o){return u.handleClick(o)},u.handleMouseMove_=function(o){return u.handleMouseMove(o)},u.update_=function(o){return u.update(o)},u.bar=u.getChild(u.options_.barName),u.vertical(!!u.options_.vertical),u.enable(),u}Iu()(Slider,o);var a=Slider.prototype;return a.enabled=function enabled(){return this.enabled_},a.enable=function enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},a.disable=function disable(){if(this.enabled()){var o=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(o,"mousemove",this.handleMouseMove_),this.off(o,"mouseup",this.handleMouseUp_),this.off(o,"touchmove",this.handleMouseMove_),this.off(o,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},a.createEl=function createEl(a,s,u){return void 0===s&&(s={}),void 0===u&&(u={}),s.className=s.className+" vjs-slider",s=video_es_assign({tabIndex:0},s),u=video_es_assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},u),o.prototype.createEl.call(this,a,s,u)},a.handleMouseDown=function handleMouseDown(o){var a=this.bar.el_.ownerDocument;"mousedown"===o.type&&o.preventDefault(),"touchstart"!==o.type||vd||o.preventDefault(),blockTextSelection(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(a,"mousemove",this.handleMouseMove_),this.on(a,"mouseup",this.handleMouseUp_),this.on(a,"touchmove",this.handleMouseMove_),this.on(a,"touchend",this.handleMouseUp_),this.handleMouseMove(o)},a.handleMouseMove=function handleMouseMove(o){},a.handleMouseUp=function handleMouseUp(){var o=this.bar.el_.ownerDocument;unblockTextSelection(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(o,"mousemove",this.handleMouseMove_),this.off(o,"mouseup",this.handleMouseUp_),this.off(o,"touchmove",this.handleMouseMove_),this.off(o,"touchend",this.handleMouseUp_),this.update()},a.update=function update(){var o=this;if(this.el_&&this.bar){var a=this.getProgress();return a===this.progress_||(this.progress_=a,this.requestNamedAnimationFrame("Slider#update",(function(){var s=o.vertical()?"height":"width";o.bar.el().style[s]=(100*a).toFixed(2)+"%"}))),a}},a.getProgress=function getProgress(){return Number(bf(this.getPercent(),0,1).toFixed(4))},a.calculateDistance=function calculateDistance(o){var a=getPointerPosition(this.el_,o);return this.vertical()?a.y:a.x},a.handleKeyDown=function handleKeyDown(a){Du.a.isEventKey(a,"Left")||Du.a.isEventKey(a,"Down")?(a.preventDefault(),a.stopPropagation(),this.stepBack()):Du.a.isEventKey(a,"Right")||Du.a.isEventKey(a,"Up")?(a.preventDefault(),a.stopPropagation(),this.stepForward()):o.prototype.handleKeyDown.call(this,a)},a.handleClick=function handleClick(o){o.stopPropagation(),o.preventDefault()},a.vertical=function vertical(o){if(void 0===o)return this.vertical_||!1;this.vertical_=!!o,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},Slider}(lh);lh.registerComponent("Slider",Tf);var Sf=function percentify(o,a){return bf(o/a*100,0,100).toFixed(2)+"%"},wf=function(o){function LoadProgressBar(a,s){var u;return(u=o.call(this,a,s)||this).partEls_=[],u.on(a,"progress",(function(o){return u.update(o)})),u}Iu()(LoadProgressBar,o);var a=LoadProgressBar.prototype;return a.createEl=function createEl$1(){var a=o.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),s=video_es_createEl("span",{className:"vjs-control-text"}),u=video_es_createEl("span",{textContent:this.localize("Loaded")}),l=Eu.a.createTextNode(": ");return this.percentageEl_=video_es_createEl("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),a.appendChild(s),s.appendChild(u),s.appendChild(l),s.appendChild(this.percentageEl_),a},a.dispose=function dispose(){this.partEls_=null,this.percentageEl_=null,o.prototype.dispose.call(this)},a.update=function update(o){var a=this;this.requestNamedAnimationFrame("LoadProgressBar#update",(function(){var o=a.player_.liveTracker,s=a.player_.buffered(),u=o&&o.isLive()?o.seekableEnd():a.player_.duration(),l=a.player_.bufferedEnd(),c=a.partEls_,h=Sf(l,u);a.percent_!==h&&(a.el_.style.width=h,textContent(a.percentageEl_,h),a.percent_=h);for(var f=0;f<s.length;f++){var p=s.start(f),m=s.end(f),g=c[f];g||(g=a.el_.appendChild(video_es_createEl()),c[f]=g),g.dataset.start===p&&g.dataset.end===m||(g.dataset.start=p,g.dataset.end=m,g.style.left=Sf(p,l),g.style.width=Sf(m-p,l))}for(var v=c.length;v>s.length;v--)a.el_.removeChild(c[v-1]);c.length=s.length}))},LoadProgressBar}(lh);lh.registerComponent("LoadProgressBar",wf);var Ef=function(o){function TimeTooltip(a,s){var u;return(u=o.call(this,a,s)||this).update=zd(Wd(Pu()(u),u.update),Vd),u}Iu()(TimeTooltip,o);var a=TimeTooltip.prototype;return a.createEl=function createEl(){return o.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},a.update=function update(o,a,s){var u=findPosition(this.el_),l=getBoundingClientRect(this.player_.el()),c=o.width*a;if(l&&u){var h=o.left-l.left+c,f=o.width-c+(l.right-o.right),p=u.width/2;h<p?p+=p-h:f<p&&(p=f),p<0?p=0:p>u.width&&(p=u.width),p=Math.round(p),this.el_.style.right="-"+p+"px",this.write(s)}},a.write=function write(o){textContent(this.el_,o)},a.updateTime=function updateTime(o,a,s,u){var l=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",(function(){var c,h=l.player_.duration();if(l.player_.liveTracker&&l.player_.liveTracker.isLive()){var f=l.player_.liveTracker.liveWindow(),p=f-a*f;c=(p<1?"":"-")+formatTime(p,f)}else c=formatTime(s,h);l.update(o,a,c),u&&u()}))},TimeTooltip}(lh);lh.registerComponent("TimeTooltip",Ef);var kf=function(o){function PlayProgressBar(a,s){var u;return(u=o.call(this,a,s)||this).update=zd(Wd(Pu()(u),u.update),Vd),u}Iu()(PlayProgressBar,o);var a=PlayProgressBar.prototype;return a.createEl=function createEl(){return o.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},a.update=function update(o,a){var s=this.getChild("timeTooltip");if(s){var u=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();s.updateTime(o,a,u)}},PlayProgressBar}(lh);kf.prototype.options_={children:[]},kd||hd||kf.prototype.options_.children.push("timeTooltip"),lh.registerComponent("PlayProgressBar",kf);var Cf=function(o){function MouseTimeDisplay(a,s){var u;return(u=o.call(this,a,s)||this).update=zd(Wd(Pu()(u),u.update),Vd),u}Iu()(MouseTimeDisplay,o);var a=MouseTimeDisplay.prototype;return a.createEl=function createEl(){return o.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},a.update=function update(o,a){var s=this,u=a*this.player_.duration();this.getChild("timeTooltip").updateTime(o,a,u,(function(){s.el_.style.left=o.width*a+"px"}))},MouseTimeDisplay}(lh);Cf.prototype.options_={children:["timeTooltip"]},lh.registerComponent("MouseTimeDisplay",Cf);var xf=function(o){function SeekBar(a,s){var u;return(u=o.call(this,a,s)||this).setEventHandlers_(),u}Iu()(SeekBar,o);var a=SeekBar.prototype;return a.setEventHandlers_=function setEventHandlers_(){var o=this;this.update_=Wd(this,this.update),this.update=zd(this.update_,Vd),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(a){return o.enableInterval_(a)},this.disableIntervalHandler_=function(a){return o.disableInterval_(a)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Eu.a&&"visibilityState"in Eu.a&&this.on(Eu.a,"visibilitychange",this.toggleVisibility_)},a.toggleVisibility_=function toggleVisibility_(o){"hidden"===Eu.a.visibilityState?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(o)):(this.player_.ended()||this.player_.paused()||this.enableInterval_(),this.update())},a.enableInterval_=function enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,Vd))},a.disableInterval_=function disableInterval_(o){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&o&&"ended"!==o.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},a.createEl=function createEl(){return o.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},a.update=function update(a){var s=this;if("hidden"!==Eu.a.visibilityState){var u=o.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",(function(){var o=s.player_.ended()?s.player_.duration():s.getCurrentTime_(),a=s.player_.liveTracker,l=s.player_.duration();a&&a.isLive()&&(l=s.player_.liveTracker.liveCurrentTime()),s.percent_!==u&&(s.el_.setAttribute("aria-valuenow",(100*u).toFixed(2)),s.percent_=u),s.currentTime_===o&&s.duration_===l||(s.el_.setAttribute("aria-valuetext",s.localize("progress bar timing: currentTime={1} duration={2}",[formatTime(o,l),formatTime(l,l)],"{1} of {2}")),s.currentTime_=o,s.duration_=l),s.bar&&s.bar.update(getBoundingClientRect(s.el()),s.getProgress())})),u}},a.userSeek_=function userSeek_(o){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(o)},a.getCurrentTime_=function getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},a.getPercent=function getPercent(){var o,a=this.getCurrentTime_(),s=this.player_.liveTracker;return s&&s.isLive()?(o=(a-s.seekableStart())/s.liveWindow(),s.atLiveEdge()&&(o=1)):o=a/this.player_.duration(),o},a.handleMouseDown=function handleMouseDown(a){isSingleLeftClick(a)&&(a.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),o.prototype.handleMouseDown.call(this,a))},a.handleMouseMove=function handleMouseMove(o){if(isSingleLeftClick(o)){var a,s=this.calculateDistance(o),u=this.player_.liveTracker;if(u&&u.isLive()){if(s>=.99)return void u.seekToLiveEdge();var l=u.seekableStart(),c=u.liveCurrentTime();if((a=l+s*u.liveWindow())>=c&&(a=c),a<=l&&(a=l+.1),a===1/0)return}else(a=s*this.player_.duration())===this.player_.duration()&&(a-=.1);this.userSeek_(a)}},a.enable=function enable(){o.prototype.enable.call(this);var a=this.getChild("mouseTimeDisplay");a&&a.show()},a.disable=function disable(){o.prototype.disable.call(this);var a=this.getChild("mouseTimeDisplay");a&&a.hide()},a.handleMouseUp=function handleMouseUp(a){o.prototype.handleMouseUp.call(this,a),a&&a.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?silencePromise(this.player_.play()):this.update_()},a.stepForward=function stepForward(){this.userSeek_(this.player_.currentTime()+5)},a.stepBack=function stepBack(){this.userSeek_(this.player_.currentTime()-5)},a.handleAction=function handleAction(o){this.player_.paused()?this.player_.play():this.player_.pause()},a.handleKeyDown=function handleKeyDown(a){var s=this.player_.liveTracker;if(Du.a.isEventKey(a,"Space")||Du.a.isEventKey(a,"Enter"))a.preventDefault(),a.stopPropagation(),this.handleAction(a);else if(Du.a.isEventKey(a,"Home"))a.preventDefault(),a.stopPropagation(),this.userSeek_(0);else if(Du.a.isEventKey(a,"End"))a.preventDefault(),a.stopPropagation(),s&&s.isLive()?this.userSeek_(s.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(Du()(a))){a.preventDefault(),a.stopPropagation();var u=10*(Du.a.codes[Du()(a)]-Du.a.codes[0])/100;s&&s.isLive()?this.userSeek_(s.seekableStart()+s.liveWindow()*u):this.userSeek_(this.player_.duration()*u)}else Du.a.isEventKey(a,"PgDn")?(a.preventDefault(),a.stopPropagation(),this.userSeek_(this.player_.currentTime()-60)):Du.a.isEventKey(a,"PgUp")?(a.preventDefault(),a.stopPropagation(),this.userSeek_(this.player_.currentTime()+60)):o.prototype.handleKeyDown.call(this,a)},a.dispose=function dispose(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Eu.a&&"visibilityState"in Eu.a&&this.off(Eu.a,"visibilitychange",this.toggleVisibility_),o.prototype.dispose.call(this)},SeekBar}(Tf);xf.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},kd||hd||xf.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),lh.registerComponent("SeekBar",xf);var Pf=function(o){function ProgressControl(a,s){var u;return(u=o.call(this,a,s)||this).handleMouseMove=zd(Wd(Pu()(u),u.handleMouseMove),Vd),u.throttledHandleMouseSeek=zd(Wd(Pu()(u),u.handleMouseSeek),Vd),u.handleMouseUpHandler_=function(o){return u.handleMouseUp(o)},u.handleMouseDownHandler_=function(o){return u.handleMouseDown(o)},u.enable(),u}Iu()(ProgressControl,o);var a=ProgressControl.prototype;return a.createEl=function createEl(){return o.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},a.handleMouseMove=function handleMouseMove(o){var a=this.getChild("seekBar");if(a){var s=a.getChild("playProgressBar"),u=a.getChild("mouseTimeDisplay");if(s||u){var l=a.el(),c=findPosition(l),h=getPointerPosition(l,o).x;h=bf(h,0,1),u&&u.update(c,h),s&&s.update(c,a.getProgress())}}},a.handleMouseSeek=function handleMouseSeek(o){var a=this.getChild("seekBar");a&&a.handleMouseMove(o)},a.enabled=function enabled(){return this.enabled_},a.disable=function disable(){if(this.children().forEach((function(o){return o.disable&&o.disable()})),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var o=this.getChild("seekBar");this.player_.scrubbing(!1),o.videoWasPlaying&&silencePromise(this.player_.play())}},a.enable=function enable(){this.children().forEach((function(o){return o.enable&&o.enable()})),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},a.removeListenersAddedOnMousedownAndTouchstart=function removeListenersAddedOnMousedownAndTouchstart(){var o=this.el_.ownerDocument;this.off(o,"mousemove",this.throttledHandleMouseSeek),this.off(o,"touchmove",this.throttledHandleMouseSeek),this.off(o,"mouseup",this.handleMouseUpHandler_),this.off(o,"touchend",this.handleMouseUpHandler_)},a.handleMouseDown=function handleMouseDown(o){var a=this.el_.ownerDocument,s=this.getChild("seekBar");s&&s.handleMouseDown(o),this.on(a,"mousemove",this.throttledHandleMouseSeek),this.on(a,"touchmove",this.throttledHandleMouseSeek),this.on(a,"mouseup",this.handleMouseUpHandler_),this.on(a,"touchend",this.handleMouseUpHandler_)},a.handleMouseUp=function handleMouseUp(o){var a=this.getChild("seekBar");a&&a.handleMouseUp(o),this.removeListenersAddedOnMousedownAndTouchstart()},ProgressControl}(lh);Pf.prototype.options_={children:["seekBar"]},lh.registerComponent("ProgressControl",Pf);var Af=function(o){function PictureInPictureToggle(a,s){var u;return(u=o.call(this,a,s)||this).on(a,["enterpictureinpicture","leavepictureinpicture"],(function(o){return u.handlePictureInPictureChange(o)})),u.on(a,["disablepictureinpicturechanged","loadedmetadata"],(function(o){return u.handlePictureInPictureEnabledChange(o)})),u.disable(),u}Iu()(PictureInPictureToggle,o);var a=PictureInPictureToggle.prototype;return a.buildCSSClass=function buildCSSClass(){return"vjs-picture-in-picture-control "+o.prototype.buildCSSClass.call(this)},a.handlePictureInPictureEnabledChange=function handlePictureInPictureEnabledChange(){Eu.a.pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()?this.enable():this.disable()},a.handlePictureInPictureChange=function handlePictureInPictureChange(o){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},a.handleClick=function handleClick(o){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},PictureInPictureToggle}(sf);Af.prototype.controlText_="Picture-in-Picture",lh.registerComponent("PictureInPictureToggle",Af);var If=function(o){function FullscreenToggle(a,s){var u;return(u=o.call(this,a,s)||this).on(a,"fullscreenchange",(function(o){return u.handleFullscreenChange(o)})),!1===Eu.a[a.fsApi_.fullscreenEnabled]&&u.disable(),u}Iu()(FullscreenToggle,o);var a=FullscreenToggle.prototype;return a.buildCSSClass=function buildCSSClass(){return"vjs-fullscreen-control "+o.prototype.buildCSSClass.call(this)},a.handleFullscreenChange=function handleFullscreenChange(o){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},a.handleClick=function handleClick(o){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},FullscreenToggle}(sf);If.prototype.controlText_="Fullscreen",lh.registerComponent("FullscreenToggle",If);var Of=function(o){function VolumeLevel(){return o.apply(this,arguments)||this}return Iu()(VolumeLevel,o),VolumeLevel.prototype.createEl=function createEl(){var a=o.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return a.appendChild(o.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),a},VolumeLevel}(lh);lh.registerComponent("VolumeLevel",Of);var Lf=function(o){function VolumeLevelTooltip(a,s){var u;return(u=o.call(this,a,s)||this).update=zd(Wd(Pu()(u),u.update),Vd),u}Iu()(VolumeLevelTooltip,o);var a=VolumeLevelTooltip.prototype;return a.createEl=function createEl(){return o.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},a.update=function update(o,a,s,u){if(!s){var l=getBoundingClientRect(this.el_),c=getBoundingClientRect(this.player_.el()),h=o.width*a;if(!c||!l)return;var f=o.left-c.left+h,p=o.width-h+(c.right-o.right),m=l.width/2;f<m?m+=m-f:p<m&&(m=p),m<0?m=0:m>l.width&&(m=l.width),this.el_.style.right="-"+m+"px"}this.write(u+"%")},a.write=function write(o){textContent(this.el_,o)},a.updateVolume=function updateVolume(o,a,s,u,l){var c=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",(function(){c.update(o,a,s,u.toFixed(0)),l&&l()}))},VolumeLevelTooltip}(lh);lh.registerComponent("VolumeLevelTooltip",Lf);var Mf=function(o){function MouseVolumeLevelDisplay(a,s){var u;return(u=o.call(this,a,s)||this).update=zd(Wd(Pu()(u),u.update),Vd),u}Iu()(MouseVolumeLevelDisplay,o);var a=MouseVolumeLevelDisplay.prototype;return a.createEl=function createEl(){return o.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},a.update=function update(o,a,s){var u=this,l=100*a;this.getChild("volumeLevelTooltip").updateVolume(o,a,s,l,(function(){s?u.el_.style.bottom=o.height*a+"px":u.el_.style.left=o.width*a+"px"}))},MouseVolumeLevelDisplay}(lh);Mf.prototype.options_={children:["volumeLevelTooltip"]},lh.registerComponent("MouseVolumeLevelDisplay",Mf);var Df=function(o){function VolumeBar(a,s){var u;return(u=o.call(this,a,s)||this).on("slideractive",(function(o){return u.updateLastVolume_(o)})),u.on(a,"volumechange",(function(o){return u.updateARIAAttributes(o)})),a.ready((function(){return u.updateARIAAttributes()})),u}Iu()(VolumeBar,o);var a=VolumeBar.prototype;return a.createEl=function createEl(){return o.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},a.handleMouseDown=function handleMouseDown(a){isSingleLeftClick(a)&&o.prototype.handleMouseDown.call(this,a)},a.handleMouseMove=function handleMouseMove(o){var a=this.getChild("mouseVolumeLevelDisplay");if(a){var s=this.el(),u=getBoundingClientRect(s),l=this.vertical(),c=getPointerPosition(s,o);c=l?c.y:c.x,c=bf(c,0,1),a.update(u,c,l)}isSingleLeftClick(o)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(o)))},a.checkMuted=function checkMuted(){this.player_.muted()&&this.player_.muted(!1)},a.getPercent=function getPercent(){return this.player_.muted()?0:this.player_.volume()},a.stepForward=function stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},a.stepBack=function stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},a.updateARIAAttributes=function updateARIAAttributes(o){var a=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",a),this.el_.setAttribute("aria-valuetext",a+"%")},a.volumeAsPercentage_=function volumeAsPercentage_(){return Math.round(100*this.player_.volume())},a.updateLastVolume_=function updateLastVolume_(){var o=this,a=this.player_.volume();this.one("sliderinactive",(function(){0===o.player_.volume()&&o.player_.lastVolume_(a)}))},VolumeBar}(Tf);Df.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},kd||hd||Df.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),Df.prototype.playerEvent="volumechange",lh.registerComponent("VolumeBar",Df);var Rf=function(o){function VolumeControl(a,s){var u;return void 0===s&&(s={}),s.vertical=s.vertical||!1,(void 0===s.volumeBar||isPlain(s.volumeBar))&&(s.volumeBar=s.volumeBar||{},s.volumeBar.vertical=s.vertical),u=o.call(this,a,s)||this,function checkVolumeSupport(o,a){a.tech_&&!a.tech_.featuresVolumeControl&&o.addClass("vjs-hidden"),o.on(a,"loadstart",(function(){a.tech_.featuresVolumeControl?o.removeClass("vjs-hidden"):o.addClass("vjs-hidden")}))}(Pu()(u),a),u.throttledHandleMouseMove=zd(Wd(Pu()(u),u.handleMouseMove),Vd),u.handleMouseUpHandler_=function(o){return u.handleMouseUp(o)},u.on("mousedown",(function(o){return u.handleMouseDown(o)})),u.on("touchstart",(function(o){return u.handleMouseDown(o)})),u.on("mousemove",(function(o){return u.handleMouseMove(o)})),u.on(u.volumeBar,["focus","slideractive"],(function(){u.volumeBar.addClass("vjs-slider-active"),u.addClass("vjs-slider-active"),u.trigger("slideractive")})),u.on(u.volumeBar,["blur","sliderinactive"],(function(){u.volumeBar.removeClass("vjs-slider-active"),u.removeClass("vjs-slider-active"),u.trigger("sliderinactive")})),u}Iu()(VolumeControl,o);var a=VolumeControl.prototype;return a.createEl=function createEl(){var a="vjs-volume-horizontal";return this.options_.vertical&&(a="vjs-volume-vertical"),o.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+a})},a.handleMouseDown=function handleMouseDown(o){var a=this.el_.ownerDocument;this.on(a,"mousemove",this.throttledHandleMouseMove),this.on(a,"touchmove",this.throttledHandleMouseMove),this.on(a,"mouseup",this.handleMouseUpHandler_),this.on(a,"touchend",this.handleMouseUpHandler_)},a.handleMouseUp=function handleMouseUp(o){var a=this.el_.ownerDocument;this.off(a,"mousemove",this.throttledHandleMouseMove),this.off(a,"touchmove",this.throttledHandleMouseMove),this.off(a,"mouseup",this.handleMouseUpHandler_),this.off(a,"touchend",this.handleMouseUpHandler_)},a.handleMouseMove=function handleMouseMove(o){this.volumeBar.handleMouseMove(o)},VolumeControl}(lh);Rf.prototype.options_={children:["volumeBar"]},lh.registerComponent("VolumeControl",Rf);var Nf=function(o){function MuteToggle(a,s){var u;return u=o.call(this,a,s)||this,function checkMuteSupport(o,a){a.tech_&&!a.tech_.featuresMuteControl&&o.addClass("vjs-hidden"),o.on(a,"loadstart",(function(){a.tech_.featuresMuteControl?o.removeClass("vjs-hidden"):o.addClass("vjs-hidden")}))}(Pu()(u),a),u.on(a,["loadstart","volumechange"],(function(o){return u.update(o)})),u}Iu()(MuteToggle,o);var a=MuteToggle.prototype;return a.buildCSSClass=function buildCSSClass(){return"vjs-mute-control "+o.prototype.buildCSSClass.call(this)},a.handleClick=function handleClick(o){var a=this.player_.volume(),s=this.player_.lastVolume_();if(0===a){var u=s<.1?.1:s;this.player_.volume(u),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},a.update=function update(o){this.updateIcon_(),this.updateControlText_()},a.updateIcon_=function updateIcon_(){var o=this.player_.volume(),a=3;kd&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===o||this.player_.muted()?a=0:o<.33?a=1:o<.67&&(a=2);for(var s=0;s<4;s++)video_es_removeClass(this.el_,"vjs-vol-"+s);video_es_addClass(this.el_,"vjs-vol-"+a)},a.updateControlText_=function updateControlText_(){var o=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==o&&this.controlText(o)},MuteToggle}(sf);Nf.prototype.controlText_="Mute",lh.registerComponent("MuteToggle",Nf);var Bf=function(o){function VolumePanel(a,s){var u;return void 0===s&&(s={}),void 0!==s.inline?s.inline=s.inline:s.inline=!0,(void 0===s.volumeControl||isPlain(s.volumeControl))&&(s.volumeControl=s.volumeControl||{},s.volumeControl.vertical=!s.inline),(u=o.call(this,a,s)||this).handleKeyPressHandler_=function(o){return u.handleKeyPress(o)},u.on(a,["loadstart"],(function(o){return u.volumePanelState_(o)})),u.on(u.muteToggle,"keyup",(function(o){return u.handleKeyPress(o)})),u.on(u.volumeControl,"keyup",(function(o){return u.handleVolumeControlKeyUp(o)})),u.on("keydown",(function(o){return u.handleKeyPress(o)})),u.on("mouseover",(function(o){return u.handleMouseOver(o)})),u.on("mouseout",(function(o){return u.handleMouseOut(o)})),u.on(u.volumeControl,["slideractive"],u.sliderActive_),u.on(u.volumeControl,["sliderinactive"],u.sliderInactive_),u}Iu()(VolumePanel,o);var a=VolumePanel.prototype;return a.sliderActive_=function sliderActive_(){this.addClass("vjs-slider-active")},a.sliderInactive_=function sliderInactive_(){this.removeClass("vjs-slider-active")},a.volumePanelState_=function volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},a.createEl=function createEl(){var a="vjs-volume-panel-horizontal";return this.options_.inline||(a="vjs-volume-panel-vertical"),o.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+a})},a.dispose=function dispose(){this.handleMouseOut(),o.prototype.dispose.call(this)},a.handleVolumeControlKeyUp=function handleVolumeControlKeyUp(o){Du.a.isEventKey(o,"Esc")&&this.muteToggle.focus()},a.handleMouseOver=function handleMouseOver(o){this.addClass("vjs-hover"),on(Eu.a,"keyup",this.handleKeyPressHandler_)},a.handleMouseOut=function handleMouseOut(o){this.removeClass("vjs-hover"),off(Eu.a,"keyup",this.handleKeyPressHandler_)},a.handleKeyPress=function handleKeyPress(o){Du.a.isEventKey(o,"Esc")&&this.handleMouseOut()},VolumePanel}(lh);Bf.prototype.options_={children:["muteToggle","volumeControl"]},lh.registerComponent("VolumePanel",Bf);var Ff=function(o){function Menu(a,s){var u;return u=o.call(this,a,s)||this,s&&(u.menuButton_=s.menuButton),u.focusedChild_=-1,u.on("keydown",(function(o){return u.handleKeyDown(o)})),u.boundHandleBlur_=function(o){return u.handleBlur(o)},u.boundHandleTapClick_=function(o){return u.handleTapClick(o)},u}Iu()(Menu,o);var a=Menu.prototype;return a.addEventListenerForItem=function addEventListenerForItem(o){o instanceof lh&&(this.on(o,"blur",this.boundHandleBlur_),this.on(o,["tap","click"],this.boundHandleTapClick_))},a.removeEventListenerForItem=function removeEventListenerForItem(o){o instanceof lh&&(this.off(o,"blur",this.boundHandleBlur_),this.off(o,["tap","click"],this.boundHandleTapClick_))},a.removeChild=function removeChild(a){"string"==typeof a&&(a=this.getChild(a)),this.removeEventListenerForItem(a),o.prototype.removeChild.call(this,a)},a.addItem=function addItem(o){var a=this.addChild(o);a&&this.addEventListenerForItem(a)},a.createEl=function createEl$1(){var a=this.options_.contentElType||"ul";this.contentEl_=video_es_createEl(a,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var s=o.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return s.appendChild(this.contentEl_),on(s,"click",(function(o){o.preventDefault(),o.stopImmediatePropagation()})),s},a.dispose=function dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,o.prototype.dispose.call(this)},a.handleBlur=function handleBlur(o){var a=o.relatedTarget||Eu.a.activeElement;if(!this.children().some((function(o){return o.el()===a}))){var s=this.menuButton_;s&&s.buttonPressed_&&a!==s.el().firstChild&&s.unpressButton()}},a.handleTapClick=function handleTapClick(o){if(this.menuButton_){this.menuButton_.unpressButton();var a=this.children();if(!Array.isArray(a))return;var s=a.filter((function(a){return a.el()===o.target}))[0];if(!s)return;"CaptionSettingsMenuItem"!==s.name()&&this.menuButton_.focus()}},a.handleKeyDown=function handleKeyDown(o){Du.a.isEventKey(o,"Left")||Du.a.isEventKey(o,"Down")?(o.preventDefault(),o.stopPropagation(),this.stepForward()):(Du.a.isEventKey(o,"Right")||Du.a.isEventKey(o,"Up"))&&(o.preventDefault(),o.stopPropagation(),this.stepBack())},a.stepForward=function stepForward(){var o=0;void 0!==this.focusedChild_&&(o=this.focusedChild_+1),this.focus(o)},a.stepBack=function stepBack(){var o=0;void 0!==this.focusedChild_&&(o=this.focusedChild_-1),this.focus(o)},a.focus=function focus(o){void 0===o&&(o=0);var a=this.children().slice();a.length&&a[0].hasClass("vjs-menu-title")&&a.shift(),a.length>0&&(o<0?o=0:o>=a.length&&(o=a.length-1),this.focusedChild_=o,a[o].el_.focus())},Menu}(lh);lh.registerComponent("Menu",Ff);var jf=function(o){function MenuButton(a,s){var u;void 0===s&&(s={}),(u=o.call(this,a,s)||this).menuButton_=new sf(a,s),u.menuButton_.controlText(u.controlText_),u.menuButton_.el_.setAttribute("aria-haspopup","true");var l=sf.prototype.buildCSSClass();u.menuButton_.el_.className=u.buildCSSClass()+" "+l,u.menuButton_.removeClass("vjs-control"),u.addChild(u.menuButton_),u.update(),u.enabled_=!0;var c=function handleClick(o){return u.handleClick(o)};return u.handleMenuKeyUp_=function(o){return u.handleMenuKeyUp(o)},u.on(u.menuButton_,"tap",c),u.on(u.menuButton_,"click",c),u.on(u.menuButton_,"keydown",(function(o){return u.handleKeyDown(o)})),u.on(u.menuButton_,"mouseenter",(function(){u.addClass("vjs-hover"),u.menu.show(),on(Eu.a,"keyup",u.handleMenuKeyUp_)})),u.on("mouseleave",(function(o){return u.handleMouseLeave(o)})),u.on("keydown",(function(o){return u.handleSubmenuKeyDown(o)})),u}Iu()(MenuButton,o);var a=MenuButton.prototype;return a.update=function update(){var o=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=o,this.addChild(o),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},a.createMenu=function createMenu(){var o=new Ff(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var a=video_es_createEl("li",{className:"vjs-menu-title",textContent:ih(this.options_.title),tabIndex:-1}),s=new lh(this.player_,{el:a});o.addItem(s)}if(this.items=this.createItems(),this.items)for(var u=0;u<this.items.length;u++)o.addItem(this.items[u]);return o},a.createItems=function createItems(){},a.createEl=function createEl(){return o.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},a.buildWrapperCSSClass=function buildWrapperCSSClass(){var a="vjs-menu-button";return!0===this.options_.inline?a+="-inline":a+="-popup","vjs-menu-button "+a+" "+sf.prototype.buildCSSClass()+" "+o.prototype.buildCSSClass.call(this)},a.buildCSSClass=function buildCSSClass(){var a="vjs-menu-button";return!0===this.options_.inline?a+="-inline":a+="-popup","vjs-menu-button "+a+" "+o.prototype.buildCSSClass.call(this)},a.controlText=function controlText(o,a){return void 0===a&&(a=this.menuButton_.el()),this.menuButton_.controlText(o,a)},a.dispose=function dispose(){this.handleMouseLeave(),o.prototype.dispose.call(this)},a.handleClick=function handleClick(o){this.buttonPressed_?this.unpressButton():this.pressButton()},a.handleMouseLeave=function handleMouseLeave(o){this.removeClass("vjs-hover"),off(Eu.a,"keyup",this.handleMenuKeyUp_)},a.focus=function focus(){this.menuButton_.focus()},a.blur=function blur(){this.menuButton_.blur()},a.handleKeyDown=function handleKeyDown(o){Du.a.isEventKey(o,"Esc")||Du.a.isEventKey(o,"Tab")?(this.buttonPressed_&&this.unpressButton(),Du.a.isEventKey(o,"Tab")||(o.preventDefault(),this.menuButton_.focus())):(Du.a.isEventKey(o,"Up")||Du.a.isEventKey(o,"Down"))&&(this.buttonPressed_||(o.preventDefault(),this.pressButton()))},a.handleMenuKeyUp=function handleMenuKeyUp(o){(Du.a.isEventKey(o,"Esc")||Du.a.isEventKey(o,"Tab"))&&this.removeClass("vjs-hover")},a.handleSubmenuKeyPress=function handleSubmenuKeyPress(o){this.handleSubmenuKeyDown(o)},a.handleSubmenuKeyDown=function handleSubmenuKeyDown(o){(Du.a.isEventKey(o,"Esc")||Du.a.isEventKey(o,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),Du.a.isEventKey(o,"Tab")||(o.preventDefault(),this.menuButton_.focus()))},a.pressButton=function pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),kd&&isInFrame())return;this.menu.focus()}},a.unpressButton=function unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},a.disable=function disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},a.enable=function enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},MenuButton}(lh);lh.registerComponent("MenuButton",jf);var Uf=function(o){function TrackButton(a,s){var u,l=s.tracks;if((u=o.call(this,a,s)||this).items.length<=1&&u.hide(),!l)return Pu()(u);var c=Wd(Pu()(u),u.update);return l.addEventListener("removetrack",c),l.addEventListener("addtrack",c),l.addEventListener("labelchange",c),u.player_.on("ready",c),u.player_.on("dispose",(function(){l.removeEventListener("removetrack",c),l.removeEventListener("addtrack",c),l.removeEventListener("labelchange",c)})),u}return Iu()(TrackButton,o),TrackButton}(jf);lh.registerComponent("TrackButton",Uf);var Hf=["Tab","Esc","Up","Down","Right","Left"],qf=function(o){function MenuItem(a,s){var u;return(u=o.call(this,a,s)||this).selectable=s.selectable,u.isSelected_=s.selected||!1,u.multiSelectable=s.multiSelectable,u.selected(u.isSelected_),u.selectable?u.multiSelectable?u.el_.setAttribute("role","menuitemcheckbox"):u.el_.setAttribute("role","menuitemradio"):u.el_.setAttribute("role","menuitem"),u}Iu()(MenuItem,o);var a=MenuItem.prototype;return a.createEl=function createEl$1(a,s,u){this.nonIconControl=!0;var l=o.prototype.createEl.call(this,"li",video_es_assign({className:"vjs-menu-item",tabIndex:-1},s),u);return l.replaceChild(video_es_createEl("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),l.querySelector(".vjs-icon-placeholder")),l},a.handleKeyDown=function handleKeyDown(a){Hf.some((function(o){return Du.a.isEventKey(a,o)}))||o.prototype.handleKeyDown.call(this,a)},a.handleClick=function handleClick(o){this.selected(!0)},a.selected=function selected(o){this.selectable&&(o?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},MenuItem}(ef);lh.registerComponent("MenuItem",qf);var Vf=function(o){function TextTrackMenuItem(a,s){var u,l=s.track,c=a.textTracks();s.label=l.label||l.language||"Unknown",s.selected="showing"===l.mode,(u=o.call(this,a,s)||this).track=l,u.kinds=(s.kinds||[s.kind||u.track.kind]).filter(Boolean);var h,f=function changeHandler(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];u.handleTracksChange.apply(Pu()(u),a)},p=function selectedLanguageChangeHandler(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];u.handleSelectedLanguageChange.apply(Pu()(u),a)};(a.on(["loadstart","texttrackchange"],f),c.addEventListener("change",f),c.addEventListener("selectedlanguagechange",p),u.on("dispose",(function(){a.off(["loadstart","texttrackchange"],f),c.removeEventListener("change",f),c.removeEventListener("selectedlanguagechange",p)})),void 0===c.onchange)&&u.on(["tap","click"],(function(){if("object"!=typeof Su.a.Event)try{h=new Su.a.Event("change")}catch(o){}h||(h=Eu.a.createEvent("Event")).initEvent("change",!0,!0),c.dispatchEvent(h)}));return u.handleTracksChange(),u}Iu()(TextTrackMenuItem,o);var a=TextTrackMenuItem.prototype;return a.handleClick=function handleClick(a){var s=this.track,u=this.player_.textTracks();if(o.prototype.handleClick.call(this,a),u)for(var l=0;l<u.length;l++){var c=u[l];-1!==this.kinds.indexOf(c.kind)&&(c===s?"showing"!==c.mode&&(c.mode="showing"):"disabled"!==c.mode&&(c.mode="disabled"))}},a.handleTracksChange=function handleTracksChange(o){var a="showing"===this.track.mode;a!==this.isSelected_&&this.selected(a)},a.handleSelectedLanguageChange=function handleSelectedLanguageChange(o){if("showing"===this.track.mode){var a=this.player_.cache_.selectedLanguage;if(a&&a.enabled&&a.language===this.track.language&&a.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},a.dispose=function dispose(){this.track=null,o.prototype.dispose.call(this)},TextTrackMenuItem}(qf);lh.registerComponent("TextTrackMenuItem",Vf);var Wf=function(o){function OffTextTrackMenuItem(a,s){return s.track={player:a,kind:s.kind,kinds:s.kinds,default:!1,mode:"disabled"},s.kinds||(s.kinds=[s.kind]),s.label?s.track.label=s.label:s.track.label=s.kinds.join(" and ")+" off",s.selectable=!0,s.multiSelectable=!1,o.call(this,a,s)||this}Iu()(OffTextTrackMenuItem,o);var a=OffTextTrackMenuItem.prototype;return a.handleTracksChange=function handleTracksChange(o){for(var a=this.player().textTracks(),s=!0,u=0,l=a.length;u<l;u++){var c=a[u];if(this.options_.kinds.indexOf(c.kind)>-1&&"showing"===c.mode){s=!1;break}}s!==this.isSelected_&&this.selected(s)},a.handleSelectedLanguageChange=function handleSelectedLanguageChange(o){for(var a=this.player().textTracks(),s=!0,u=0,l=a.length;u<l;u++){var c=a[u];if(["captions","descriptions","subtitles"].indexOf(c.kind)>-1&&"showing"===c.mode){s=!1;break}}s&&(this.player_.cache_.selectedLanguage={enabled:!1})},OffTextTrackMenuItem}(Vf);lh.registerComponent("OffTextTrackMenuItem",Wf);var zf=function(o){function TextTrackButton(a,s){return void 0===s&&(s={}),s.tracks=a.textTracks(),o.call(this,a,s)||this}return Iu()(TextTrackButton,o),TextTrackButton.prototype.createItems=function createItems(o,a){var s;void 0===o&&(o=[]),void 0===a&&(a=Vf),this.label_&&(s=this.label_+" off"),o.push(new Wf(this.player_,{kinds:this.kinds_,kind:this.kind_,label:s})),this.hideThreshold_+=1;var u=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var l=0;l<u.length;l++){var c=u[l];if(this.kinds_.indexOf(c.kind)>-1){var h=new a(this.player_,{track:c,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});h.addClass("vjs-"+c.kind+"-menu-item"),o.push(h)}}return o},TextTrackButton}(Uf);lh.registerComponent("TextTrackButton",zf);var Gf=function(o){function ChaptersTrackMenuItem(a,s){var u,l=s.track,c=s.cue,h=a.currentTime();return s.selectable=!0,s.multiSelectable=!1,s.label=c.text,s.selected=c.startTime<=h&&h<c.endTime,(u=o.call(this,a,s)||this).track=l,u.cue=c,l.addEventListener("cuechange",Wd(Pu()(u),u.update)),u}Iu()(ChaptersTrackMenuItem,o);var a=ChaptersTrackMenuItem.prototype;return a.handleClick=function handleClick(a){o.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},a.update=function update(o){var a=this.cue,s=this.player_.currentTime();this.selected(a.startTime<=s&&s<a.endTime)},ChaptersTrackMenuItem}(qf);lh.registerComponent("ChaptersTrackMenuItem",Gf);var Xf=function(o){function ChaptersButton(a,s,u){return o.call(this,a,s,u)||this}Iu()(ChaptersButton,o);var a=ChaptersButton.prototype;return a.buildCSSClass=function buildCSSClass(){return"vjs-chapters-button "+o.prototype.buildCSSClass.call(this)},a.buildWrapperCSSClass=function buildWrapperCSSClass(){return"vjs-chapters-button "+o.prototype.buildWrapperCSSClass.call(this)},a.update=function update(a){this.track_&&(!a||"addtrack"!==a.type&&"removetrack"!==a.type)||this.setTrack(this.findChaptersTrack()),o.prototype.update.call(this)},a.setTrack=function setTrack(o){if(this.track_!==o){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var a=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);a&&a.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=o,this.track_){this.track_.mode="hidden";var s=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);s&&s.addEventListener("load",this.updateHandler_)}}},a.findChaptersTrack=function findChaptersTrack(){for(var o=this.player_.textTracks()||[],a=o.length-1;a>=0;a--){var s=o[a];if(s.kind===this.kind_)return s}},a.getMenuCaption=function getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(ih(this.kind_))},a.createMenu=function createMenu(){return this.options_.title=this.getMenuCaption(),o.prototype.createMenu.call(this)},a.createItems=function createItems(){var o=[];if(!this.track_)return o;var a=this.track_.cues;if(!a)return o;for(var s=0,u=a.length;s<u;s++){var l=a[s],c=new Gf(this.player_,{track:this.track_,cue:l});o.push(c)}return o},ChaptersButton}(zf);Xf.prototype.kind_="chapters",Xf.prototype.controlText_="Chapters",lh.registerComponent("ChaptersButton",Xf);var Yf=function(o){function DescriptionsButton(a,s,u){var l;l=o.call(this,a,s,u)||this;var c=a.textTracks(),h=Wd(Pu()(l),l.handleTracksChange);return c.addEventListener("change",h),l.on("dispose",(function(){c.removeEventListener("change",h)})),l}Iu()(DescriptionsButton,o);var a=DescriptionsButton.prototype;return a.handleTracksChange=function handleTracksChange(o){for(var a=this.player().textTracks(),s=!1,u=0,l=a.length;u<l;u++){var c=a[u];if(c.kind!==this.kind_&&"showing"===c.mode){s=!0;break}}s?this.disable():this.enable()},a.buildCSSClass=function buildCSSClass(){return"vjs-descriptions-button "+o.prototype.buildCSSClass.call(this)},a.buildWrapperCSSClass=function buildWrapperCSSClass(){return"vjs-descriptions-button "+o.prototype.buildWrapperCSSClass.call(this)},DescriptionsButton}(zf);Yf.prototype.kind_="descriptions",Yf.prototype.controlText_="Descriptions",lh.registerComponent("DescriptionsButton",Yf);var $f=function(o){function SubtitlesButton(a,s,u){return o.call(this,a,s,u)||this}Iu()(SubtitlesButton,o);var a=SubtitlesButton.prototype;return a.buildCSSClass=function buildCSSClass(){return"vjs-subtitles-button "+o.prototype.buildCSSClass.call(this)},a.buildWrapperCSSClass=function buildWrapperCSSClass(){return"vjs-subtitles-button "+o.prototype.buildWrapperCSSClass.call(this)},SubtitlesButton}(zf);$f.prototype.kind_="subtitles",$f.prototype.controlText_="Subtitles",lh.registerComponent("SubtitlesButton",$f);var Kf=function(o){function CaptionSettingsMenuItem(a,s){var u;return s.track={player:a,kind:s.kind,label:s.kind+" settings",selectable:!1,default:!1,mode:"disabled"},s.selectable=!1,s.name="CaptionSettingsMenuItem",(u=o.call(this,a,s)||this).addClass("vjs-texttrack-settings"),u.controlText(", opens "+s.kind+" settings dialog"),u}return Iu()(CaptionSettingsMenuItem,o),CaptionSettingsMenuItem.prototype.handleClick=function handleClick(o){this.player().getChild("textTrackSettings").open()},CaptionSettingsMenuItem}(Vf);lh.registerComponent("CaptionSettingsMenuItem",Kf);var Qf=function(o){function CaptionsButton(a,s,u){return o.call(this,a,s,u)||this}Iu()(CaptionsButton,o);var a=CaptionsButton.prototype;return a.buildCSSClass=function buildCSSClass(){return"vjs-captions-button "+o.prototype.buildCSSClass.call(this)},a.buildWrapperCSSClass=function buildWrapperCSSClass(){return"vjs-captions-button "+o.prototype.buildWrapperCSSClass.call(this)},a.createItems=function createItems(){var a=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(a.push(new Kf(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),o.prototype.createItems.call(this,a)},CaptionsButton}(zf);Qf.prototype.kind_="captions",Qf.prototype.controlText_="Captions",lh.registerComponent("CaptionsButton",Qf);var Jf=function(o){function SubsCapsMenuItem(){return o.apply(this,arguments)||this}return Iu()(SubsCapsMenuItem,o),SubsCapsMenuItem.prototype.createEl=function createEl$1(a,s,u){var l=o.prototype.createEl.call(this,a,s,u),c=l.querySelector(".vjs-menu-item-text");return"captions"===this.options_.track.kind&&(c.appendChild(video_es_createEl("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),c.appendChild(video_es_createEl("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),l},SubsCapsMenuItem}(Vf);lh.registerComponent("SubsCapsMenuItem",Jf);var Zf=function(o){function SubsCapsButton(a,s){var u;return void 0===s&&(s={}),(u=o.call(this,a,s)||this).label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(u.player_.language_)>-1&&(u.label_="captions"),u.menuButton_.controlText(ih(u.label_)),u}Iu()(SubsCapsButton,o);var a=SubsCapsButton.prototype;return a.buildCSSClass=function buildCSSClass(){return"vjs-subs-caps-button "+o.prototype.buildCSSClass.call(this)},a.buildWrapperCSSClass=function buildWrapperCSSClass(){return"vjs-subs-caps-button "+o.prototype.buildWrapperCSSClass.call(this)},a.createItems=function createItems(){var a=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(a.push(new Kf(this.player_,{kind:this.label_})),this.hideThreshold_+=1),a=o.prototype.createItems.call(this,a,Jf)},SubsCapsButton}(zf);Zf.prototype.kinds_=["captions","subtitles"],Zf.prototype.controlText_="Subtitles",lh.registerComponent("SubsCapsButton",Zf);var ep=function(o){function AudioTrackMenuItem(a,s){var u,l=s.track,c=a.audioTracks();s.label=l.label||l.language||"Unknown",s.selected=l.enabled,(u=o.call(this,a,s)||this).track=l,u.addClass("vjs-"+l.kind+"-menu-item");var h=function changeHandler(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];u.handleTracksChange.apply(Pu()(u),a)};return c.addEventListener("change",h),u.on("dispose",(function(){c.removeEventListener("change",h)})),u}Iu()(AudioTrackMenuItem,o);var a=AudioTrackMenuItem.prototype;return a.createEl=function createEl(a,s,u){var l=o.prototype.createEl.call(this,a,s,u),c=l.querySelector(".vjs-menu-item-text");return"main-desc"===this.options_.track.kind&&(c.appendChild(o.prototype.createEl.call(this,"span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),c.appendChild(o.prototype.createEl.call(this,"span",{className:"vjs-control-text",textContent:this.localize("Descriptions")}))),l},a.handleClick=function handleClick(a){o.prototype.handleClick.call(this,a),this.track.enabled=!0},a.handleTracksChange=function handleTracksChange(o){this.selected(this.track.enabled)},AudioTrackMenuItem}(qf);lh.registerComponent("AudioTrackMenuItem",ep);var tp=function(o){function AudioTrackButton(a,s){return void 0===s&&(s={}),s.tracks=a.audioTracks(),o.call(this,a,s)||this}Iu()(AudioTrackButton,o);var a=AudioTrackButton.prototype;return a.buildCSSClass=function buildCSSClass(){return"vjs-audio-button "+o.prototype.buildCSSClass.call(this)},a.buildWrapperCSSClass=function buildWrapperCSSClass(){return"vjs-audio-button "+o.prototype.buildWrapperCSSClass.call(this)},a.createItems=function createItems(o){void 0===o&&(o=[]),this.hideThreshold_=1;for(var a=this.player_.audioTracks(),s=0;s<a.length;s++){var u=a[s];o.push(new ep(this.player_,{track:u,selectable:!0,multiSelectable:!1}))}return o},AudioTrackButton}(Uf);tp.prototype.controlText_="Audio Track",lh.registerComponent("AudioTrackButton",tp);var np=function(o){function PlaybackRateMenuItem(a,s){var u,l=s.rate,c=parseFloat(l,10);return s.label=l,s.selected=c===a.playbackRate(),s.selectable=!0,s.multiSelectable=!1,(u=o.call(this,a,s)||this).label=l,u.rate=c,u.on(a,"ratechange",(function(o){return u.update(o)})),u}Iu()(PlaybackRateMenuItem,o);var a=PlaybackRateMenuItem.prototype;return a.handleClick=function handleClick(a){o.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},a.update=function update(o){this.selected(this.player().playbackRate()===this.rate)},PlaybackRateMenuItem}(qf);np.prototype.contentElType="button",lh.registerComponent("PlaybackRateMenuItem",np);var rp=function(o){function PlaybackRateMenuButton(a,s){var u;return(u=o.call(this,a,s)||this).menuButton_.el_.setAttribute("aria-describedby",u.labelElId_),u.updateVisibility(),u.updateLabel(),u.on(a,"loadstart",(function(o){return u.updateVisibility(o)})),u.on(a,"ratechange",(function(o){return u.updateLabel(o)})),u.on(a,"playbackrateschange",(function(o){return u.handlePlaybackRateschange(o)})),u}Iu()(PlaybackRateMenuButton,o);var a=PlaybackRateMenuButton.prototype;return a.createEl=function createEl$1(){var a=o.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=video_es_createEl("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),a.appendChild(this.labelEl_),a},a.dispose=function dispose(){this.labelEl_=null,o.prototype.dispose.call(this)},a.buildCSSClass=function buildCSSClass(){return"vjs-playback-rate "+o.prototype.buildCSSClass.call(this)},a.buildWrapperCSSClass=function buildWrapperCSSClass(){return"vjs-playback-rate "+o.prototype.buildWrapperCSSClass.call(this)},a.createItems=function createItems(){for(var o=this.playbackRates(),a=[],s=o.length-1;s>=0;s--)a.push(new np(this.player(),{rate:o[s]+"x"}));return a},a.updateARIAAttributes=function updateARIAAttributes(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},a.handleClick=function handleClick(o){for(var a=this.player().playbackRate(),s=this.playbackRates(),u=s[0],l=0;l<s.length;l++)if(s[l]>a){u=s[l];break}this.player().playbackRate(u)},a.handlePlaybackRateschange=function handlePlaybackRateschange(o){this.update()},a.playbackRates=function playbackRates(){var o=this.player();return o.playbackRates&&o.playbackRates()||[]},a.playbackRateSupported=function playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},a.updateVisibility=function updateVisibility(o){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},a.updateLabel=function updateLabel(o){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},PlaybackRateMenuButton}(jf);rp.prototype.controlText_="Playback Rate",lh.registerComponent("PlaybackRateMenuButton",rp);var ip=function(o){function Spacer(){return o.apply(this,arguments)||this}Iu()(Spacer,o);var a=Spacer.prototype;return a.buildCSSClass=function buildCSSClass(){return"vjs-spacer "+o.prototype.buildCSSClass.call(this)},a.createEl=function createEl(a,s,u){return void 0===a&&(a="div"),void 0===s&&(s={}),void 0===u&&(u={}),s.className||(s.className=this.buildCSSClass()),o.prototype.createEl.call(this,a,s,u)},Spacer}(lh);lh.registerComponent("Spacer",ip);var op=function(o){function CustomControlSpacer(){return o.apply(this,arguments)||this}Iu()(CustomControlSpacer,o);var a=CustomControlSpacer.prototype;return a.buildCSSClass=function buildCSSClass(){return"vjs-custom-control-spacer "+o.prototype.buildCSSClass.call(this)},a.createEl=function createEl(){return o.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:" "})},CustomControlSpacer}(ip);lh.registerComponent("CustomControlSpacer",op);var ap=function(o){function ControlBar(){return o.apply(this,arguments)||this}return Iu()(ControlBar,o),ControlBar.prototype.createEl=function createEl(){return o.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},ControlBar}(lh);ap.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in Eu.a&&ap.prototype.options_.children.splice(ap.prototype.options_.children.length-1,0,"pictureInPictureToggle"),lh.registerComponent("ControlBar",ap);var sp=function(o){function ErrorDisplay(a,s){var u;return(u=o.call(this,a,s)||this).on(a,"error",(function(o){return u.open(o)})),u}Iu()(ErrorDisplay,o);var a=ErrorDisplay.prototype;return a.buildCSSClass=function buildCSSClass(){return"vjs-error-display "+o.prototype.buildCSSClass.call(this)},a.content=function content(){var o=this.player().error();return o?this.localize(o.message):""},ErrorDisplay}(ph);sp.prototype.options_=Cu()({},ph.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),lh.registerComponent("ErrorDisplay",sp);var up="vjs-text-track-settings",lp=["#000","Black"],cp=["#00F","Blue"],dp=["#0FF","Cyan"],hp=["#0F0","Green"],fp=["#F0F","Magenta"],pp=["#F00","Red"],mp=["#FFF","White"],vp=["#FF0","Yellow"],yp=["1","Opaque"],_p=["0.5","Semi-Transparent"],bp=["0","Transparent"],Tp={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[lp,mp,pp,hp,cp,vp,fp,dp]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[yp,_p,bp]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[mp,lp,pp,hp,cp,vp,fp,dp]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function parser(o){return"1.00"===o?null:Number(o)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[yp,_p]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[bp,_p,yp]}};function parseOptionValue(o,a){if(a&&(o=a(o)),o&&"none"!==o)return o}Tp.windowColor.options=Tp.backgroundColor.options;var Sp=function(o){function TextTrackSettings(a,s){var u;return s.temporary=!1,(u=o.call(this,a,s)||this).updateDisplay=u.updateDisplay.bind(Pu()(u)),u.fill(),u.hasBeenOpened_=u.hasBeenFilled_=!0,u.endDialog=video_es_createEl("p",{className:"vjs-control-text",textContent:u.localize("End of dialog window.")}),u.el().appendChild(u.endDialog),u.setDefaults(),void 0===s.persistTextTrackSettings&&(u.options_.persistTextTrackSettings=u.options_.playerOptions.persistTextTrackSettings),u.on(u.$(".vjs-done-button"),"click",(function(){u.saveSettings(),u.close()})),u.on(u.$(".vjs-default-button"),"click",(function(){u.setDefaults(),u.updateDisplay()})),each(Tp,(function(o){u.on(u.$(o.selector),"change",u.updateDisplay)})),u.options_.persistTextTrackSettings&&u.restoreSettings(),u}Iu()(TextTrackSettings,o);var a=TextTrackSettings.prototype;return a.dispose=function dispose(){this.endDialog=null,o.prototype.dispose.call(this)},a.createElSelect_=function createElSelect_(o,a,s){var u=this;void 0===a&&(a=""),void 0===s&&(s="label");var l=Tp[o],c=l.id.replace("%s",this.id_),h=[a,c].join(" ").trim();return["<"+s+' id="'+c+'" class="'+("label"===s?"vjs-label":"")+'">',this.localize(l.label),"</"+s+">",'<select aria-labelledby="'+h+'">'].concat(l.options.map((function(o){var a=c+"-"+o[1].replace(/\W+/g,"");return['<option id="'+a+'" value="'+o[0]+'" ','aria-labelledby="'+h+" "+a+'">',u.localize(o[1]),"</option>"].join("")}))).concat("</select>").join("")},a.createElFgColor_=function createElFgColor_(){var o="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+o+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",o),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",o),"</span>","</fieldset>"].join("")},a.createElBgColor_=function createElBgColor_(){var o="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+o+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",o),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",o),"</span>","</fieldset>"].join("")},a.createElWinColor_=function createElWinColor_(){var o="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+o+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",o),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",o),"</span>","</fieldset>"].join("")},a.createElColors_=function createElColors_(){return video_es_createEl("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},a.createElFont_=function createElFont_(){return video_es_createEl("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},a.createElControls_=function createElControls_(){var o=this.localize("restore all settings to the default values");return video_es_createEl("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+o+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+o+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},a.content=function content(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},a.label=function label(){return this.localize("Caption Settings Dialog")},a.description=function description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},a.buildCSSClass=function buildCSSClass(){return o.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},a.getValues=function getValues(){var o=this;return function reduce(o,a,s){return void 0===s&&(s=0),nd(o).reduce((function(s,u){return a(s,o[u],u)}),s)}(Tp,(function(a,s,u){var l=function getSelectedOptionValue(o,a){return parseOptionValue(o.options[o.options.selectedIndex].value,a)}(o.$(s.selector),s.parser);return void 0!==l&&(a[u]=l),a}),{})},a.setValues=function setValues(o){var a=this;each(Tp,(function(s,u){!function setSelectedOption(o,a,s){if(a)for(var u=0;u<o.options.length;u++)if(parseOptionValue(o.options[u].value,s)===a){o.selectedIndex=u;break}}(a.$(s.selector),o[u],s.parser)}))},a.setDefaults=function setDefaults(){var o=this;each(Tp,(function(a){var s=a.hasOwnProperty("default")?a.default:0;o.$(a.selector).selectedIndex=s}))},a.restoreSettings=function restoreSettings(){var o;try{o=JSON.parse(Su.a.localStorage.getItem(up))}catch(o){Zc.warn(o)}o&&this.setValues(o)},a.saveSettings=function saveSettings(){if(this.options_.persistTextTrackSettings){var o=this.getValues();try{Object.keys(o).length?Su.a.localStorage.setItem(up,JSON.stringify(o)):Su.a.localStorage.removeItem(up)}catch(o){Zc.warn(o)}}},a.updateDisplay=function updateDisplay(){var o=this.player_.getChild("textTrackDisplay");o&&o.updateDisplay()},a.conditionalBlur_=function conditionalBlur_(){this.previouslyActiveEl_=null;var o=this.player_.controlBar,a=o&&o.subsCapsButton,s=o&&o.captionsButton;a?a.focus():s&&s.focus()},TextTrackSettings}(ph);lh.registerComponent("TextTrackSettings",Sp);var wp=function(o){function ResizeManager(a,s){var u,l=s.ResizeObserver||Su.a.ResizeObserver;null===s.ResizeObserver&&(l=!1);var c=mergeOptions$3({createEl:!l,reportTouchActivity:!1},s);return(u=o.call(this,a,c)||this).ResizeObserver=s.ResizeObserver||Su.a.ResizeObserver,u.loadListener_=null,u.resizeObserver_=null,u.debouncedHandler_=function debounce(o,a,s,u){var l;void 0===u&&(u=Su.a);var c=function debounced(){var c=this,h=arguments,f=function later(){l=null,f=null,s||o.apply(c,h)};!l&&s&&o.apply(c,h),u.clearTimeout(l),l=u.setTimeout(f,a)};return c.cancel=function cancel(){u.clearTimeout(l),l=null},c}((function(){u.resizeHandler()}),100,!1,Pu()(u)),l?(u.resizeObserver_=new u.ResizeObserver(u.debouncedHandler_),u.resizeObserver_.observe(a.el())):(u.loadListener_=function(){if(u.el_&&u.el_.contentWindow){var o=u.debouncedHandler_,a=u.unloadListener_=function(){off(this,"resize",o),off(this,"unload",a),a=null};on(u.el_.contentWindow,"unload",a),on(u.el_.contentWindow,"resize",o)}},u.one("load",u.loadListener_)),u}Iu()(ResizeManager,o);var a=ResizeManager.prototype;return a.createEl=function createEl(){return o.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},a.resizeHandler=function resizeHandler(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},a.dispose=function dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,o.prototype.dispose.call(this)},ResizeManager}(lh);lh.registerComponent("ResizeManager",wp);var Ep={trackingThreshold:30,liveTolerance:15},kp=function(o){function LiveTracker(a,s){var u,l=mergeOptions$3(Ep,s,{createEl:!1});return(u=o.call(this,a,l)||this).handleVisibilityChange_=function(o){return u.handleVisibilityChange(o)},u.trackLiveHandler_=function(){return u.trackLive_()},u.handlePlay_=function(o){return u.handlePlay(o)},u.handleFirstTimeupdate_=function(o){return u.handleFirstTimeupdate(o)},u.handleSeeked_=function(o){return u.handleSeeked(o)},u.seekToLiveEdge_=function(o){return u.seekToLiveEdge(o)},u.reset_(),u.on(u.player_,"durationchange",(function(o){return u.handleDurationchange(o)})),u.one(u.player_,"canplay",(function(){return u.toggleTracking()})),_d&&"hidden"in Eu.a&&"visibilityState"in Eu.a&&u.on(Eu.a,"visibilitychange",u.handleVisibilityChange_),u}Iu()(LiveTracker,o);var a=LiveTracker.prototype;return a.handleVisibilityChange=function handleVisibilityChange(){this.player_.duration()===1/0&&(Eu.a.hidden?this.stopTracking():this.startTracking())},a.trackLive_=function trackLive_(){var o=this.player_.seekable();if(o&&o.length){var a=Number(Su.a.performance.now().toFixed(4)),s=-1===this.lastTime_?0:(a-this.lastTime_)/1e3;this.lastTime_=a,this.pastSeekEnd_=this.pastSeekEnd()+s;var u=this.liveCurrentTime(),l=this.player_.currentTime(),c=this.player_.paused()||this.seekedBehindLive_||Math.abs(u-l)>this.options_.liveTolerance;this.timeupdateSeen_&&u!==1/0||(c=!1),c!==this.behindLiveEdge_&&(this.behindLiveEdge_=c,this.trigger("liveedgechange"))}},a.handleDurationchange=function handleDurationchange(){this.toggleTracking()},a.toggleTracking=function toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},a.startTracking=function startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,Vd),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},a.handleFirstTimeupdate=function handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},a.handleSeeked=function handleSeeked(){var o=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&o>2,this.nextSeekedFromUser_=!1,this.trackLive_()},a.handlePlay=function handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},a.reset_=function reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},a.nextSeekedFromUser=function nextSeekedFromUser(){this.nextSeekedFromUser_=!0},a.stopTracking=function stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))},a.seekableEnd=function seekableEnd(){for(var o=this.player_.seekable(),a=[],s=o?o.length:0;s--;)a.push(o.end(s));return a.length?a.sort()[a.length-1]:1/0},a.seekableStart=function seekableStart(){for(var o=this.player_.seekable(),a=[],s=o?o.length:0;s--;)a.push(o.start(s));return a.length?a.sort()[0]:0},a.liveWindow=function liveWindow(){var o=this.liveCurrentTime();return o===1/0?0:o-this.seekableStart()},a.isLive=function isLive(){return this.isTracking()},a.atLiveEdge=function atLiveEdge(){return!this.behindLiveEdge()},a.liveCurrentTime=function liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()},a.pastSeekEnd=function pastSeekEnd(){var o=this.seekableEnd();return-1!==this.lastSeekEnd_&&o!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=o,this.pastSeekEnd_},a.behindLiveEdge=function behindLiveEdge(){return this.behindLiveEdge_},a.isTracking=function isTracking(){return"number"==typeof this.trackingInterval_},a.seekToLiveEdge=function seekToLiveEdge(){this.seekedBehindLive_=!1,this.atLiveEdge()||(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},a.dispose=function dispose(){this.off(Eu.a,"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),o.prototype.dispose.call(this)},LiveTracker}(lh);lh.registerComponent("LiveTracker",kp);var Cp,xp=function sourcesetLoad(o){var a=o.el();if(a.hasAttribute("src"))return o.triggerSourceset(a.src),!0;var s=o.$$("source"),u=[],l="";if(!s.length)return!1;for(var c=0;c<s.length;c++){var h=s[c].src;h&&-1===u.indexOf(h)&&u.push(h)}return!!u.length&&(1===u.length&&(l=u[0]),o.triggerSourceset(l),!0)},Pp=Object.defineProperty({},"innerHTML",{get:function get(){return this.cloneNode(!0).innerHTML},set:function set(o){var a=Eu.a.createElement(this.nodeName.toLowerCase());a.innerHTML=o;for(var s=Eu.a.createDocumentFragment();a.childNodes.length;)s.appendChild(a.childNodes[0]);return this.innerText="",Su.a.Element.prototype.appendChild.call(this,s),this.innerHTML}}),Ap=function getDescriptor(o,a){for(var s={},u=0;u<o.length&&!((s=Object.getOwnPropertyDescriptor(o[u],a))&&s.set&&s.get);u++);return s.enumerable=!0,s.configurable=!0,s},Ip=function firstSourceWatch(o){var a=o.el();if(!a.resetSourceWatch_){var s={},u=function getInnerHTMLDescriptor(o){return Ap([o.el(),Su.a.HTMLMediaElement.prototype,Su.a.Element.prototype,Pp],"innerHTML")}(o),l=function appendWrapper(s){return function(){for(var u=arguments.length,l=new Array(u),c=0;c<u;c++)l[c]=arguments[c];var h=s.apply(a,l);return xp(o),h}};["append","appendChild","insertAdjacentHTML"].forEach((function(o){a[o]&&(s[o]=a[o],a[o]=l(s[o]))})),Object.defineProperty(a,"innerHTML",mergeOptions$3(u,{set:l(u.set)})),a.resetSourceWatch_=function(){a.resetSourceWatch_=null,Object.keys(s).forEach((function(o){a[o]=s[o]})),Object.defineProperty(a,"innerHTML",u)},o.one("sourceset",a.resetSourceWatch_)}},Op=Object.defineProperty({},"src",{get:function get(){return this.hasAttribute("src")?Ih(Su.a.Element.prototype.getAttribute.call(this,"src")):""},set:function set(o){return Su.a.Element.prototype.setAttribute.call(this,"src",o),o}}),Lp=function setupSourceset(o){if(o.featuresSourceset){var a=o.el();if(!a.resetSourceset_){var s=function getSrcDescriptor(o){return Ap([o.el(),Su.a.HTMLMediaElement.prototype,Op],"src")}(o),u=a.setAttribute,l=a.load;Object.defineProperty(a,"src",mergeOptions$3(s,{set:function set(u){var l=s.set.call(a,u);return o.triggerSourceset(a.src),l}})),a.setAttribute=function(s,l){var c=u.call(a,s,l);return/src/i.test(s)&&o.triggerSourceset(a.src),c},a.load=function(){var s=l.call(a);return xp(o)||(o.triggerSourceset(""),Ip(o)),s},a.currentSrc?o.triggerSourceset(a.currentSrc):xp(o)||Ip(o),a.resetSourceset_=function(){a.resetSourceset_=null,a.load=l,a.setAttribute=u,Object.defineProperty(a,"src",s),a.resetSourceWatch_&&a.resetSourceWatch_()}}}},Mp=function defineLazyProperty(o,a,s,u){void 0===u&&(u=!0);var l=function set(s){return Object.defineProperty(o,a,{value:s,enumerable:!0,writable:!0})},c={configurable:!0,enumerable:!0,get:function get(){var o=s();return l(o),o}};return u&&(c.set=l),Object.defineProperty(o,a,c)},Dp=function(o){function Html5(a,s){var u;u=o.call(this,a,s)||this;var l=a.source,c=!1;if(l&&(u.el_.currentSrc!==l.src||a.tag&&3===a.tag.initNetworkState_)?u.setSource(l):u.handleLateInit_(u.el_),a.enableSourceset&&u.setupSourcesetHandling_(),u.isScrubbing_=!1,u.el_.hasChildNodes()){for(var h=u.el_.childNodes,f=h.length,p=[];f--;){var m=h[f];"track"===m.nodeName.toLowerCase()&&(u.featuresNativeTextTracks?(u.remoteTextTrackEls().addTrackElement_(m),u.remoteTextTracks().addTrack(m.track),u.textTracks().addTrack(m.track),c||u.el_.hasAttribute("crossorigin")||!Lh(m.src)||(c=!0)):p.push(m))}for(var g=0;g<p.length;g++)u.el_.removeChild(p[g])}return u.proxyNativeTracks_(),u.featuresNativeTextTracks&&c&&Zc.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),u.restoreMetadataTracksInIOSNativePlayer_(),(Sd||Ed||pd)&&!0===a.nativeControlsForTouch&&u.setControls(!0),u.proxyWebkitFullscreen_(),u.triggerReady(),u}Iu()(Html5,o);var a=Html5.prototype;return a.dispose=function dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),Html5.disposeMediaElement(this.el_),this.options_=null,o.prototype.dispose.call(this)},a.setupSourcesetHandling_=function setupSourcesetHandling_(){Lp(this)},a.restoreMetadataTracksInIOSNativePlayer_=function restoreMetadataTracksInIOSNativePlayer_(){var o,a=this.textTracks(),s=function takeMetadataTrackSnapshot(){o=[];for(var s=0;s<a.length;s++){var u=a[s];"metadata"===u.kind&&o.push({track:u,storedMode:u.mode})}};s(),a.addEventListener("change",s),this.on("dispose",(function(){return a.removeEventListener("change",s)}));var u=function restoreTrackMode(){for(var s=0;s<o.length;s++){var u=o[s];"disabled"===u.track.mode&&u.track.mode!==u.storedMode&&(u.track.mode=u.storedMode)}a.removeEventListener("change",restoreTrackMode)};this.on("webkitbeginfullscreen",(function(){a.removeEventListener("change",s),a.removeEventListener("change",u),a.addEventListener("change",u)})),this.on("webkitendfullscreen",(function(){a.removeEventListener("change",s),a.addEventListener("change",s),a.removeEventListener("change",u)}))},a.overrideNative_=function overrideNative_(o,a){var s=this;if(a===this["featuresNative"+o+"Tracks"]){var u=o.toLowerCase();this[u+"TracksListeners_"]&&Object.keys(this[u+"TracksListeners_"]).forEach((function(o){s.el()[u+"Tracks"].removeEventListener(o,s[u+"TracksListeners_"][o])})),this["featuresNative"+o+"Tracks"]=!a,this[u+"TracksListeners_"]=null,this.proxyNativeTracksForType_(u)}},a.overrideNativeAudioTracks=function overrideNativeAudioTracks(o){this.overrideNative_("Audio",o)},a.overrideNativeVideoTracks=function overrideNativeVideoTracks(o){this.overrideNative_("Video",o)},a.proxyNativeTracksForType_=function proxyNativeTracksForType_(o){var a=this,s=Uh[o],u=this.el()[s.getterName],l=this[s.getterName]();if(this["featuresNative"+s.capitalName+"Tracks"]&&u&&u.addEventListener){var c={change:function change(s){var u={type:"change",target:l,currentTarget:l,srcElement:l};l.trigger(u),"text"===o&&a[Hh.remoteText.getterName]().trigger(u)},addtrack:function addtrack(o){l.addTrack(o.track)},removetrack:function removetrack(o){l.removeTrack(o.track)}},h=function removeOldTracks(){for(var o=[],a=0;a<l.length;a++){for(var s=!1,c=0;c<u.length;c++)if(u[c]===l[a]){s=!0;break}s||o.push(l[a])}for(;o.length;)l.removeTrack(o.shift())};this[s.getterName+"Listeners_"]=c,Object.keys(c).forEach((function(o){var s=c[o];u.addEventListener(o,s),a.on("dispose",(function(a){return u.removeEventListener(o,s)}))})),this.on("loadstart",h),this.on("dispose",(function(o){return a.off("loadstart",h)}))}},a.proxyNativeTracks_=function proxyNativeTracks_(){var o=this;Uh.names.forEach((function(a){o.proxyNativeTracksForType_(a)}))},a.createEl=function createEl(){var o=this.options_.tag;if(!o||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(o){var a=o.cloneNode(!0);o.parentNode&&o.parentNode.insertBefore(a,o),Html5.disposeMediaElement(o),o=a}else{o=Eu.a.createElement("video");var s=mergeOptions$3({},this.options_.tag&&getAttributes(this.options_.tag));Sd&&!0===this.options_.nativeControlsForTouch||delete s.controls,setAttributes(o,video_es_assign(s,{id:this.options_.techId,class:"vjs-tech"}))}o.playerId=this.options_.playerId}void 0!==this.options_.preload&&video_es_setAttribute(o,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(o.disablePictureInPicture=this.options_.disablePictureInPicture);for(var u=["loop","muted","playsinline","autoplay"],l=0;l<u.length;l++){var c=u[l],h=this.options_[c];void 0!==h&&(h?video_es_setAttribute(o,c,c):video_es_removeAttribute(o,c),o[c]=h)}return o},a.handleLateInit_=function handleLateInit_(o){if(0!==o.networkState&&3!==o.networkState){if(0===o.readyState){var a=!1,s=function setLoadstartFired(){a=!0};this.on("loadstart",s);var u=function triggerLoadstart(){a||this.trigger("loadstart")};return this.on("loadedmetadata",u),void this.ready((function(){this.off("loadstart",s),this.off("loadedmetadata",u),a||this.trigger("loadstart")}))}var l=["loadstart"];l.push("loadedmetadata"),o.readyState>=2&&l.push("loadeddata"),o.readyState>=3&&l.push("canplay"),o.readyState>=4&&l.push("canplaythrough"),this.ready((function(){l.forEach((function(o){this.trigger(o)}),this)}))}},a.setScrubbing=function setScrubbing(o){this.isScrubbing_=o},a.scrubbing=function scrubbing(){return this.isScrubbing_},a.setCurrentTime=function setCurrentTime(o){try{this.isScrubbing_&&this.el_.fastSeek&&Cd?this.el_.fastSeek(o):this.el_.currentTime=o}catch(o){Zc(o,"Video is not ready. (Video.js)")}},a.duration=function duration(){var o=this;if(this.el_.duration===1/0&&hd&&vd&&0===this.el_.currentTime){return this.on("timeupdate",(function checkProgress(){o.el_.currentTime>0&&(o.el_.duration===1/0&&o.trigger("durationchange"),o.off("timeupdate",checkProgress))})),NaN}return this.el_.duration||NaN},a.width=function width(){return this.el_.offsetWidth},a.height=function height(){return this.el_.offsetHeight},a.proxyWebkitFullscreen_=function proxyWebkitFullscreen_(){var o=this;if("webkitDisplayingFullscreen"in this.el_){var a=function endFn(){this.trigger("fullscreenchange",{isFullscreen:!1})},s=function beginFn(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",a),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",s),this.on("dispose",(function(){o.off("webkitbeginfullscreen",s),o.off("webkitendfullscreen",a)}))}},a.supportsFullScreen=function supportsFullScreen(){if("function"==typeof this.el_.webkitEnterFullScreen){var o=Su.a.navigator&&Su.a.navigator.userAgent||"";if(/Android/.test(o)||!/Chrome|Mac OS X 10.5/.test(o))return!0}return!1},a.enterFullScreen=function enterFullScreen(){var o=this.el_;if(o.paused&&o.networkState<=o.HAVE_METADATA)silencePromise(this.el_.play()),this.setTimeout((function(){o.pause();try{o.webkitEnterFullScreen()}catch(o){this.trigger("fullscreenerror",o)}}),0);else try{o.webkitEnterFullScreen()}catch(o){this.trigger("fullscreenerror",o)}},a.exitFullScreen=function exitFullScreen(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))},a.requestPictureInPicture=function requestPictureInPicture(){return this.el_.requestPictureInPicture()},a.src=function src(o){if(void 0===o)return this.el_.src;this.setSrc(o)},a.reset=function reset(){Html5.resetMediaElement(this.el_)},a.currentSrc=function currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},a.setControls=function setControls(o){this.el_.controls=!!o},a.addTextTrack=function addTextTrack(a,s,u){return this.featuresNativeTextTracks?this.el_.addTextTrack(a,s,u):o.prototype.addTextTrack.call(this,a,s,u)},a.createRemoteTextTrack=function createRemoteTextTrack(a){if(!this.featuresNativeTextTracks)return o.prototype.createRemoteTextTrack.call(this,a);var s=Eu.a.createElement("track");return a.kind&&(s.kind=a.kind),a.label&&(s.label=a.label),(a.language||a.srclang)&&(s.srclang=a.language||a.srclang),a.default&&(s.default=a.default),a.id&&(s.id=a.id),a.src&&(s.src=a.src),s},a.addRemoteTextTrack=function addRemoteTextTrack(a,s){var u=o.prototype.addRemoteTextTrack.call(this,a,s);return this.featuresNativeTextTracks&&this.el().appendChild(u),u},a.removeRemoteTextTrack=function removeRemoteTextTrack(a){if(o.prototype.removeRemoteTextTrack.call(this,a),this.featuresNativeTextTracks)for(var s=this.$$("track"),u=s.length;u--;)a!==s[u]&&a!==s[u].track||this.el().removeChild(s[u])},a.getVideoPlaybackQuality=function getVideoPlaybackQuality(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var o={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(o.droppedVideoFrames=this.el().webkitDroppedFrameCount,o.totalVideoFrames=this.el().webkitDecodedFrameCount),Su.a.performance&&"function"==typeof Su.a.performance.now?o.creationTime=Su.a.performance.now():Su.a.performance&&Su.a.performance.timing&&"number"==typeof Su.a.performance.timing.navigationStart&&(o.creationTime=Su.a.Date.now()-Su.a.performance.timing.navigationStart),o},Html5}(Vh);Mp(Dp,"TEST_VID",(function(){if(isReal()){var o=Eu.a.createElement("video"),a=Eu.a.createElement("track");return a.kind="captions",a.srclang="en",a.label="English",o.appendChild(a),o}})),Dp.isSupported=function(){try{Dp.TEST_VID.volume=.5}catch(o){return!1}return!(!Dp.TEST_VID||!Dp.TEST_VID.canPlayType)},Dp.canPlayType=function(o){return Dp.TEST_VID.canPlayType(o)},Dp.canPlaySource=function(o,a){return Dp.canPlayType(o.type)},Dp.canControlVolume=function(){try{var o=Dp.TEST_VID.volume;return Dp.TEST_VID.volume=o/2+.1,o!==Dp.TEST_VID.volume}catch(o){return!1}},Dp.canMuteVolume=function(){try{var o=Dp.TEST_VID.muted;return Dp.TEST_VID.muted=!o,Dp.TEST_VID.muted?video_es_setAttribute(Dp.TEST_VID,"muted","muted"):video_es_removeAttribute(Dp.TEST_VID,"muted"),o!==Dp.TEST_VID.muted}catch(o){return!1}},Dp.canControlPlaybackRate=function(){if(hd&&vd&&yd<58)return!1;try{var o=Dp.TEST_VID.playbackRate;return Dp.TEST_VID.playbackRate=o/2+.1,o!==Dp.TEST_VID.playbackRate}catch(o){return!1}},Dp.canOverrideAttributes=function(){try{var o=function noop(){};Object.defineProperty(Eu.a.createElement("video"),"src",{get:o,set:o}),Object.defineProperty(Eu.a.createElement("audio"),"src",{get:o,set:o}),Object.defineProperty(Eu.a.createElement("video"),"innerHTML",{get:o,set:o}),Object.defineProperty(Eu.a.createElement("audio"),"innerHTML",{get:o,set:o})}catch(o){return!1}return!0},Dp.supportsNativeTextTracks=function(){return Cd||kd&&vd},Dp.supportsNativeVideoTracks=function(){return!(!Dp.TEST_VID||!Dp.TEST_VID.videoTracks)},Dp.supportsNativeAudioTracks=function(){return!(!Dp.TEST_VID||!Dp.TEST_VID.audioTracks)},Dp.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresVolumeControl","canControlVolume"],["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach((function(o){var a=o[0],s=o[1];Mp(Dp.prototype,a,(function(){return Dp[s]()}),!0)})),Dp.prototype.movingMediaElementInDOM=!kd,Dp.prototype.featuresFullscreenResize=!0,Dp.prototype.featuresProgressEvents=!0,Dp.prototype.featuresTimeupdateEvents=!0,Dp.patchCanPlayType=function(){fd>=4&&!md&&!vd&&(Cp=Dp.TEST_VID&&Dp.TEST_VID.constructor.prototype.canPlayType,Dp.TEST_VID.constructor.prototype.canPlayType=function(o){return o&&/^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(o)?"maybe":Cp.call(this,o)})},Dp.unpatchCanPlayType=function(){var o=Dp.TEST_VID.constructor.prototype.canPlayType;return Cp&&(Dp.TEST_VID.constructor.prototype.canPlayType=Cp),o},Dp.patchCanPlayType(),Dp.disposeMediaElement=function(o){if(o){for(o.parentNode&&o.parentNode.removeChild(o);o.hasChildNodes();)o.removeChild(o.firstChild);o.removeAttribute("src"),"function"==typeof o.load&&function(){try{o.load()}catch(o){}}()}},Dp.resetMediaElement=function(o){if(o){for(var a=o.querySelectorAll("source"),s=a.length;s--;)o.removeChild(a[s]);o.removeAttribute("src"),"function"==typeof o.load&&function(){try{o.load()}catch(o){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(o){Dp.prototype[o]=function(){return this.el_[o]||this.el_.hasAttribute(o)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(o){Dp.prototype["set"+ih(o)]=function(a){this.el_[o]=a,a?this.el_.setAttribute(o,o):this.el_.removeAttribute(o)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach((function(o){Dp.prototype[o]=function(){return this.el_[o]}})),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach((function(o){Dp.prototype["set"+ih(o)]=function(a){this.el_[o]=a}})),["pause","load","play"].forEach((function(o){Dp.prototype[o]=function(){return this.el_[o]()}})),Vh.withSourceHandlers(Dp),Dp.nativeSourceHandler={},Dp.nativeSourceHandler.canPlayType=function(o){try{return Dp.TEST_VID.canPlayType(o)}catch(o){return""}},Dp.nativeSourceHandler.canHandleSource=function(o,a){if(o.type)return Dp.nativeSourceHandler.canPlayType(o.type);if(o.src){var s=Oh(o.src);return Dp.nativeSourceHandler.canPlayType("video/"+s)}return""},Dp.nativeSourceHandler.handleSource=function(o,a,s){a.setSrc(o.src)},Dp.nativeSourceHandler.dispose=function(){},Dp.registerSourceHandler(Dp.nativeSourceHandler),Vh.registerTech("Html5",Dp);var Rp=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Np={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Bp=["tiny","xsmall","small","medium","large","xlarge","huge"],Fp={};Bp.forEach((function(o){var a="x"===o.charAt(0)?"x-"+o.substring(1):o;Fp[o]="vjs-layout-"+a}));var jp={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Up=function(o){function Player(a,s,u){var l;if(a.id=a.id||s.id||"vjs_video_"+newGUID(),(s=video_es_assign(Player.getTagSettings(a),s)).initChildren=!1,s.createEl=!1,s.evented=!1,s.reportTouchActivity=!1,!s.language)if("function"==typeof a.closest){var c=a.closest("[lang]");c&&c.getAttribute&&(s.language=c.getAttribute("lang"))}else for(var h=a;h&&1===h.nodeType;){if(getAttributes(h).hasOwnProperty("lang")){s.language=h.getAttribute("lang");break}h=h.parentNode}if((l=o.call(this,null,s,u)||this).boundDocumentFullscreenChange_=function(o){return l.documentFullscreenChange_(o)},l.boundFullWindowOnEscKey_=function(o){return l.fullWindowOnEscKey(o)},l.boundUpdateStyleEl_=function(o){return l.updateStyleEl_(o)},l.boundApplyInitTime_=function(o){return l.applyInitTime_(o)},l.boundUpdateCurrentBreakpoint_=function(o){return l.updateCurrentBreakpoint_(o)},l.boundHandleTechClick_=function(o){return l.handleTechClick_(o)},l.boundHandleTechDoubleClick_=function(o){return l.handleTechDoubleClick_(o)},l.boundHandleTechTouchStart_=function(o){return l.handleTechTouchStart_(o)},l.boundHandleTechTouchMove_=function(o){return l.handleTechTouchMove_(o)},l.boundHandleTechTouchEnd_=function(o){return l.handleTechTouchEnd_(o)},l.boundHandleTechTap_=function(o){return l.handleTechTap_(o)},l.isFullscreen_=!1,l.log=ed(l.id_),l.fsApi_=Xc,l.isPosterFromTech_=!1,l.queuedCallbacks_=[],l.isReady_=!1,l.hasStarted_=!1,l.userActive_=!1,l.debugEnabled_=!1,!l.options_||!l.options_.techOrder||!l.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(l.tag=a,l.tagAttributes=a&&getAttributes(a),l.language(l.options_.language),s.languages){var f={};Object.getOwnPropertyNames(s.languages).forEach((function(o){f[o.toLowerCase()]=s.languages[o]})),l.languages_=f}else l.languages_=Player.prototype.options_.languages;l.resetCache_(),l.poster_=s.poster||"",l.controls_=!!s.controls,a.controls=!1,a.removeAttribute("controls"),l.changingSrc_=!1,l.playCallbacks_=[],l.playTerminatedQueue_=[],a.hasAttribute("autoplay")?l.autoplay(!0):l.autoplay(l.options_.autoplay),s.plugins&&Object.keys(s.plugins).forEach((function(o){if("function"!=typeof l[o])throw new Error('plugin "'+o+'" does not exist')})),l.scrubbing_=!1,l.el_=l.createEl(),evented(Pu()(l),{eventBusKey:"el_"}),l.fsApi_.requestFullscreen&&(on(Eu.a,l.fsApi_.fullscreenchange,l.boundDocumentFullscreenChange_),l.on(l.fsApi_.fullscreenchange,l.boundDocumentFullscreenChange_)),l.fluid_&&l.on(["playerreset","resize"],l.boundUpdateStyleEl_);var p=mergeOptions$3(l.options_);s.plugins&&Object.keys(s.plugins).forEach((function(o){l[o](s.plugins[o])})),s.debug&&l.debug(!0),l.options_.playerOptions=p,l.middleware_=[],l.playbackRates(s.playbackRates),l.initChildren(),l.isAudio("audio"===a.nodeName.toLowerCase()),l.controls()?l.addClass("vjs-controls-enabled"):l.addClass("vjs-controls-disabled"),l.el_.setAttribute("role","region"),l.isAudio()?l.el_.setAttribute("aria-label",l.localize("Audio Player")):l.el_.setAttribute("aria-label",l.localize("Video Player")),l.isAudio()&&l.addClass("vjs-audio"),l.flexNotSupported_()&&l.addClass("vjs-no-flex"),Sd&&l.addClass("vjs-touch-enabled"),kd||l.addClass("vjs-workinghover"),Player.players[l.id_]=Pu()(l);var m=Vc.split(".")[0];return l.addClass("vjs-v"+m),l.userActive(!0),l.reportUserActivity(),l.one("play",(function(o){return l.listenForUserActivity_(o)})),l.on("stageclick",(function(o){return l.handleStageClick_(o)})),l.on("keydown",(function(o){return l.handleKeyDown(o)})),l.on("languagechange",(function(o){return l.handleLanguagechange(o)})),l.breakpoints(l.options_.breakpoints),l.responsive(l.options_.responsive),l}Iu()(Player,o);var a=Player.prototype;return a.dispose=function dispose(){var a=this;this.trigger("dispose"),this.off("dispose"),off(Eu.a,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),off(Eu.a,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),Player.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),function clearCacheForPlayer(o){zh[o.id()]=null}(this),qh.names.forEach((function(o){var s=qh[o],u=a[s.getterName]();u&&u.off&&u.off()})),o.prototype.dispose.call(this)},a.createEl=function createEl(){var a,s=this.tag,u=this.playerElIngest_=s.parentNode&&s.parentNode.hasAttribute&&s.parentNode.hasAttribute("data-vjs-player"),l="video-js"===this.tag.tagName.toLowerCase();u?a=this.el_=s.parentNode:l||(a=this.el_=o.prototype.createEl.call(this,"div"));var c=getAttributes(s);if(l){for(a=this.el_=s,s=this.tag=Eu.a.createElement("video");a.children.length;)s.appendChild(a.firstChild);video_es_hasClass(a,"video-js")||video_es_addClass(a,"video-js"),a.appendChild(s),u=this.playerElIngest_=a,Object.keys(a).forEach((function(o){try{s[o]=a[o]}catch(o){}}))}if(s.setAttribute("tabindex","-1"),c.tabindex="-1",(_d||vd&&Td)&&(s.setAttribute("role","application"),c.role="application"),s.removeAttribute("width"),s.removeAttribute("height"),"width"in c&&delete c.width,"height"in c&&delete c.height,Object.getOwnPropertyNames(c).forEach((function(o){l&&"class"===o||a.setAttribute(o,c[o]),l&&s.setAttribute(o,c[o])})),s.playerId=s.id,s.id+="_html5_api",s.className="vjs-tech",s.player=a.player=this,this.addClass("vjs-paused"),!0!==Su.a.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=Rd("vjs-styles-dimensions");var h=Ad(".vjs-styles-defaults"),f=Ad("head");f.insertBefore(this.styleEl_,h?h.nextSibling:f.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var p=s.getElementsByTagName("a"),m=0;m<p.length;m++){var g=p.item(m);video_es_addClass(g,"vjs-hidden"),g.setAttribute("hidden","hidden")}return s.initNetworkState_=s.networkState,s.parentNode&&!u&&s.parentNode.insertBefore(a,s),prependTo(s,a),this.children_.unshift(s),this.el_.setAttribute("lang",this.language_),this.el_=a,a},a.crossOrigin=function crossOrigin(o){if(!o)return this.techGet_("crossOrigin");"anonymous"===o||"use-credentials"===o?this.techCall_("setCrossOrigin",o):Zc.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+o+'"')},a.width=function width(o){return this.dimension("width",o)},a.height=function height(o){return this.dimension("height",o)},a.dimension=function dimension(o,a){var s=o+"_";if(void 0===a)return this[s]||0;if(""===a||"auto"===a)return this[s]=void 0,void this.updateStyleEl_();var u=parseFloat(a);isNaN(u)?Zc.error('Improper value "'+a+'" supplied for for '+o):(this[s]=u,this.updateStyleEl_())},a.fluid=function fluid(o){var a=this;if(void 0===o)return!!this.fluid_;this.fluid_=!!o,Yd(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),o?(this.addClass("vjs-fluid"),this.fill(!1),function addEventedCallback(o,a){Yd(o)?a():(o.eventedCallbacks||(o.eventedCallbacks=[]),o.eventedCallbacks.push(a))}(this,(function(){a.on(["playerreset","resize"],a.boundUpdateStyleEl_)}))):this.removeClass("vjs-fluid"),this.updateStyleEl_()},a.fill=function fill(o){if(void 0===o)return!!this.fill_;this.fill_=!!o,o?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},a.aspectRatio=function aspectRatio(o){if(void 0===o)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(o))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=o,this.fluid(!0),this.updateStyleEl_()},a.updateStyleEl_=function updateStyleEl_(){if(!0!==Su.a.VIDEOJS_NO_DYNAMIC_STYLE){var o,a,s,u=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),l=u[1]/u[0];o=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/l:this.videoWidth()||300,a=void 0!==this.height_?this.height_:o*l,s=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(s),Nd(this.styleEl_,"\n      ."+s+" {\n        width: "+o+"px;\n        height: "+a+"px;\n      }\n\n      ."+s+".vjs-fluid {\n        padding-top: "+100*l+"%;\n      }\n    ")}else{var c="number"==typeof this.width_?this.width_:this.options_.width,h="number"==typeof this.height_?this.height_:this.options_.height,f=this.tech_&&this.tech_.el();f&&(c>=0&&(f.width=c),h>=0&&(f.height=h))}},a.loadTech_=function loadTech_(o,a){var s=this;this.tech_&&this.unloadTech_();var u=ih(o),l=o.charAt(0).toLowerCase()+o.slice(1);"Html5"!==u&&this.tag&&(Vh.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=u,this.isReady_=!1;var c=this.autoplay();("string"==typeof this.autoplay()||!0===this.autoplay()&&this.options_.normalizeAutoplay)&&(c=!1);var h={source:a,autoplay:c,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+l+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};qh.names.forEach((function(o){var a=qh[o];h[a.getterName]=s[a.privateName]})),video_es_assign(h,this.options_[u]),video_es_assign(h,this.options_[l]),video_es_assign(h,this.options_[o.toLowerCase()]),this.tag&&(h.tag=this.tag),a&&a.src===this.cache_.src&&this.cache_.currentTime>0&&(h.startTime=this.cache_.currentTime);var f=Vh.getTech(o);if(!f)throw new Error("No Tech named '"+u+"' exists! '"+u+"' should be registered using videojs.registerTech()'");this.tech_=new f(h),this.tech_.ready(Wd(this,this.handleTechReady_),!0),fh(this.textTracksJson_||[],this.tech_),Rp.forEach((function(o){s.on(s.tech_,o,(function(a){return s["handleTech"+ih(o)+"_"](a)}))})),Object.keys(Np).forEach((function(o){s.on(s.tech_,o,(function(a){0===s.tech_.playbackRate()&&s.tech_.seeking()?s.queuedCallbacks_.push({callback:s["handleTech"+Np[o]+"_"].bind(s),event:a}):s["handleTech"+Np[o]+"_"](a)}))})),this.on(this.tech_,"loadstart",(function(o){return s.handleTechLoadStart_(o)})),this.on(this.tech_,"sourceset",(function(o){return s.handleTechSourceset_(o)})),this.on(this.tech_,"waiting",(function(o){return s.handleTechWaiting_(o)})),this.on(this.tech_,"ended",(function(o){return s.handleTechEnded_(o)})),this.on(this.tech_,"seeking",(function(o){return s.handleTechSeeking_(o)})),this.on(this.tech_,"play",(function(o){return s.handleTechPlay_(o)})),this.on(this.tech_,"firstplay",(function(o){return s.handleTechFirstPlay_(o)})),this.on(this.tech_,"pause",(function(o){return s.handleTechPause_(o)})),this.on(this.tech_,"durationchange",(function(o){return s.handleTechDurationChange_(o)})),this.on(this.tech_,"fullscreenchange",(function(o,a){return s.handleTechFullscreenChange_(o,a)})),this.on(this.tech_,"fullscreenerror",(function(o,a){return s.handleTechFullscreenError_(o,a)})),this.on(this.tech_,"enterpictureinpicture",(function(o){return s.handleTechEnterPictureInPicture_(o)})),this.on(this.tech_,"leavepictureinpicture",(function(o){return s.handleTechLeavePictureInPicture_(o)})),this.on(this.tech_,"error",(function(o){return s.handleTechError_(o)})),this.on(this.tech_,"posterchange",(function(o){return s.handleTechPosterChange_(o)})),this.on(this.tech_,"textdata",(function(o){return s.handleTechTextData_(o)})),this.on(this.tech_,"ratechange",(function(o){return s.handleTechRateChange_(o)})),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===u&&this.tag||prependTo(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},a.unloadTech_=function unloadTech_(){var o=this;qh.names.forEach((function(a){var s=qh[a];o[s.privateName]=o[s.getterName]()})),this.textTracksJson_=hh(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},a.tech=function tech(o){return void 0===o&&Zc.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},a.addTechControlsListeners_=function addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},a.removeTechControlsListeners_=function removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},a.handleTechReady_=function handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},a.handleTechLoadStart_=function handleTechLoadStart_(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(!0===this.autoplay()&&this.options_.normalizeAutoplay?"play":this.autoplay())},a.manualAutoplay_=function manualAutoplay_(o){var a=this;if(this.tech_&&"string"==typeof o){var s,u=function resolveMuted(){var o=a.muted();a.muted(!0);var s=function restoreMuted(){a.muted(o)};a.playTerminatedQueue_.push(s);var u=a.play();if(isPromise(u))return u.catch((function(o){throw s(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(o||""))}))};if("any"!==o||this.muted()?s="muted"!==o||this.muted()?this.play():u():isPromise(s=this.play())&&(s=s.catch(u)),isPromise(s))return s.then((function(){a.trigger({type:"autoplay-success",autoplay:o})})).catch((function(){a.trigger({type:"autoplay-failure",autoplay:o})}))}},a.updateSourceCaches_=function updateSourceCaches_(o){void 0===o&&(o="");var a=o,s="";"string"!=typeof a&&(a=o.src,s=o.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],a&&!s&&(s=function findMimetype(o,a){if(!a)return"";if(o.cache_.source.src===a&&o.cache_.source.type)return o.cache_.source.type;var s=o.cache_.sources.filter((function(o){return o.src===a}));if(s.length)return s[0].type;for(var u=o.$$("source"),l=0;l<u.length;l++){var c=u[l];if(c.type&&c.src&&c.src===a)return c.type}return Qh(a)}(this,a)),this.cache_.source=mergeOptions$3({},o,{src:a,type:s});for(var u=this.cache_.sources.filter((function(o){return o.src&&o.src===a})),l=[],c=this.$$("source"),h=[],f=0;f<c.length;f++){var p=getAttributes(c[f]);l.push(p),p.src&&p.src===a&&h.push(p.src)}h.length&&!u.length?this.cache_.sources=l:u.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=a},a.handleTechSourceset_=function handleTechSourceset_(o){var a=this;if(!this.changingSrc_){var s=function updateSourceCaches(o){return a.updateSourceCaches_(o)},u=this.currentSource().src,l=o.src;u&&!/^blob:/.test(u)&&/^blob:/.test(l)&&(!this.lastSource_||this.lastSource_.tech!==l&&this.lastSource_.player!==u)&&(s=function updateSourceCaches(){}),s(l),o.src||this.tech_.any(["sourceset","loadstart"],(function(o){if("sourceset"!==o.type){var s=a.techGet("currentSrc");a.lastSource_.tech=s,a.updateSourceCaches_(s)}}))}this.lastSource_={player:this.currentSource().src,tech:o.src},this.trigger({src:o.src,type:"sourceset"})},a.hasStarted=function hasStarted(o){if(void 0===o)return this.hasStarted_;o!==this.hasStarted_&&(this.hasStarted_=o,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},a.handleTechPlay_=function handleTechPlay_(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},a.handleTechRateChange_=function handleTechRateChange_(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach((function(o){return o.callback(o.event)})),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},a.handleTechWaiting_=function handleTechWaiting_(){var o=this;this.addClass("vjs-waiting"),this.trigger("waiting");var a=this.currentTime();this.on("timeupdate",(function timeUpdateListener(){a!==o.currentTime()&&(o.removeClass("vjs-waiting"),o.off("timeupdate",timeUpdateListener))}))},a.handleTechCanPlay_=function handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")},a.handleTechCanPlayThrough_=function handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},a.handleTechPlaying_=function handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")},a.handleTechSeeking_=function handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")},a.handleTechSeeked_=function handleTechSeeked_(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},a.handleTechFirstPlay_=function handleTechFirstPlay_(){this.options_.starttime&&(Zc.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},a.handleTechPause_=function handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},a.handleTechEnded_=function handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},a.handleTechDurationChange_=function handleTechDurationChange_(){this.duration(this.techGet_("duration"))},a.handleTechClick_=function handleTechClick_(o){this.controls_&&(this.paused()?silencePromise(this.play()):this.pause())},a.handleTechDoubleClick_=function handleTechDoubleClick_(o){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),(function(a){return a.contains(o.target)}))||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,o):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},a.handleTechTap_=function handleTechTap_(){this.userActive(!this.userActive())},a.handleTechTouchStart_=function handleTechTouchStart_(){this.userWasActive=this.userActive()},a.handleTechTouchMove_=function handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()},a.handleTechTouchEnd_=function handleTechTouchEnd_(o){o.cancelable&&o.preventDefault()},a.handleStageClick_=function handleStageClick_(){this.reportUserActivity()},a.toggleFullscreenClass_=function toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},a.documentFullscreenChange_=function documentFullscreenChange_(o){var a=o.target.player;if(!a||a===this){var s=this.el(),u=Eu.a[this.fsApi_.fullscreenElement]===s;!u&&s.matches?u=s.matches(":"+this.fsApi_.fullscreen):!u&&s.msMatchesSelector&&(u=s.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(u)}},a.handleTechFullscreenChange_=function handleTechFullscreenChange_(o,a){a&&(a.nativeIOSFullscreen&&this.toggleClass("vjs-ios-native-fs"),this.isFullscreen(a.isFullscreen))},a.handleTechFullscreenError_=function handleTechFullscreenError_(o,a){this.trigger("fullscreenerror",a)},a.togglePictureInPictureClass_=function togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},a.handleTechEnterPictureInPicture_=function handleTechEnterPictureInPicture_(o){this.isInPictureInPicture(!0)},a.handleTechLeavePictureInPicture_=function handleTechLeavePictureInPicture_(o){this.isInPictureInPicture(!1)},a.handleTechError_=function handleTechError_(){var o=this.tech_.error();this.error(o)},a.handleTechTextData_=function handleTechTextData_(){var o=null;arguments.length>1&&(o=arguments[1]),this.trigger("textdata",o)},a.getCache=function getCache(){return this.cache_},a.resetCache_=function resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},a.techCall_=function techCall_(o,a){this.ready((function(){if(o in Yh)return function video_es_set(o,a,s,u){return a[s](o.reduce(middlewareIterator(s),u))}(this.middleware_,this.tech_,o,a);if(o in $h)return mediate(this.middleware_,this.tech_,o,a);try{this.tech_&&this.tech_[o](a)}catch(o){throw Zc(o),o}}),!0)},a.techGet_=function techGet_(o){if(this.tech_&&this.tech_.isReady_){if(o in Xh)return function video_es_get(o,a,s){return o.reduceRight(middlewareIterator(s),a[s]())}(this.middleware_,this.tech_,o);if(o in $h)return mediate(this.middleware_,this.tech_,o);try{return this.tech_[o]()}catch(a){if(void 0===this.tech_[o])throw Zc("Video.js: "+o+" method not defined for "+this.techName_+" playback technology.",a),a;if("TypeError"===a.name)throw Zc("Video.js: "+o+" unavailable on "+this.techName_+" playback technology element.",a),this.tech_.isReady_=!1,a;throw Zc(a),a}}},a.play=function play(){var o=this,a=this.options_.Promise||Su.a.Promise;return a?new a((function(a){o.play_(a)})):this.play_()},a.play_=function play_(o){var a=this;void 0===o&&(o=silencePromise),this.playCallbacks_.push(o);var s=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!s)return this.waitToPlay_=function(o){a.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(s||!Cd&&!kd||this.load());var u=this.techGet_("play");null===u?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(u)},a.runPlayTerminatedQueue_=function runPlayTerminatedQueue_(){var o=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],o.forEach((function(o){o()}))},a.runPlayCallbacks_=function runPlayCallbacks_(o){var a=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],a.forEach((function(a){a(o)}))},a.pause=function pause(){this.techCall_("pause")},a.paused=function paused(){return!1!==this.techGet_("paused")},a.played=function played(){return this.techGet_("played")||createTimeRanges(0,0)},a.scrubbing=function scrubbing(o){if(void 0===o)return this.scrubbing_;this.scrubbing_=!!o,this.techCall_("setScrubbing",this.scrubbing_),o?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},a.currentTime=function currentTime(o){return void 0!==o?(o<0&&(o=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",o),void(this.cache_.initTime=0)):(this.cache_.initTime=o,this.off("canplay",this.boundApplyInitTime_),void this.one("canplay",this.boundApplyInitTime_))):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},a.applyInitTime_=function applyInitTime_(){this.currentTime(this.cache_.initTime)},a.duration=function duration(o){if(void 0===o)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(o=parseFloat(o))<0&&(o=1/0),o!==this.cache_.duration&&(this.cache_.duration=o,o===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(o)||this.trigger("durationchange"))},a.remainingTime=function remainingTime(){return this.duration()-this.currentTime()},a.remainingTimeDisplay=function remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())},a.buffered=function buffered(){var buffered=this.techGet_("buffered");return buffered&&buffered.length||(buffered=createTimeRanges(0,0)),buffered},a.bufferedPercent=function bufferedPercent$1(){return bufferedPercent(this.buffered(),this.duration())},a.bufferedEnd=function bufferedEnd(){var o=this.buffered(),a=this.duration(),s=o.end(o.length-1);return s>a&&(s=a),s},a.volume=function volume(o){var a;return void 0!==o?(a=Math.max(0,Math.min(1,parseFloat(o))),this.cache_.volume=a,this.techCall_("setVolume",a),void(a>0&&this.lastVolume_(a))):(a=parseFloat(this.techGet_("volume")),isNaN(a)?1:a)},a.muted=function muted(o){if(void 0===o)return this.techGet_("muted")||!1;this.techCall_("setMuted",o)},a.defaultMuted=function defaultMuted(o){return void 0!==o?this.techCall_("setDefaultMuted",o):this.techGet_("defaultMuted")||!1},a.lastVolume_=function lastVolume_(o){if(void 0===o||0===o)return this.cache_.lastVolume;this.cache_.lastVolume=o},a.supportsFullScreen=function supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1},a.isFullscreen=function isFullscreen(o){if(void 0!==o){var a=this.isFullscreen_;return this.isFullscreen_=Boolean(o),this.isFullscreen_!==a&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()}return this.isFullscreen_},a.requestFullscreen=function requestFullscreen(o){var a=this.options_.Promise||Su.a.Promise;if(a){var s=this;return new a((function(a,u){function offHandler(){s.off("fullscreenerror",errorHandler),s.off("fullscreenchange",changeHandler)}function changeHandler(){offHandler(),a()}function errorHandler(o,a){offHandler(),u(a)}s.one("fullscreenchange",changeHandler),s.one("fullscreenerror",errorHandler);var l=s.requestFullscreenHelper_(o);l&&(l.then(offHandler,offHandler),l.then(a,u))}))}return this.requestFullscreenHelper_()},a.requestFullscreenHelper_=function requestFullscreenHelper_(o){var a,s=this;if(this.fsApi_.prefixed||(a=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==o&&(a=o)),this.fsApi_.requestFullscreen){var u=this.el_[this.fsApi_.requestFullscreen](a);return u&&u.then((function(){return s.isFullscreen(!0)}),(function(){return s.isFullscreen(!1)})),u}this.tech_.supportsFullScreen()&&!0==!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},a.exitFullscreen=function exitFullscreen(){var o=this.options_.Promise||Su.a.Promise;if(o){var a=this;return new o((function(o,s){function offHandler(){a.off("fullscreenerror",errorHandler),a.off("fullscreenchange",changeHandler)}function changeHandler(){offHandler(),o()}function errorHandler(o,a){offHandler(),s(a)}a.one("fullscreenchange",changeHandler),a.one("fullscreenerror",errorHandler);var u=a.exitFullscreenHelper_();u&&(u.then(offHandler,offHandler),u.then(o,s))}))}return this.exitFullscreenHelper_()},a.exitFullscreenHelper_=function exitFullscreenHelper_(){var o=this;if(this.fsApi_.requestFullscreen){var a=Eu.a[this.fsApi_.exitFullscreen]();return a&&silencePromise(a.then((function(){return o.isFullscreen(!1)}))),a}this.tech_.supportsFullScreen()&&!0==!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},a.enterFullWindow=function enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=Eu.a.documentElement.style.overflow,on(Eu.a,"keydown",this.boundFullWindowOnEscKey_),Eu.a.documentElement.style.overflow="hidden",video_es_addClass(Eu.a.body,"vjs-full-window"),this.trigger("enterFullWindow")},a.fullWindowOnEscKey=function fullWindowOnEscKey(o){Du.a.isEventKey(o,"Esc")&&!0===this.isFullscreen()&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},a.exitFullWindow=function exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,off(Eu.a,"keydown",this.boundFullWindowOnEscKey_),Eu.a.documentElement.style.overflow=this.docOrigOverflow,video_es_removeClass(Eu.a.body,"vjs-full-window"),this.trigger("exitFullWindow")},a.disablePictureInPicture=function disablePictureInPicture(o){if(void 0===o)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",o),this.options_.disablePictureInPicture=o,this.trigger("disablepictureinpicturechanged")},a.isInPictureInPicture=function isInPictureInPicture(o){return void 0!==o?(this.isInPictureInPicture_=!!o,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},a.requestPictureInPicture=function requestPictureInPicture(){if("pictureInPictureEnabled"in Eu.a&&!1===this.disablePictureInPicture())return this.techGet_("requestPictureInPicture")},a.exitPictureInPicture=function exitPictureInPicture(){if("pictureInPictureEnabled"in Eu.a)return Eu.a.exitPictureInPicture()},a.handleKeyDown=function handleKeyDown(o){var a=this.options_.userActions;if(a&&a.hotkeys){(function excludeElement(o){var a=o.tagName.toLowerCase();if(o.isContentEditable)return!0;if("input"===a)return-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(o.type);return-1!==["textarea"].indexOf(a)})(this.el_.ownerDocument.activeElement)||("function"==typeof a.hotkeys?a.hotkeys.call(this,o):this.handleHotkeys(o))}},a.handleHotkeys=function handleHotkeys(o){var a=this.options_.userActions?this.options_.userActions.hotkeys:{},s=a.fullscreenKey,u=void 0===s?function(o){return Du.a.isEventKey(o,"f")}:s,l=a.muteKey,c=void 0===l?function(o){return Du.a.isEventKey(o,"m")}:l,h=a.playPauseKey,f=void 0===h?function(o){return Du.a.isEventKey(o,"k")||Du.a.isEventKey(o,"Space")}:h;if(u.call(this,o)){o.preventDefault(),o.stopPropagation();var p=lh.getComponent("FullscreenToggle");!1!==Eu.a[this.fsApi_.fullscreenEnabled]&&p.prototype.handleClick.call(this,o)}else if(c.call(this,o)){o.preventDefault(),o.stopPropagation(),lh.getComponent("MuteToggle").prototype.handleClick.call(this,o)}else if(f.call(this,o)){o.preventDefault(),o.stopPropagation(),lh.getComponent("PlayToggle").prototype.handleClick.call(this,o)}},a.canPlayType=function canPlayType(o){for(var a,s=0,u=this.options_.techOrder;s<u.length;s++){var l=u[s],c=Vh.getTech(l);if(c||(c=lh.getComponent(l)),c){if(c.isSupported()&&(a=c.canPlayType(o)))return a}else Zc.error('The "'+l+'" tech is undefined. Skipped browser support check for that tech.')}return""},a.selectSource=function selectSource(o){var a=this,s=this.options_.techOrder.map((function(o){return[o,Vh.getTech(o)]})).filter((function(o){var a=o[0],s=o[1];return s?s.isSupported():(Zc.error('The "'+a+'" tech is undefined. Skipped browser support check for that tech.'),!1)})),u=function findFirstPassingTechSourcePair(o,a,s){var u;return o.some((function(o){return a.some((function(a){if(u=s(o,a))return!0}))})),u},l=function finder(o,s){var u=o[0];if(o[1].canPlaySource(s,a.options_[u.toLowerCase()]))return{source:s,tech:u}};return(this.options_.sourceOrder?u(o,s,function flip(o){return function(a,s){return o(s,a)}}(l)):u(s,o,l))||!1},a.handleSrc_=function handleSrc_(o,a){var s=this;if(void 0===o)return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var u=Jh(o);if(u.length){if(this.changingSrc_=!0,a||(this.cache_.sources=u),this.updateSourceCaches_(u[0]),setSource(this,u[0],(function(o,l){if(s.middleware_=l,a||(s.cache_.sources=u),s.updateSourceCaches_(o),s.src_(o))return u.length>1?s.handleSrc_(u.slice(1)):(s.changingSrc_=!1,s.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0),void s.triggerReady());!function setTech(o,a){o.forEach((function(o){return o.setTech&&o.setTech(a)}))}(l,s.tech_)})),this.options_.retryOnError&&u.length>1){var l=function retry(){s.error(null),s.handleSrc_(u.slice(1),!0)},c=function stopListeningForErrors(){s.off("error",l)};this.one("error",l),this.one("playing",c),this.resetRetryOnError_=function(){s.off("error",l),s.off("playing",c)}}}else this.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0)},a.src=function src(o){return this.handleSrc_(o,!1)},a.src_=function src_(o){var a=this,s=this.selectSource([o]);return!s||(function titleCaseEquals(o,a){return ih(o)===ih(a)}(s.tech,this.techName_)?(this.ready((function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",o):this.techCall_("src",o.src),this.changingSrc_=!1}),!0),!1):(this.changingSrc_=!0,this.loadTech_(s.tech,s.source),this.tech_.ready((function(){a.changingSrc_=!1})),!1))},a.load=function load(){this.techCall_("load")},a.reset=function reset(){var o=this,a=this.options_.Promise||Su.a.Promise;this.paused()||!a?this.doReset_():silencePromise(this.play().then((function(){return o.doReset_()})))},a.doReset_=function doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),Yd(this)&&this.trigger("playerreset")},a.resetControlBarUI_=function resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},a.resetProgressBar_=function resetProgressBar_(){this.currentTime(0);var o=this.controlBar,a=o.durationDisplay,s=o.remainingTimeDisplay;a&&a.updateContent(),s&&s.updateContent()},a.resetPlaybackRate_=function resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},a.resetVolumeBar_=function resetVolumeBar_(){this.volume(1),this.trigger("volumechange")},a.currentSources=function currentSources(){var o=this.currentSource(),a=[];return 0!==Object.keys(o).length&&a.push(o),this.cache_.sources||a},a.currentSource=function currentSource(){return this.cache_.source||{}},a.currentSrc=function currentSrc(){return this.currentSource()&&this.currentSource().src||""},a.currentType=function currentType(){return this.currentSource()&&this.currentSource().type||""},a.preload=function preload(o){return void 0!==o?(this.techCall_("setPreload",o),void(this.options_.preload=o)):this.techGet_("preload")},a.autoplay=function autoplay(o){if(void 0===o)return this.options_.autoplay||!1;var a;"string"==typeof o&&/(any|play|muted)/.test(o)||!0===o&&this.options_.normalizeAutoplay?(this.options_.autoplay=o,this.manualAutoplay_("string"==typeof o?o:"play"),a=!1):this.options_.autoplay=!!o,a=void 0===a?this.options_.autoplay:a,this.tech_&&this.techCall_("setAutoplay",a)},a.playsinline=function playsinline(o){return void 0!==o?(this.techCall_("setPlaysinline",o),this.options_.playsinline=o,this):this.techGet_("playsinline")},a.loop=function loop(o){return void 0!==o?(this.techCall_("setLoop",o),void(this.options_.loop=o)):this.techGet_("loop")},a.poster=function poster(o){if(void 0===o)return this.poster_;o||(o=""),o!==this.poster_&&(this.poster_=o,this.techCall_("setPoster",o),this.isPosterFromTech_=!1,this.trigger("posterchange"))},a.handleTechPosterChange_=function handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var o=this.tech_.poster()||"";o!==this.poster_&&(this.poster_=o,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},a.controls=function controls(o){if(void 0===o)return!!this.controls_;o=!!o,this.controls_!==o&&(this.controls_=o,this.usingNativeControls()&&this.techCall_("setControls",o),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},a.usingNativeControls=function usingNativeControls(o){if(void 0===o)return!!this.usingNativeControls_;o=!!o,this.usingNativeControls_!==o&&(this.usingNativeControls_=o,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},a.error=function error(o){var a=this;if(void 0===o)return this.error_||null;if(zc("beforeerror").forEach((function(s){var u=s(a,o);video_es_isObject(u)&&!Array.isArray(u)||"string"==typeof u||"number"==typeof u||null===u?o=u:a.log.error("please return a value that MediaError expects in beforeerror hooks")})),this.options_.suppressNotSupportedError&&o&&4===o.code){var s=function triggerSuppressedError(){this.error(o)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],s),void this.one("loadstart",(function(){this.off(["click","touchstart"],s)}))}if(null===o)return this.error_=o,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new MediaError(o),this.addClass("vjs-error"),Zc.error("(CODE:"+this.error_.code+" "+MediaError.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),zc("error").forEach((function(o){return o(a,a.error_)}))},a.reportUserActivity=function reportUserActivity(o){this.userActivity_=!0},a.userActive=function userActive(o){if(void 0===o)return this.userActive_;if((o=!!o)!==this.userActive_){if(this.userActive_=o,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",(function(o){o.stopPropagation(),o.preventDefault()})),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},a.listenForUserActivity_=function listenForUserActivity_(){var o,a,s,u=Wd(this,this.reportUserActivity),l=function handleMouseUpAndMouseLeave(a){u(),this.clearInterval(o)};this.on("mousedown",(function handleMouseDown(){u(),this.clearInterval(o),o=this.setInterval(u,250)})),this.on("mousemove",(function handleMouseMove(o){o.screenX===a&&o.screenY===s||(a=o.screenX,s=o.screenY,u())})),this.on("mouseup",l),this.on("mouseleave",l);var c,h=this.getChild("controlBar");!h||kd||hd||(h.on("mouseenter",(function(o){0!==this.player().options_.inactivityTimeout&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0})),h.on("mouseleave",(function(o){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout}))),this.on("keydown",u),this.on("keyup",u),this.setInterval((function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(c);var o=this.options_.inactivityTimeout;o<=0||(c=this.setTimeout((function(){this.userActivity_||this.userActive(!1)}),o))}}),250)},a.playbackRate=function playbackRate(o){if(void 0===o)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",o)},a.defaultPlaybackRate=function defaultPlaybackRate(o){return void 0!==o?this.techCall_("setDefaultPlaybackRate",o):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},a.isAudio=function isAudio(o){if(void 0===o)return!!this.isAudio_;this.isAudio_=!!o},a.addTextTrack=function addTextTrack(o,a,s){if(this.tech_)return this.tech_.addTextTrack(o,a,s)},a.addRemoteTextTrack=function addRemoteTextTrack(o,a){if(this.tech_)return this.tech_.addRemoteTextTrack(o,a)},a.removeRemoteTextTrack=function removeRemoteTextTrack(o){void 0===o&&(o={});var a=o.track;if(a||(a=o),this.tech_)return this.tech_.removeRemoteTextTrack(a)},a.getVideoPlaybackQuality=function getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")},a.videoWidth=function videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},a.videoHeight=function videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},a.language=function language(o){if(void 0===o)return this.language_;this.language_!==String(o).toLowerCase()&&(this.language_=String(o).toLowerCase(),Yd(this)&&this.trigger("languagechange"))},a.languages=function languages(){return mergeOptions$3(Player.prototype.options_.languages,this.languages_)},a.toJSON=function toJSON(){var o=mergeOptions$3(this.options_),a=o.tracks;o.tracks=[];for(var s=0;s<a.length;s++){var u=a[s];(u=mergeOptions$3(u)).player=void 0,o.tracks[s]=u}return o},a.createModal=function createModal(o,a){var s=this;(a=a||{}).content=o||"";var u=new ph(this,a);return this.addChild(u),u.on("dispose",(function(){s.removeChild(u)})),u.open(),u},a.updateCurrentBreakpoint_=function updateCurrentBreakpoint_(){if(this.responsive())for(var o=this.currentBreakpoint(),a=this.currentWidth(),s=0;s<Bp.length;s++){var u=Bp[s];if(a<=this.breakpoints_[u]){if(o===u)return;o&&this.removeClass(Fp[o]),this.addClass(Fp[u]),this.breakpoint_=u;break}}},a.removeCurrentBreakpoint_=function removeCurrentBreakpoint_(){var o=this.currentBreakpointClass();this.breakpoint_="",o&&this.removeClass(o)},a.breakpoints=function breakpoints(o){return void 0===o||(this.breakpoint_="",this.breakpoints_=video_es_assign({},jp,o),this.updateCurrentBreakpoint_()),video_es_assign(this.breakpoints_)},a.responsive=function responsive(o){return void 0===o?this.responsive_:(o=Boolean(o))!==this.responsive_?(this.responsive_=o,o?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),o):void 0},a.currentBreakpoint=function currentBreakpoint(){return this.breakpoint_},a.currentBreakpointClass=function currentBreakpointClass(){return Fp[this.breakpoint_]||""},a.loadMedia=function loadMedia(o,a){var s=this;if(o&&"object"==typeof o){this.reset(),this.cache_.media=mergeOptions$3(o);var u=this.cache_.media,l=u.artwork,c=u.poster,h=u.src,f=u.textTracks;!l&&c&&(this.cache_.media.artwork=[{src:c,type:Qh(c)}]),h&&this.src(h),c&&this.poster(c),Array.isArray(f)&&f.forEach((function(o){return s.addRemoteTextTrack(o,!1)})),this.ready(a)}},a.getMedia=function getMedia(){if(!this.cache_.media){var o=this.poster(),a={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),(function(o){return{kind:o.kind,label:o.label,language:o.language,src:o.src}}))};return o&&(a.poster=o,a.artwork=[{src:a.poster,type:Qh(a.poster)}]),a}return mergeOptions$3(this.cache_.media)},Player.getTagSettings=function getTagSettings(o){var a={sources:[],tracks:[]},s=getAttributes(o),u=s["data-setup"];if(video_es_hasClass(o,"vjs-fill")&&(s.fill=!0),video_es_hasClass(o,"vjs-fluid")&&(s.fluid=!0),null!==u){var l=Lu()(u||"{}"),c=l[0],h=l[1];c&&Zc.error(c),video_es_assign(s,h)}if(video_es_assign(a,s),o.hasChildNodes())for(var f=o.childNodes,p=0,m=f.length;p<m;p++){var g=f[p],v=g.nodeName.toLowerCase();"source"===v?a.sources.push(getAttributes(g)):"track"===v&&a.tracks.push(getAttributes(g))}return a},a.flexNotSupported_=function flexNotSupported_(){var o=Eu.a.createElement("i");return!("flexBasis"in o.style||"webkitFlexBasis"in o.style||"mozFlexBasis"in o.style||"msFlexBasis"in o.style||"msFlexOrder"in o.style)},a.debug=function debug(o){if(void 0===o)return this.debugEnabled_;o?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},a.playbackRates=function playbackRates(o){if(void 0===o)return this.cache_.playbackRates;Array.isArray(o)&&o.every((function(o){return"number"==typeof o}))&&(this.cache_.playbackRates=o,this.trigger("playbackrateschange"))},Player}(lh);qh.names.forEach((function(o){var a=qh[o];Up.prototype[a.getterName]=function(){return this.tech_?this.tech_[a.getterName]():(this[a.privateName]=this[a.privateName]||new a.ListClass,this[a.privateName])}})),Up.prototype.crossorigin=Up.prototype.crossOrigin,Up.players={};var Hp=Su.a.navigator;Up.prototype.options_={techOrder:Vh.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Hp&&(Hp.languages&&Hp.languages[0]||Hp.userLanguage||Hp.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach((function(o){Up.prototype[o]=function(){return this.techGet_(o)}})),Rp.forEach((function(o){Up.prototype["handleTech"+ih(o)+"_"]=function(){return this.trigger(o)}})),lh.registerComponent("Player",Up);var qp="plugin",Vp={},Wp=function pluginExists(o){return Vp.hasOwnProperty(o)},zp=function getPlugin(o){return Wp(o)?Vp[o]:void 0},Gp=function markPluginAsActive(o,a){o.activePlugins_=o.activePlugins_||{},o.activePlugins_[a]=!0},Xp=function triggerSetupEvent(o,a,s){var u=(s?"before":"")+"pluginsetup";o.trigger(u,a),o.trigger(u+":"+a.name,a)},Yp=function createPluginFactory(o,a){return a.prototype.name=o,function(){Xp(this,{name:o,plugin:a,instance:null},!0);for(var s=arguments.length,u=new Array(s),l=0;l<s;l++)u[l]=arguments[l];var c=Uu()(a,[this].concat(u));return this[o]=function(){return c},Xp(this,c.getEventHash()),c}},$p=function(){function Plugin(o){if(this.constructor===Plugin)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=o,this.log||(this.log=this.player.log.createLogger(this.name)),evented(this),delete this.trigger,stateful(this,this.constructor.defaultState),Gp(o,this.name),this.dispose=this.dispose.bind(this),o.on("dispose",this.dispose)}var o=Plugin.prototype;return o.version=function version(){return this.constructor.VERSION},o.getEventHash=function getEventHash(o){return void 0===o&&(o={}),o.name=this.name,o.plugin=this.constructor,o.instance=this,o},o.trigger=function trigger$1(o,a){return void 0===a&&(a={}),video_es_trigger(this.eventBusEl_,o,this.getEventHash(a))},o.handleStateChanged=function handleStateChanged(o){},o.dispose=function dispose(){var o=this.name,a=this.player;this.trigger("dispose"),this.off(),a.off("dispose",this.dispose),a.activePlugins_[o]=!1,this.player=this.state=null,a[o]=Yp(o,Vp[o])},Plugin.isBasic=function isBasic(o){var a="string"==typeof o?zp(o):o;return"function"==typeof a&&!Plugin.prototype.isPrototypeOf(a.prototype)},Plugin.registerPlugin=function registerPlugin(o,a){if("string"!=typeof o)throw new Error('Illegal plugin name, "'+o+'", must be a string, was '+typeof o+".");if(Wp(o))Zc.warn('A plugin named "'+o+'" already exists. You may want to avoid re-registering plugins!');else if(Up.prototype.hasOwnProperty(o))throw new Error('Illegal plugin name, "'+o+'", cannot share a name with an existing player method!');if("function"!=typeof a)throw new Error('Illegal plugin for "'+o+'", must be a function, was '+typeof a+".");return Vp[o]=a,o!==qp&&(Plugin.isBasic(a)?Up.prototype[o]=function createBasicPlugin(o,a){var s=function basicPluginWrapper(){Xp(this,{name:o,plugin:a,instance:null},!0);var s=a.apply(this,arguments);return Gp(this,o),Xp(this,{name:o,plugin:a,instance:s}),s};return Object.keys(a).forEach((function(o){s[o]=a[o]})),s}(o,a):Up.prototype[o]=Yp(o,a)),a},Plugin.deregisterPlugin=function deregisterPlugin(o){if(o===qp)throw new Error("Cannot de-register base plugin.");Wp(o)&&(delete Vp[o],delete Up.prototype[o])},Plugin.getPlugins=function getPlugins(o){var a;return void 0===o&&(o=Object.keys(Vp)),o.forEach((function(o){var s=zp(o);s&&((a=a||{})[o]=s)})),a},Plugin.getPluginVersion=function getPluginVersion(o){var a=zp(o);return a&&a.VERSION||""},Plugin}();$p.getPlugin=zp,$p.BASE_PLUGIN_NAME=qp,$p.registerPlugin(qp,$p),Up.prototype.usingPlugin=function(o){return!!this.activePlugins_&&!0===this.activePlugins_[o]},Up.prototype.hasPlugin=function(o){return!!Wp(o)};var Kp=function normalizeId(o){return 0===o.indexOf("#")?o.slice(1):o};function videojs(o,a,s){var u=videojs.getPlayer(o);if(u)return a&&Zc.warn('Player "'+o+'" is already initialised. Options will not be applied.'),s&&u.ready(s),u;var l="string"==typeof o?Ad("#"+Kp(o)):o;if(!isEl(l))throw new TypeError("The element or ID supplied is not valid. (videojs)");l.ownerDocument.defaultView&&l.ownerDocument.body.contains(l)||Zc.warn("The element supplied is not included in the DOM"),a=a||{},zc("beforesetup").forEach((function(o){var s=o(l,mergeOptions$3(a));video_es_isObject(s)&&!Array.isArray(s)?a=mergeOptions$3(a,s):Zc.error("please return an object in beforesetup hooks")}));var c=lh.getComponent("Player");return u=new c(l,a,s),zc("setup").forEach((function(o){return o(u)})),u}if(videojs.hooks_=Wc,videojs.hooks=zc,videojs.hook=function hook(o,a){zc(o,a)},videojs.hookOnce=function hookOnce(o,a){zc(o,[].concat(a).map((function(a){return function wrapper(){return Gc(o,wrapper),a.apply(void 0,arguments)}})))},videojs.removeHook=Gc,!0!==Su.a.VIDEOJS_NO_DYNAMIC_STYLE&&isReal()){var Qp=Ad(".vjs-styles-defaults");if(!Qp){Qp=Rd("vjs-styles-defaults");var Jp=Ad("head");Jp&&Jp.insertBefore(Qp,Jp.firstChild),Nd(Qp,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}autoSetupTimeout(1,videojs),videojs.VERSION=Vc,videojs.options=Up.prototype.options_,videojs.getPlayers=function(){return Up.players},videojs.getPlayer=function(o){var a,s=Up.players;if("string"==typeof o){var u=Kp(o),l=s[u];if(l)return l;a=Ad("#"+u)}else a=o;if(isEl(a)){var c=a,h=c.player,f=c.playerId;if(h||s[f])return h||s[f]}},videojs.getAllPlayers=function(){return Object.keys(Up.players).map((function(o){return Up.players[o]})).filter(Boolean)},videojs.players=Up.players,videojs.getComponent=lh.getComponent,videojs.registerComponent=function(o,a){Vh.isTech(a)&&Zc.warn("The "+o+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),lh.registerComponent.call(lh,o,a)},videojs.getTech=Vh.getTech,videojs.registerTech=Vh.registerTech,videojs.use=function use(o,a){Wh[o]=Wh[o]||[],Wh[o].push(a)},Object.defineProperty(videojs,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(videojs.middleware,"TERMINATOR",{value:Gh,writeable:!1,enumerable:!0}),videojs.browser=xd,videojs.TOUCH_ENABLED=Sd,videojs.extend=function extend(o,a){void 0===a&&(a={});var s=function subClass(){o.apply(this,arguments)},u={};for(var l in"object"==typeof a?(a.constructor!==Object.prototype.constructor&&(s=a.constructor),u=a):"function"==typeof a&&(s=a),qu()(s,o),o&&(s.super_=o),u)u.hasOwnProperty(l)&&(s.prototype[l]=u[l]);return s},videojs.mergeOptions=mergeOptions$3,videojs.bind=Wd,videojs.registerPlugin=$p.registerPlugin,videojs.deregisterPlugin=$p.deregisterPlugin,videojs.plugin=function(o,a){return Zc.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),$p.registerPlugin(o,a)},videojs.getPlugins=$p.getPlugins,videojs.getPlugin=$p.getPlugin,videojs.getPluginVersion=$p.getPluginVersion,videojs.addLanguage=function(o,a){var s;return o=(""+o).toLowerCase(),videojs.options.languages=mergeOptions$3(videojs.options.languages,((s={})[o]=a,s)),videojs.options.languages[o]},videojs.log=Zc,videojs.createLogger=ed,videojs.createTimeRange=videojs.createTimeRanges=createTimeRanges,videojs.formatTime=formatTime,videojs.setFormatTime=function setFormatTime(o){hf=o},videojs.resetFormatTime=function resetFormatTime(){hf=df},videojs.parseUrl=Ah,videojs.isCrossOrigin=Lh,videojs.EventTarget=Gd,videojs.on=on,videojs.one=one,videojs.off=off,videojs.trigger=video_es_trigger,videojs.xhr=Nu.a,videojs.TextTrack=Nh,videojs.AudioTrack=Bh,videojs.VideoTrack=Fh,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach((function(o){videojs[o]=function(){return Zc.warn("videojs."+o+"() is deprecated; use videojs.dom."+o+"() instead"),Od[o].apply(null,arguments)}})),videojs.computedStyle=computedStyle,videojs.dom=Od,videojs.url=Mh,videojs.defineLazyProperty=Mp,videojs.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});var Zp=Gu,em=function resolveManifestRedirect(o,a,s){return o&&s&&s.responseURL&&a!==s.responseURL?s.responseURL:a},tm=function logger(o){return videojs.log.debug?videojs.log.debug.bind(videojs,"VHS:",o+" >"):function(){}},nm=1/30,rm=.1,im=function filterRanges(o,a){var s,u=[];if(o&&o.length)for(s=0;s<o.length;s++)a(o.start(s),o.end(s))&&u.push([o.start(s),o.end(s)]);return videojs.createTimeRanges(u)},om=function findRange(o,a){return im(o,(function(o,s){return o-rm<=a&&s+rm>=a}))},am=function findNextRange(o,a){return im(o,(function(o){return o-nm>=a}))},sm=function printableRange(o){var a=[];if(!o||!o.length)return"";for(var s=0;s<o.length;s++)a.push(o.start(s)+" => "+o.end(s));return a.join(", ")},um=function timeRangesToArray(o){for(var a=[],s=0;s<o.length;s++)a.push({start:o.start(s),end:o.end(s)});return a},lm=function lastBufferedEnd(o){if(o&&o.length&&o.end)return o.end(o.length-1)},cm=videojs.createTimeRange,dm=function getPartsAndSegments(o){return(o.segments||[]).reduce((function(o,a,s){return a.parts?a.parts.forEach((function(u,l){o.push({duration:u.duration,segmentIndex:s,partIndex:l,part:u,segment:a})})):o.push({duration:a.duration,segmentIndex:s,partIndex:null,segment:a,part:null}),o}),[])},hm=function getLastParts(o){var a=o.segments&&o.segments.length&&o.segments[o.segments.length-1];return a&&a.parts||[]},fm=function getKnownPartCount(o){var a=o.preloadSegment;if(a){var s=a.parts,u=(a.preloadHints||[]).reduce((function(o,a){return o+("PART"===a.type?1:0)}),0);return u+=s&&s.length?s.length:0}},pm=function liveEdgeDelay(o,a){if(a.endList)return 0;if(o&&o.suggestedPresentationDelay)return o.suggestedPresentationDelay;var s=hm(a).length>0;return s&&a.serverControl&&a.serverControl.partHoldBack?a.serverControl.partHoldBack:s&&a.partTargetDuration?3*a.partTargetDuration:a.serverControl&&a.serverControl.holdBack?a.serverControl.holdBack:a.targetDuration?3*a.targetDuration:0},mm=function intervalDuration(o,a,s){if(void 0===a&&(a=o.mediaSequence+o.segments.length),a<o.mediaSequence)return 0;var u=function backwardDuration(o,a){var s=0,u=a-o.mediaSequence,l=o.segments[u];if(l){if(void 0!==l.start)return{result:l.start,precise:!0};if(void 0!==l.end)return{result:l.end-l.duration,precise:!0}}for(;u--;){if(void 0!==(l=o.segments[u]).end)return{result:s+l.end,precise:!0};if(s+=l.duration,void 0!==l.start)return{result:s+l.start,precise:!0}}return{result:s,precise:!1}}(o,a);if(u.precise)return u.result;var l=function forwardDuration(o,a){for(var s,u=0,l=a-o.mediaSequence;l<o.segments.length;l++){if(void 0!==(s=o.segments[l]).start)return{result:s.start-u,precise:!0};if(u+=s.duration,void 0!==s.end)return{result:s.end-u,precise:!0}}return{result:-1,precise:!1}}(o,a);return l.precise?l.result:u.result+s},gm=function duration(o,a,s){if(!o)return 0;if("number"!=typeof s&&(s=0),void 0===a){if(o.totalDuration)return o.totalDuration;if(!o.endList)return Su.a.Infinity}return mm(o,a,s)},vm=function sumDurations(o){var a=o.defaultDuration,s=o.durationList,u=o.startIndex,l=o.endIndex,c=0;if(u>l){var h=[l,u];u=h[0],l=h[1]}if(u<0){for(var f=u;f<Math.min(0,l);f++)c+=a;u=0}for(var p=u;p<l;p++)c+=s[p].duration;return c},ym=function playlistEnd(o,a,s,u){if(!o||!o.segments)return null;if(o.endList)return gm(o);if(null===a)return null;a=a||0;var l=mm(o,o.mediaSequence+o.segments.length,a);return s&&(l-=u="number"==typeof u?u:pm(null,o)),Math.max(0,l)},_m=function isBlacklisted(o){return o.excludeUntil&&o.excludeUntil>Date.now()},bm=function isIncompatible(o){return o.excludeUntil&&o.excludeUntil===1/0},Tm=function isEnabled(o){var a=_m(o);return!o.disabled&&!a},Sm=function hasAttribute(o,a){return a.attributes&&a.attributes[o]},wm=function isLowestEnabledRendition(o,a){if(1===o.playlists.length)return!0;var s=a.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===o.playlists.filter((function(o){return!!Tm(o)&&(o.attributes.BANDWIDTH||0)<s})).length},Em=function playlistMatch(o,a){return!(!o&&!a||!o&&a||o&&!a)&&(o===a||(!(!o.id||!a.id||o.id!==a.id)||(!(!o.resolvedUri||!a.resolvedUri||o.resolvedUri!==a.resolvedUri)||!(!o.uri||!a.uri||o.uri!==a.uri))))},km=function someAudioVariant(o,a){var s=o&&o.mediaGroups&&o.mediaGroups.AUDIO||{},u=!1;for(var l in s){for(var c in s[l])if(u=a(s[l][c]))break;if(u)break}return!!u},Cm=function isAudioOnly(o){if(!o||!o.playlists||!o.playlists.length)return km(o,(function(o){return o.playlists&&o.playlists.length||o.uri}));for(var a=function _loop(a){var s=o.playlists[a],u=s.attributes&&s.attributes.CODECS;return u&&u.split(",").every((function(o){return ll(o)}))||km(o,(function(o){return Em(s,o)}))?"continue":{v:!1}},s=0;s<o.playlists.length;s++){var u=a(s);if("continue"!==u&&"object"==typeof u)return u.v}return!0},xm={liveEdgeDelay:pm,duration:gm,seekable:function seekable(o,a,s){var u=a||0,l=ym(o,a,!0,s);return null===l?cm():cm(u,l)},getMediaInfoForTime:function getMediaInfoForTime(o){for(var a=o.playlist,s=o.currentTime,u=o.startingSegmentIndex,l=o.startingPartIndex,c=o.startTime,h=o.experimentalExactManifestTimings,f=s-c,p=dm(a),m=0,g=0;g<p.length;g++){var v=p[g];if(u===v.segmentIndex&&("number"!=typeof l||"number"!=typeof v.partIndex||l===v.partIndex)){m=g;break}}if(f<0){if(m>0)for(var y=m-1;y>=0;y--){var _=p[y];if(f+=_.duration,h){if(f<0)continue}else if(f+nm<=0)continue;return{partIndex:_.partIndex,segmentIndex:_.segmentIndex,startTime:c-vm({defaultDuration:a.targetDuration,durationList:p,startIndex:m,endIndex:y})}}return{partIndex:p[0]&&p[0].partIndex||null,segmentIndex:p[0]&&p[0].segmentIndex||0,startTime:s}}if(m<0){for(var b=m;b<0;b++)if((f-=a.targetDuration)<0)return{partIndex:p[0]&&p[0].partIndex||null,segmentIndex:p[0]&&p[0].segmentIndex||0,startTime:s};m=0}for(var T=m;T<p.length;T++){var S=p[T];if(f-=S.duration,h){if(f>0)continue}else if(f-nm>=0)continue;return{partIndex:S.partIndex,segmentIndex:S.segmentIndex,startTime:c+vm({defaultDuration:a.targetDuration,durationList:p,startIndex:m,endIndex:T})}}return{segmentIndex:p[p.length-1].segmentIndex,partIndex:p[p.length-1].partIndex,startTime:s}},isEnabled:Tm,isDisabled:function isDisabled(o){return o.disabled},isBlacklisted:_m,isIncompatible:bm,playlistEnd:ym,isAes:function isAes(o){for(var a=0;a<o.segments.length;a++)if(o.segments[a].key)return!0;return!1},hasAttribute:Sm,estimateSegmentRequestTime:function estimateSegmentRequestTime(o,a,s,u){return void 0===u&&(u=0),Sm("BANDWIDTH",s)?(o*s.attributes.BANDWIDTH-8*u)/a:NaN},isLowestEnabledRendition:wm,isAudioOnly:Cm,playlistMatch:Em},Pm=videojs.log,Am=function createPlaylistID(o,a){return o+"-"+a},Im=function forEachMediaGroup(o,a){o.mediaGroups&&["AUDIO","SUBTITLES"].forEach((function(s){if(o.mediaGroups[s])for(var u in o.mediaGroups[s])for(var l in o.mediaGroups[s][u]){var c=o.mediaGroups[s][u][l];a(c,s,u,l)}}))},Om=function setupMediaPlaylist(o){var a=o.playlist,s=o.uri,u=o.id;a.id=u,a.playlistErrors_=0,s&&(a.uri=s),a.attributes=a.attributes||{}},Lm=function addPropertiesToMaster(o,a){o.uri=a;for(var s=0;s<o.playlists.length;s++)if(!o.playlists[s].uri){var u="placeholder-uri-"+s;o.playlists[s].uri=u}var l=Cm(o);Im(o,(function(a,s,u,c){var h="placeholder-uri-"+s+"-"+u+"-"+c;if(!a.playlists||!a.playlists.length){if(l&&"AUDIO"===s&&!a.uri)for(var f=0;f<o.playlists.length;f++){var p=o.playlists[f];if(p.attributes&&p.attributes.AUDIO&&p.attributes.AUDIO===u)return}a.playlists=[Cu()({},a)]}a.playlists.forEach((function(a,s){var u=Am(s,h);a.uri?a.resolvedUri=a.resolvedUri||Zp(o.uri,a.uri):(a.uri=0===s?h:u,a.resolvedUri=a.uri),a.id=a.id||u,a.attributes=a.attributes||{},o.playlists[a.id]=a,o.playlists[a.uri]=a}))})),function setupMediaPlaylists(o){for(var a=o.playlists.length;a--;){var s=o.playlists[a];Om({playlist:s,id:Am(a,s.uri)}),s.resolvedUri=Zp(o.uri,s.uri),o.playlists[s.id]=s,o.playlists[s.uri]=s,s.attributes.BANDWIDTH||Pm.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}}(o),function resolveMediaGroupUris(o){Im(o,(function(a){a.uri&&(a.resolvedUri=Zp(o.uri,a.uri))}))}(o)},Mm=videojs.mergeOptions,Dm=videojs.EventTarget,Rm=function updateSegment(o,a){if(!o)return a;var s=Mm(o,a);if(o.preloadHints&&!a.preloadHints&&delete s.preloadHints,o.parts&&!a.parts)delete s.parts;else if(o.parts&&a.parts)for(var u=0;u<a.parts.length;u++)o.parts&&o.parts[u]&&(s.parts[u]=Mm(o.parts[u],a.parts[u]));return!o.skipped&&a.skipped&&(s.skipped=!1),o.preload&&!a.preload&&(s.preload=!1),s},Nm=function resolveSegmentUris(o,a){!o.resolvedUri&&o.uri&&(o.resolvedUri=Zp(a,o.uri)),o.key&&!o.key.resolvedUri&&(o.key.resolvedUri=Zp(a,o.key.uri)),o.map&&!o.map.resolvedUri&&(o.map.resolvedUri=Zp(a,o.map.uri)),o.map&&o.map.key&&!o.map.key.resolvedUri&&(o.map.key.resolvedUri=Zp(a,o.map.key.uri)),o.parts&&o.parts.length&&o.parts.forEach((function(o){o.resolvedUri||(o.resolvedUri=Zp(a,o.uri))})),o.preloadHints&&o.preloadHints.length&&o.preloadHints.forEach((function(o){o.resolvedUri||(o.resolvedUri=Zp(a,o.uri))}))},Bm=function getAllSegments(o){var a=o.segments||[],s=o.preloadSegment;if(s&&s.parts&&s.parts.length){if(s.preloadHints)for(var u=0;u<s.preloadHints.length;u++)if("MAP"===s.preloadHints[u].type)return a;s.duration=o.targetDuration,s.preload=!0,a.push(s)}return a},Fm=function isPlaylistUnchanged(o,a){return o===a||o.segments&&a.segments&&o.segments.length===a.segments.length&&o.endList===a.endList&&o.mediaSequence===a.mediaSequence},jm=function updateMaster(o,a,s){void 0===s&&(s=Fm);var u=Mm(o,{}),l=u.playlists[a.id];if(!l)return null;if(s(l,a))return null;a.segments=Bm(a);var c=Mm(l,a);if(c.preloadSegment&&!a.preloadSegment&&delete c.preloadSegment,l.segments){if(a.skip){a.segments=a.segments||[];for(var h=0;h<a.skip.skippedSegments;h++)a.segments.unshift({skipped:!0})}c.segments=function updateSegments(o,a,s){var u=o.slice(),l=a.slice();s=s||0;for(var c,h=[],f=0;f<l.length;f++){var p=u[f+s],m=l[f];p?(c=p.map||c,h.push(Rm(p,m))):(c&&!m.map&&(m.map=c),h.push(m))}return h}(l.segments,a.segments,a.mediaSequence-l.mediaSequence)}c.segments.forEach((function(o){Nm(o,c.resolvedUri)}));for(var f=0;f<u.playlists.length;f++)u.playlists[f].id===a.id&&(u.playlists[f]=c);return u.playlists[a.id]=c,u.playlists[a.uri]=c,Im(o,(function(o,s,u,l){if(o.playlists)for(var c=0;c<o.playlists.length;c++)a.id===o.playlists[c].id&&(o.playlists[c]=a)})),u},Um=function refreshDelay(o,a){var s=o.segments[o.segments.length-1],u=s&&s.parts&&s.parts[s.parts.length-1],l=u&&u.duration||s&&s.duration;return a&&l?1e3*l:500*(o.partTargetDuration||o.targetDuration||10)},Hm=function(o){function PlaylistLoader(a,s,u){var l;if(void 0===u&&(u={}),l=o.call(this)||this,!a)throw new Error("A non-empty playlist URL or object is required");l.logger_=tm("PlaylistLoader");var c=u,h=c.withCredentials,f=void 0!==h&&h,p=c.handleManifestRedirects,m=void 0!==p&&p;l.src=a,l.vhs_=s,l.withCredentials=f,l.handleManifestRedirects=m;var g=s.options_;return l.customTagParsers=g&&g.customTagParsers||[],l.customTagMappers=g&&g.customTagMappers||[],l.experimentalLLHLS=g&&g.experimentalLLHLS||!1,l.state="HAVE_NOTHING",l.handleMediaupdatetimeout_=l.handleMediaupdatetimeout_.bind(Pu()(l)),l.on("mediaupdatetimeout",l.handleMediaupdatetimeout_),l}Iu()(PlaylistLoader,o);var a=PlaylistLoader.prototype;return a.handleMediaupdatetimeout_=function handleMediaupdatetimeout_(){var o=this;if("HAVE_METADATA"===this.state){var a=this.media(),s=Zp(this.master.uri,a.uri);this.experimentalLLHLS&&(s=function addLLHLSQueryDirectives(o,a){if(a.endList)return o;var s=[];if(a.serverControl&&a.serverControl.canBlockReload){var u=a.preloadSegment,l=a.mediaSequence+a.segments.length;if(u){var c=u.parts||[],h=fm(a)-1;h>-1&&h!==c.length-1&&s.push("_HLS_part="+h),(h>-1||c.length)&&l--}s.unshift("_HLS_msn="+l)}return a.serverControl&&a.serverControl.canSkipUntil&&s.unshift("_HLS_skip="+(a.serverControl.canSkipDateranges?"v2":"YES")),s.forEach((function(a,s){o+=(0===s?"?":"&")+a})),o}(s,a)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:s,withCredentials:this.withCredentials},(function(a,s){if(o.request)return a?o.playlistRequestError(o.request,o.media(),"HAVE_METADATA"):void o.haveMetadata({playlistString:o.request.responseText,url:o.media().uri,id:o.media().id})}))}},a.playlistRequestError=function playlistRequestError(o,a,s){var u=a.uri,l=a.id;this.request=null,s&&(this.state=s),this.error={playlist:this.master.playlists[l],status:o.status,message:"HLS playlist request error at URL: "+u+".",responseText:o.responseText,code:o.status>=500?4:2},this.trigger("error")},a.parseManifest_=function parseManifest_(o){var a=this,s=o.url;return function parseManifest(o){var a=o.onwarn,s=o.oninfo,u=o.manifestString,l=o.customTagParsers,c=void 0===l?[]:l,h=o.customTagMappers,f=void 0===h?[]:h,p=o.experimentalLLHLS,m=new rl;a&&m.on("warn",a),s&&m.on("info",s),c.forEach((function(o){return m.addParser(o)})),f.forEach((function(o){return m.addTagMapper(o)})),m.push(u),m.end();var g=m.manifest;if(p||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach((function(o){g.hasOwnProperty(o)&&delete g[o]})),g.segments&&g.segments.forEach((function(o){["parts","preloadHints"].forEach((function(a){o.hasOwnProperty(a)&&delete o[a]}))}))),!g.targetDuration){var v=10;g.segments&&g.segments.length&&(v=g.segments.reduce((function(o,a){return Math.max(o,a.duration)}),0)),a&&a("manifest has no targetDuration defaulting to "+v),g.targetDuration=v}var y=hm(g);if(y.length&&!g.partTargetDuration){var _=y.reduce((function(o,a){return Math.max(o,a.duration)}),0);a&&(a("manifest has no partTargetDuration defaulting to "+_),Pm.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),g.partTargetDuration=_}return g}({onwarn:function onwarn(o){var u=o.message;return a.logger_("m3u8-parser warn for "+s+": "+u)},oninfo:function oninfo(o){var u=o.message;return a.logger_("m3u8-parser info for "+s+": "+u)},manifestString:o.manifestString,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},a.haveMetadata=function haveMetadata(o){var a=o.playlistString,s=o.playlistObject,u=o.url,l=o.id;this.request=null,this.state="HAVE_METADATA";var c=s||this.parseManifest_({url:u,manifestString:a});c.lastRequest=Date.now(),Om({playlist:c,uri:u,id:l});var h=jm(this.master,c);this.targetDuration=c.partTargetDuration||c.targetDuration,h?(this.master=h,this.media_=this.master.playlists[l]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(Um(this.media(),!!h)),this.trigger("loadedplaylist")},a.dispose=function dispose(){this.trigger("dispose"),this.stopRequest(),Su.a.clearTimeout(this.mediaUpdateTimeout),Su.a.clearTimeout(this.finalRenditionTimeout),this.off()},a.stopRequest=function stopRequest(){if(this.request){var o=this.request;this.request=null,o.onreadystatechange=null,o.abort()}},a.media=function media(o,a){var s=this;if(!o)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof o){if(!this.master.playlists[o])throw new Error("Unknown playlist URI: "+o);o=this.master.playlists[o]}if(Su.a.clearTimeout(this.finalRenditionTimeout),a){var u=(o.partTargetDuration||o.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=Su.a.setTimeout(this.media.bind(this,o,!1),u)}else{var l=this.state,c=!this.media_||o.id!==this.media_.id,h=this.master.playlists[o.id];if(h&&h.endList||o.endList&&o.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=o,void(c&&(this.trigger("mediachanging"),"HAVE_MASTER"===l?this.trigger("loadedmetadata"):this.trigger("mediachange")));if(this.updateMediaUpdateTimeout_(Um(o,!0)),c){if(this.state="SWITCHING_MEDIA",this.request){if(o.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.vhs_.xhr({uri:o.resolvedUri,withCredentials:this.withCredentials},(function(a,u){if(s.request){if(o.lastRequest=Date.now(),o.resolvedUri=em(s.handleManifestRedirects,o.resolvedUri,u),a)return s.playlistRequestError(s.request,o,l);s.haveMetadata({playlistString:u.responseText,url:o.uri,id:o.id}),"HAVE_MASTER"===l?s.trigger("loadedmetadata"):s.trigger("mediachange")}}))}}},a.pause=function pause(){this.mediaUpdateTimeout&&(Su.a.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")},a.load=function load(o){var a=this;this.mediaUpdateTimeout&&(Su.a.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var s=this.media();if(o){var u=s?(s.partTargetDuration||s.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=Su.a.setTimeout((function(){a.mediaUpdateTimeout=null,a.load()}),u)}else this.started?s&&!s.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()},a.updateMediaUpdateTimeout_=function updateMediaUpdateTimeout_(o){var a=this;this.mediaUpdateTimeout&&(Su.a.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.media()&&!this.media().endList&&(this.mediaUpdateTimeout=Su.a.setTimeout((function(){a.mediaUpdateTimeout=null,a.trigger("mediaupdatetimeout"),a.updateMediaUpdateTimeout_(o)}),o))},a.start=function start(){var o=this;if(this.started=!0,"object"==typeof this.src)return this.src.uri||(this.src.uri=Su.a.location.href),this.src.resolvedUri=this.src.uri,void setTimeout((function(){o.setupInitialPlaylist(o.src)}),0);this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},(function(a,s){if(o.request){if(o.request=null,a)return o.error={status:s.status,message:"HLS playlist request error at URL: "+o.src+".",responseText:s.responseText,code:2},"HAVE_NOTHING"===o.state&&(o.started=!1),o.trigger("error");o.src=em(o.handleManifestRedirects,o.src,s);var u=o.parseManifest_({manifestString:s.responseText,url:o.src});o.setupInitialPlaylist(u)}}))},a.srcUri=function srcUri(){return"string"==typeof this.src?this.src:this.src.uri},a.setupInitialPlaylist=function setupInitialPlaylist(o){if(this.state="HAVE_MASTER",o.playlists)return this.master=o,Lm(this.master,this.srcUri()),o.playlists.forEach((function(o){o.segments=Bm(o),o.segments.forEach((function(a){Nm(a,o.resolvedUri)}))})),this.trigger("loadedplaylist"),void(this.request||this.media(this.master.playlists[0]));var a=this.srcUri()||Su.a.location.href;this.master=function masterForMedia(o,a){var s=Am(0,a),u={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:Su.a.location.href,resolvedUri:Su.a.location.href,playlists:[{uri:a,id:s,resolvedUri:a,attributes:{}}]};return u.playlists[s]=u.playlists[0],u.playlists[a]=u.playlists[0],u}(0,a),this.haveMetadata({playlistObject:o,url:a,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},PlaylistLoader}(Dm),qm=videojs.xhr,Vm=videojs.mergeOptions,Wm=function callbackWrapper(o,a,s,u){var l="arraybuffer"===o.responseType?o.response:o.responseText;!a&&l&&(o.responseTime=Date.now(),o.roundTripTime=o.responseTime-o.requestTime,o.bytesReceived=l.byteLength||l.length,o.bandwidth||(o.bandwidth=Math.floor(o.bytesReceived/o.roundTripTime*8*1e3))),s.headers&&(o.responseHeaders=s.headers),a&&"ETIMEDOUT"===a.code&&(o.timedout=!0),a||o.aborted||200===s.statusCode||206===s.statusCode||0===s.statusCode||(a=new Error("XHR Failed with a response of: "+(o&&(l||o.responseText)))),u(a,o)},zm=function xhrFactory(){var o=function XhrFunction(o,a){o=Vm({timeout:45e3},o);var s=XhrFunction.beforeRequest||videojs.Vhs.xhr.beforeRequest;if(s&&"function"==typeof s){var u=s(o);u&&(o=u)}var l=(!0===videojs.Vhs.xhr.original?qm:videojs.Vhs.xhr)(o,(function(o,s){return Wm(l,o,s,a)})),c=l.abort;return l.abort=function(){return l.aborted=!0,c.apply(l,arguments)},l.uri=o.uri,l.requestTime=Date.now(),l};return o.original=!0,o},Gm=function segmentXhrHeaders(o){var a={};return o.byterange&&(a.Range=function byterangeStr(o){var a=o.offset+o.length-1;return"bytes="+o.offset+"-"+a}(o.byterange)),a},Xm=function textRange(o,a){return o.start(a)+"-"+o.end(a)},Ym=function formatHexString(o,a){var s=o.toString(16);return"00".substring(0,2-s.length)+s+(a%2?" ":"")},$m=function formatAsciiString(o){return o>=32&&o<126?String.fromCharCode(o):"."},Km=function createTransferableMessage(o){var a={};return Object.keys(o).forEach((function(s){var u=o[s];ArrayBuffer.isView(u)?a[s]={bytes:u.buffer,byteOffset:u.byteOffset,byteLength:u.byteLength}:a[s]=u})),a},Qm=function initSegmentId(o){var a=o.byterange||{length:1/0,offset:0};return[a.length,a.offset,o.resolvedUri].join(",")},Jm=function segmentKeyId(o){return o.resolvedUri},Zm=function hexDump(o){for(var a=Array.prototype.slice.call(o),s=16,u="",l=0;l<a.length/s;l++)u+=a.slice(l*s,l*s+s).map(Ym).join("")+" "+a.slice(l*s,l*s+s).map($m).join("")+"\n";return u},eg=Object.freeze({__proto__:null,createTransferableMessage:Km,initSegmentId:Qm,segmentKeyId:Jm,hexDump:Zm,tagDump:function tagDump(o){var a=o.bytes;return Zm(a)},textRanges:function textRanges(o){var a,s="";for(a=0;a<o.length;a++)s+=Xm(o,a)+" ";return s}}),tg=function getProgramTime(o){var a=o.playlist,s=o.time,u=void 0===s?void 0:s,l=o.callback;if(!l)throw new Error("getProgramTime: callback must be provided");if(!a||void 0===u)return l({message:"getProgramTime: playlist and time must be provided"});var c=function findSegmentForPlayerTime(o,a){if(!a||!a.segments||0===a.segments.length)return null;for(var s,u=0,l=0;l<a.segments.length&&!(o<=(u=(s=a.segments[l]).videoTimingInfo?s.videoTimingInfo.transmuxedPresentationEnd:u+s.duration));l++);var c=a.segments[a.segments.length-1];if(c.videoTimingInfo&&c.videoTimingInfo.transmuxedPresentationEnd<o)return null;if(o>u){if(o>u+.25*c.duration)return null;s=c}return{segment:s,estimatedStart:s.videoTimingInfo?s.videoTimingInfo.transmuxedPresentationStart:u-s.duration,type:s.videoTimingInfo?"accurate":"estimate"}}(u,a);if(!c)return l({message:"valid programTime was not found"});if("estimate"===c.type)return l({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:c.estimatedStart});var h={mediaSeconds:u},f=function playerTimeToProgramTime(o,a){if(!a.dateTimeObject)return null;var s=a.videoTimingInfo.transmuxerPrependedSeconds,u=o-(a.videoTimingInfo.transmuxedPresentationStart+s);return new Date(a.dateTimeObject.getTime()+1e3*u)}(u,c.segment);return f&&(h.programDateTime=f.toISOString()),l(null,h)},ng=function seekToProgramTime(o){var a=o.programTime,s=o.playlist,u=o.retryCount,l=void 0===u?2:u,c=o.seekTo,h=o.pauseAfterSeek,f=void 0===h||h,p=o.tech,m=o.callback;if(!m)throw new Error("seekToProgramTime: callback must be provided");if(void 0===a||!s||!c)return m({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!s.endList&&!p.hasStarted_)return m({message:"player must be playing a live stream to start buffering"});if(!function verifyProgramDateTimeTags(o){if(!o.segments||0===o.segments.length)return!1;for(var a=0;a<o.segments.length;a++)if(!o.segments[a].dateTimeObject)return!1;return!0}(s))return m({message:"programDateTime tags must be provided in the manifest "+s.resolvedUri});var g=function findSegmentForProgramTime(o,a){var s;try{s=new Date(o)}catch(o){return null}if(!a||!a.segments||0===a.segments.length)return null;var u=a.segments[0];if(s<u.dateTimeObject)return null;for(var l=0;l<a.segments.length-1&&(u=a.segments[l],!(s<a.segments[l+1].dateTimeObject));l++);var c=a.segments[a.segments.length-1],h=c.dateTimeObject,f=c.videoTimingInfo?function originalSegmentVideoDuration(o){return o.transmuxedPresentationEnd-o.transmuxedPresentationStart-o.transmuxerPrependedSeconds}(c.videoTimingInfo):c.duration+.25*c.duration;return s>new Date(h.getTime()+1e3*f)?null:(s>h&&(u=c),{segment:u,estimatedStart:u.videoTimingInfo?u.videoTimingInfo.transmuxedPresentationStart:xm.duration(a,a.mediaSequence+a.segments.indexOf(u)),type:u.videoTimingInfo?"accurate":"estimate"})}(a,s);if(!g)return m({message:a+" was not found in the stream"});var v=g.segment,y=function getOffsetFromTimestamp(o,a){var s,u;try{s=new Date(o),u=new Date(a)}catch(o){}var l=s.getTime();return(u.getTime()-l)/1e3}(v.dateTimeObject,a);if("estimate"===g.type)return 0===l?m({message:a+" is not buffered yet. Try again"}):(c(g.estimatedStart+y),void p.one("seeked",(function(){seekToProgramTime({programTime:a,playlist:s,retryCount:l-1,seekTo:c,pauseAfterSeek:f,tech:p,callback:m})})));var _=v.start+y;p.one("seeked",(function seekedCallback(){return m(null,p.currentTime())})),f&&p.pause(),c(_)},rg=function callbackOnCompleted(o,a){if(4===o.readyState)return a()},ig=function containerRequest(o,a,s){var u,l=[],c=!1,h=function endRequestAndCallback(o,a,u,l){return a.abort(),c=!0,s(o,a,u,l)},f=function progressListener(o,a){if(!c){if(o)return h(o,a,"",l);var s=a.responseText.substring(l&&l.byteLength||0,a.responseText.length);if(l=function concatTypedArrays(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];if((a=a.filter((function(o){return o&&(o.byteLength||o.length)&&"string"!=typeof o}))).length<=1)return hc(a[0]);var u=a.reduce((function(o,a,s){return o+(a.byteLength||a.length)}),0),l=new Uint8Array(u),c=0;return a.forEach((function(o){o=hc(o),l.set(o,c),c+=o.byteLength})),l}(l,yc(s,!0)),u=u||Tc(l),l.length<10||u&&l.length<u+2)return rg(a,(function(){return h(o,a,"",l)}));var f=Hc(l);return"ts"===f&&l.length<188||!f&&l.length<376?rg(a,(function(){return h(o,a,"",l)})):h(null,a,f,l)}},p=a({uri:o,beforeSend:function beforeSend(o){o.overrideMimeType("text/plain; charset=x-user-defined"),o.addEventListener("progress",(function(a){return a.total,a.loaded,Wm(o,null,{statusCode:o.status},f)}))}},(function(o,a){return Wm(p,o,a,f)}));return p},og=videojs.EventTarget,ag=videojs.mergeOptions,sg=function dashPlaylistUnchanged(o,a){if(!Fm(o,a))return!1;if(o.sidx&&a.sidx&&(o.sidx.offset!==a.sidx.offset||o.sidx.length!==a.sidx.length))return!1;if(!o.sidx&&a.sidx||o.sidx&&!a.sidx)return!1;if(o.segments&&!a.segments||!o.segments&&a.segments)return!1;if(!o.segments&&!a.segments)return!0;for(var s=0;s<o.segments.length;s++){var u=o.segments[s],l=a.segments[s];if(u.uri!==l.uri)return!1;if(u.byterange||l.byterange){var c=u.byterange,h=l.byterange;if(c&&!h||!c&&h)return!1;if(c.offset!==h.offset||c.length!==h.length)return!1}}return!0},ug=function equivalentSidx(o,a){return(Boolean(!o.map&&!a.map)||Boolean(o.map&&a.map&&o.map.byterange.offset===a.map.byterange.offset&&o.map.byterange.length===a.map.byterange.length))&&o.uri===a.uri&&o.byterange.offset===a.byterange.offset&&o.byterange.length===a.byterange.length},lg=function compareSidxEntry(o,a){var s={};for(var u in o){var l=o[u].sidx;if(l){var c=Dl(l);if(!a[c])break;var h=a[c].sidxInfo;ug(h,l)&&(s[c]=a[c])}}return s},cg=function(o){function DashPlaylistLoader(a,s,u,l){var c;void 0===u&&(u={}),(c=o.call(this)||this).masterPlaylistLoader_=l||Pu()(c),l||(c.isMaster_=!0);var h=u,f=h.withCredentials,p=void 0!==f&&f,m=h.handleManifestRedirects,g=void 0!==m&&m;if(c.vhs_=s,c.withCredentials=p,c.handleManifestRedirects=g,!a)throw new Error("A non-empty playlist URL or object is required");return c.on("minimumUpdatePeriod",(function(){c.refreshXml_()})),c.on("mediaupdatetimeout",(function(){c.refreshMedia_(c.media().id)})),c.state="HAVE_NOTHING",c.loadedPlaylists_={},c.logger_=tm("DashPlaylistLoader"),c.isMaster_?(c.masterPlaylistLoader_.srcUrl=a,c.masterPlaylistLoader_.sidxMapping_={}):c.childPlaylist_=a,c}Iu()(DashPlaylistLoader,o);var a=DashPlaylistLoader.prototype;return a.requestErrored_=function requestErrored_(o,a,s){return!this.request||(this.request=null,o?(this.error="object"!=typeof o||o instanceof Error?{status:a.status,message:"DASH request error at URL: "+a.uri,response:a.response,code:2}:o,s&&(this.state=s),this.trigger("error"),!0):void 0)},a.addSidxSegments_=function addSidxSegments_(o,a,s){var u=this,l=o.sidx&&Dl(o.sidx);if(o.sidx&&l&&!this.masterPlaylistLoader_.sidxMapping_[l]){var c=em(this.handleManifestRedirects,o.sidx.resolvedUri),h=function fin(c,h){if(!u.requestErrored_(c,h,a)){var f,p=u.masterPlaylistLoader_.sidxMapping_;try{f=dc()(hc(h.response).subarray(8))}catch(o){return void u.requestErrored_(o,h,a)}return p[l]={sidxInfo:o.sidx,sidx:f},Ml(o,f,o.sidx.resolvedUri),s(!0)}};this.request=ig(c,this.vhs_.xhr,(function(a,s,l,f){if(a)return h(a,s);if(!l||"mp4"!==l)return h({status:s.status,message:"Unsupported "+(l||"unknown")+" container type for sidx segment at URL: "+c,response:"",playlist:o,internal:!0,blacklistDuration:1/0,code:2},s);var p=o.sidx.byterange,m=p.offset,g=p.length;if(f.length>=g+m)return h(a,{response:f.subarray(m,m+g),status:s.status,uri:s.uri});u.request=u.vhs_.xhr({uri:c,responseType:"arraybuffer",headers:Gm({byterange:o.sidx.byterange})},h)}))}else this.mediaRequest_=Su.a.setTimeout((function(){return s(!1)}),0)},a.dispose=function dispose(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},Su.a.clearTimeout(this.minimumUpdatePeriodTimeout_),Su.a.clearTimeout(this.mediaRequest_),Su.a.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},a.hasPendingRequest=function hasPendingRequest(){return this.request||this.mediaRequest_},a.stopRequest=function stopRequest(){if(this.request){var o=this.request;this.request=null,o.onreadystatechange=null,o.abort()}},a.media=function media(o){var a=this;if(!o)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var s=this.state;if("string"==typeof o){if(!this.masterPlaylistLoader_.master.playlists[o])throw new Error("Unknown playlist URI: "+o);o=this.masterPlaylistLoader_.master.playlists[o]}var u=!this.media_||o.id!==this.media_.id;if(u&&this.loadedPlaylists_[o.id]&&this.loadedPlaylists_[o.id].endList)return this.state="HAVE_METADATA",this.media_=o,void(u&&(this.trigger("mediachanging"),this.trigger("mediachange")));u&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(o,s,(function(u){a.haveMetadata({startingState:s,playlist:o})})))},a.haveMetadata=function haveMetadata(o){var a=o.startingState,s=o.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[s.id]=s,this.mediaRequest_=null,this.refreshMedia_(s.id),"HAVE_MASTER"===a?this.trigger("loadedmetadata"):this.trigger("mediachange")},a.pause=function pause(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),Su.a.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(Su.a.clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),"HAVE_NOTHING"===this.state&&(this.started=!1)},a.load=function load(o){var a=this;Su.a.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var s=this.media();if(o){var u=s?s.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=Su.a.setTimeout((function(){return a.load()}),u)}else this.started?s&&!s.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist"):this.start()},a.start=function start(){var o=this;this.started=!0,this.isMaster_?this.requestMaster_((function(a,s){o.haveMaster_(),o.hasPendingRequest()||o.media_||o.media(o.masterPlaylistLoader_.master.playlists[0])})):this.mediaRequest_=Su.a.setTimeout((function(){return o.haveMaster_()}),0)},a.requestMaster_=function requestMaster_(o){var a=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},(function(s,u){if(!a.requestErrored_(s,u)){var l=u.responseText!==a.masterPlaylistLoader_.masterXml_;return a.masterPlaylistLoader_.masterXml_=u.responseText,u.responseHeaders&&u.responseHeaders.date?a.masterLoaded_=Date.parse(u.responseHeaders.date):a.masterLoaded_=Date.now(),a.masterPlaylistLoader_.srcUrl=em(a.handleManifestRedirects,a.masterPlaylistLoader_.srcUrl,u),l?(a.handleMaster_(),void a.syncClientServerClock_((function(){return o(u,l)}))):o(u,l)}"HAVE_NOTHING"===a.state&&(a.started=!1)}))},a.syncClientServerClock_=function syncClientServerClock_(o){var a=this,s=lc(this.masterPlaylistLoader_.masterXml_);return null===s?(this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),o()):"DIRECT"===s.method?(this.masterPlaylistLoader_.clientOffset_=s.value-Date.now(),o()):void(this.request=this.vhs_.xhr({uri:Zp(this.masterPlaylistLoader_.srcUrl,s.value),method:s.method,withCredentials:this.withCredentials},(function(u,l){if(a.request){if(u)return a.masterPlaylistLoader_.clientOffset_=a.masterLoaded_-Date.now(),o();var c;c="HEAD"===s.method?l.responseHeaders&&l.responseHeaders.date?Date.parse(l.responseHeaders.date):a.masterLoaded_:Date.parse(l.responseText),a.masterPlaylistLoader_.clientOffset_=c-Date.now(),o()}})))},a.haveMaster_=function haveMaster_(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},a.handleMaster_=function handleMaster_(){this.mediaRequest_=null;var o=function parseMasterXml(o){var a=o.masterXml,s=o.srcUrl,u=o.clientOffset,l=o.sidxMapping,c=uc(a,{manifestUri:s,clientOffset:u,sidxMapping:l});return Lm(c,s),c}({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_}),a=this.masterPlaylistLoader_.master;a&&(o=function updateMaster(o,a,s){for(var u=!0,l=ag(o,{duration:a.duration,minimumUpdatePeriod:a.minimumUpdatePeriod}),c=0;c<a.playlists.length;c++){var h=a.playlists[c];if(h.sidx){var f=Dl(h.sidx);s&&s[f]&&s[f].sidx&&Ml(h,s[f].sidx,h.sidx.resolvedUri)}var p=jm(l,h,sg);p&&(l=p,u=!1)}return Im(a,(function(o,a,s,c){if(o.playlists&&o.playlists.length){var h=o.playlists[0].id,f=jm(l,o.playlists[0],sg);f&&((l=f).mediaGroups[a][s][c].playlists[0]=l.playlists[h],u=!1)}})),a.minimumUpdatePeriod!==o.minimumUpdatePeriod&&(u=!1),u?null:l}(a,o,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=o||a;var s=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return s&&s!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=s),(!a||o&&o.minimumUpdatePeriod!==a.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(o)},a.updateMinimumUpdatePeriodTimeout_=function updateMinimumUpdatePeriodTimeout_(){var o=this.masterPlaylistLoader_;o.createMupOnMedia_&&(o.off("loadedmetadata",o.createMupOnMedia_),o.createMupOnMedia_=null),o.minimumUpdatePeriodTimeout_&&(Su.a.clearTimeout(o.minimumUpdatePeriodTimeout_),o.minimumUpdatePeriodTimeout_=null);var a=o.master&&o.master.minimumUpdatePeriod;0===a&&(o.media()?a=1e3*o.media().targetDuration:(o.createMupOnMedia_=o.updateMinimumUpdatePeriodTimeout_,o.one("loadedmetadata",o.createMupOnMedia_))),"number"!=typeof a||a<=0?a<0&&this.logger_("found invalid minimumUpdatePeriod of "+a+", not setting a timeout"):this.createMUPTimeout_(a)},a.createMUPTimeout_=function createMUPTimeout_(o){var a=this.masterPlaylistLoader_;a.minimumUpdatePeriodTimeout_=Su.a.setTimeout((function(){a.minimumUpdatePeriodTimeout_=null,a.trigger("minimumUpdatePeriod"),a.createMUPTimeout_(o)}),o)},a.refreshXml_=function refreshXml_(){var o=this;this.requestMaster_((function(a,s){s&&(o.media_&&(o.media_=o.masterPlaylistLoader_.master.playlists[o.media_.id]),o.masterPlaylistLoader_.sidxMapping_=function filterChangedSidxMappings(o,a){var s=lg(o.playlists,a);return Im(o,(function(o,u,l,c){if(o.playlists&&o.playlists.length){var h=o.playlists;s=ag(s,lg(h,a))}})),s}(o.masterPlaylistLoader_.master,o.masterPlaylistLoader_.sidxMapping_),o.addSidxSegments_(o.media(),o.state,(function(a){o.refreshMedia_(o.media().id)})))}))},a.refreshMedia_=function refreshMedia_(o){var a=this;if(!o)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var s=this.masterPlaylistLoader_.master.playlists,u=!this.media_||this.media_!==s[o];if(u?this.media_=s[o]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){!function createMediaUpdateTimeout(){a.media().endList||(a.mediaUpdateTimeout=Su.a.setTimeout((function(){a.trigger("mediaupdatetimeout"),createMediaUpdateTimeout()}),Um(a.media(),Boolean(u))))}()}this.trigger("loadedplaylist")},DashPlaylistLoader}(og),dg={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},hg=function browserWorkerPolyFill(o){return o.on=o.addEventListener,o.off=o.removeEventListener,o},fg=function factory(o){return function(){var a=function createObjectURL(o){try{return URL.createObjectURL(new Blob([o],{type:"application/javascript"}))}catch(s){var a=new BlobBuilder;return a.append(o),URL.createObjectURL(a.getBlob())}}(o),s=hg(new Worker(a));s.objURL=a;var u=s.terminate;return s.on=s.addEventListener,s.off=s.removeEventListener,s.terminate=function(){return URL.revokeObjectURL(a),u.call(this)},s}},pg=function transform(o){return"var browserWorkerPolyFill = "+hg.toString()+";\nbrowserWorkerPolyFill(self);\n"+o},mg=function getWorkerString(o){return o.toString().replace(/^function.+?{/,"").slice(0,-1)},gg=fg(pg(mg((function(){var o=function Stream(){this.init=function(){var o={};this.on=function(a,s){o[a]||(o[a]=[]),o[a]=o[a].concat(s)},this.off=function(a,s){var u;return!!o[a]&&(u=o[a].indexOf(s),o[a]=o[a].slice(),o[a].splice(u,1),u>-1)},this.trigger=function(a){var s,u,l,c;if(s=o[a])if(2===arguments.length)for(l=s.length,u=0;u<l;++u)s[u].call(this,arguments[1]);else{for(c=[],u=arguments.length,u=1;u<arguments.length;++u)c.push(arguments[u]);for(l=s.length,u=0;u<l;++u)s[u].apply(this,c)}},this.dispose=function(){o={}}}};o.prototype.pipe=function(o){return this.on("data",(function(a){o.push(a)})),this.on("done",(function(a){o.flush(a)})),this.on("partialdone",(function(a){o.partialFlush(a)})),this.on("endedtimeline",(function(a){o.endTimeline(a)})),this.on("reset",(function(a){o.reset(a)})),o},o.prototype.push=function(o){this.trigger("data",o)},o.prototype.flush=function(o){this.trigger("done",o)},o.prototype.partialFlush=function(o){this.trigger("partialdone",o)},o.prototype.endTimeline=function(o){this.trigger("endedtimeline",o)},o.prototype.reset=function(o){this.trigger("reset",o)};var a,s,u,l,c,h,f,p,m,g,v,y,_,b,T,S,w,k,x,P,I,O,L,M,D,R,N,j,U,H,q,V,W,z,G,X,Y,K,Q,J,Z=o,ee=Math.pow(2,32)-1;!function(){var o;if(O={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(o in O)O.hasOwnProperty(o)&&(O[o]=[o.charCodeAt(0),o.charCodeAt(1),o.charCodeAt(2),o.charCodeAt(3)]);L=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),D=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),M=new Uint8Array([0,0,0,1]),R=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),N=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),j={video:R,audio:N},q=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),H=new Uint8Array([0,0,0,0,0,0,0,0]),V=new Uint8Array([0,0,0,0,0,0,0,0]),W=V,z=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),G=V,U=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),a=function box(o){var a,s,u=[],l=0;for(a=1;a<arguments.length;a++)u.push(arguments[a]);for(a=u.length;a--;)l+=u[a].byteLength;for(s=new Uint8Array(l+8),new DataView(s.buffer,s.byteOffset,s.byteLength).setUint32(0,s.byteLength),s.set(o,4),a=0,l=8;a<u.length;a++)s.set(u[a],l),l+=u[a].byteLength;return s},s=function dinf(){return a(O.dinf,a(O.dref,q))},u=function esds(o){return a(O.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,o.audioobjecttype<<3|o.samplingfrequencyindex>>>1,o.samplingfrequencyindex<<7|o.channelcount<<3,6,1,2]))},T=function hdlr(o){return a(O.hdlr,j[o])},b=function mdhd(o){var s=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,o.duration>>>24&255,o.duration>>>16&255,o.duration>>>8&255,255&o.duration,85,196,0,0]);return o.samplerate&&(s[12]=o.samplerate>>>24&255,s[13]=o.samplerate>>>16&255,s[14]=o.samplerate>>>8&255,s[15]=255&o.samplerate),a(O.mdhd,s)},_=function mdia(o){return a(O.mdia,b(o),T(o.type),h(o))},c=function mfhd(o){return a(O.mfhd,new Uint8Array([0,0,0,0,(4278190080&o)>>24,(16711680&o)>>16,(65280&o)>>8,255&o]))},h=function minf(o){return a(O.minf,"video"===o.type?a(O.vmhd,U):a(O.smhd,H),s(),w(o))},f=function moof(o,s){for(var u=[],l=s.length;l--;)u[l]=x(s[l]);return a.apply(null,[O.moof,c(o)].concat(u))},p=function moov(o){for(var s=o.length,u=[];s--;)u[s]=v(o[s]);return a.apply(null,[O.moov,g(4294967295)].concat(u).concat(m(o)))},m=function mvex(o){for(var s=o.length,u=[];s--;)u[s]=P(o[s]);return a.apply(null,[O.mvex].concat(u))},g=function mvhd(o){var s=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&o)>>24,(16711680&o)>>16,(65280&o)>>8,255&o,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return a(O.mvhd,s)},S=function sdtp(o){var s,u,l=o.samples||[],c=new Uint8Array(4+l.length);for(u=0;u<l.length;u++)s=l[u].flags,c[u+4]=s.dependsOn<<4|s.isDependedOn<<2|s.hasRedundancy;return a(O.sdtp,c)},w=function stbl(o){return a(O.stbl,k(o),a(O.stts,G),a(O.stsc,W),a(O.stsz,z),a(O.stco,V))},k=function stsd(o){return a(O.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===o.type?X(o):Y(o))},X=function videoSample(o){var s,u,l=o.sps||[],c=o.pps||[],h=[],f=[];for(s=0;s<l.length;s++)h.push((65280&l[s].byteLength)>>>8),h.push(255&l[s].byteLength),h=h.concat(Array.prototype.slice.call(l[s]));for(s=0;s<c.length;s++)f.push((65280&c[s].byteLength)>>>8),f.push(255&c[s].byteLength),f=f.concat(Array.prototype.slice.call(c[s]));if(u=[O.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&o.width)>>8,255&o.width,(65280&o.height)>>8,255&o.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a(O.avcC,new Uint8Array([1,o.profileIdc,o.profileCompatibility,o.levelIdc,255].concat([l.length],h,[c.length],f))),a(O.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],o.sarRatio){var p=o.sarRatio[0],m=o.sarRatio[1];u.push(a(O.pasp,new Uint8Array([(4278190080&p)>>24,(16711680&p)>>16,(65280&p)>>8,255&p,(4278190080&m)>>24,(16711680&m)>>16,(65280&m)>>8,255&m])))}return a.apply(null,u)},Y=function audioSample(o){return a(O.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&o.channelcount)>>8,255&o.channelcount,(65280&o.samplesize)>>8,255&o.samplesize,0,0,0,0,(65280&o.samplerate)>>8,255&o.samplerate,0,0]),u(o))},y=function tkhd(o){var s=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&o.id)>>24,(16711680&o.id)>>16,(65280&o.id)>>8,255&o.id,0,0,0,0,(4278190080&o.duration)>>24,(16711680&o.duration)>>16,(65280&o.duration)>>8,255&o.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&o.width)>>8,255&o.width,0,0,(65280&o.height)>>8,255&o.height,0,0]);return a(O.tkhd,s)},x=function traf(o){var s,u,l,c,h,f;return s=a(O.tfhd,new Uint8Array([0,0,0,58,(4278190080&o.id)>>24,(16711680&o.id)>>16,(65280&o.id)>>8,255&o.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),h=Math.floor(o.baseMediaDecodeTime/(ee+1)),f=Math.floor(o.baseMediaDecodeTime%(ee+1)),u=a(O.tfdt,new Uint8Array([1,0,0,0,h>>>24&255,h>>>16&255,h>>>8&255,255&h,f>>>24&255,f>>>16&255,f>>>8&255,255&f])),92,"audio"===o.type?(l=I(o,92),a(O.traf,s,u,l)):(c=S(o),l=I(o,c.length+92),a(O.traf,s,u,l,c))},v=function trak(o){return o.duration=o.duration||4294967295,a(O.trak,y(o),_(o))},P=function trex(o){var s=new Uint8Array([0,0,0,0,(4278190080&o.id)>>24,(16711680&o.id)>>16,(65280&o.id)>>8,255&o.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==o.type&&(s[s.length-1]=0),a(O.trex,s)},J=function trunHeader(o,a){var s=0,u=0,l=0,c=0;return o.length&&(void 0!==o[0].duration&&(s=1),void 0!==o[0].size&&(u=2),void 0!==o[0].flags&&(l=4),void 0!==o[0].compositionTimeOffset&&(c=8)),[0,0,s|u|l|c,1,(4278190080&o.length)>>>24,(16711680&o.length)>>>16,(65280&o.length)>>>8,255&o.length,(4278190080&a)>>>24,(16711680&a)>>>16,(65280&a)>>>8,255&a]},Q=function videoTrun(o,s){var u,l,c,h,f,p;for(s+=20+16*(h=o.samples||[]).length,c=J(h,s),(l=new Uint8Array(c.length+16*h.length)).set(c),u=c.length,p=0;p<h.length;p++)f=h[p],l[u++]=(4278190080&f.duration)>>>24,l[u++]=(16711680&f.duration)>>>16,l[u++]=(65280&f.duration)>>>8,l[u++]=255&f.duration,l[u++]=(4278190080&f.size)>>>24,l[u++]=(16711680&f.size)>>>16,l[u++]=(65280&f.size)>>>8,l[u++]=255&f.size,l[u++]=f.flags.isLeading<<2|f.flags.dependsOn,l[u++]=f.flags.isDependedOn<<6|f.flags.hasRedundancy<<4|f.flags.paddingValue<<1|f.flags.isNonSyncSample,l[u++]=61440&f.flags.degradationPriority,l[u++]=15&f.flags.degradationPriority,l[u++]=(4278190080&f.compositionTimeOffset)>>>24,l[u++]=(16711680&f.compositionTimeOffset)>>>16,l[u++]=(65280&f.compositionTimeOffset)>>>8,l[u++]=255&f.compositionTimeOffset;return a(O.trun,l)},K=function audioTrun(o,s){var u,l,c,h,f,p;for(s+=20+8*(h=o.samples||[]).length,c=J(h,s),(u=new Uint8Array(c.length+8*h.length)).set(c),l=c.length,p=0;p<h.length;p++)f=h[p],u[l++]=(4278190080&f.duration)>>>24,u[l++]=(16711680&f.duration)>>>16,u[l++]=(65280&f.duration)>>>8,u[l++]=255&f.duration,u[l++]=(4278190080&f.size)>>>24,u[l++]=(16711680&f.size)>>>16,u[l++]=(65280&f.size)>>>8,u[l++]=255&f.size;return a(O.trun,u)},I=function trun(o,a){return"audio"===o.type?K(o,a):Q(o,a)};l=function ftyp(){return a(O.ftyp,L,M,L,D)};var te,ne,re,ie,oe,ae,se,ue,le=function mdat(o){return a(O.mdat,o)},ce=f,de=function initSegment(o){var a,s=l(),u=p(o);return(a=new Uint8Array(s.byteLength+u.byteLength)).set(s),a.set(u,s.byteLength),a},he=function sampleForFrame(o,a){var s={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return s.dataOffset=a,s.compositionTimeOffset=o.pts-o.dts,s.duration=o.duration,s.size=4*o.length,s.size+=o.byteLength,o.keyFrame&&(s.flags.dependsOn=2,s.flags.isNonSyncSample=0),s},fe=function groupNalsIntoFrames(o){var a,s,u=[],l=[];for(l.byteLength=0,l.nalCount=0,l.duration=0,u.byteLength=0,a=0;a<o.length;a++)"access_unit_delimiter_rbsp"===(s=o[a]).nalUnitType?(u.length&&(u.duration=s.dts-u.dts,l.byteLength+=u.byteLength,l.nalCount+=u.length,l.duration+=u.duration,l.push(u)),(u=[s]).byteLength=s.data.byteLength,u.pts=s.pts,u.dts=s.dts):("slice_layer_without_partitioning_rbsp_idr"===s.nalUnitType&&(u.keyFrame=!0),u.duration=s.dts-u.dts,u.byteLength+=s.data.byteLength,u.push(s));return l.length&&(!u.duration||u.duration<=0)&&(u.duration=l[l.length-1].duration),l.byteLength+=u.byteLength,l.nalCount+=u.length,l.duration+=u.duration,l.push(u),l},pe=function groupFramesIntoGops(o){var a,s,u=[],l=[];for(u.byteLength=0,u.nalCount=0,u.duration=0,u.pts=o[0].pts,u.dts=o[0].dts,l.byteLength=0,l.nalCount=0,l.duration=0,l.pts=o[0].pts,l.dts=o[0].dts,a=0;a<o.length;a++)(s=o[a]).keyFrame?(u.length&&(l.push(u),l.byteLength+=u.byteLength,l.nalCount+=u.nalCount,l.duration+=u.duration),(u=[s]).nalCount=s.length,u.byteLength=s.byteLength,u.pts=s.pts,u.dts=s.dts,u.duration=s.duration):(u.duration+=s.duration,u.nalCount+=s.length,u.byteLength+=s.byteLength,u.push(s));return l.length&&u.duration<=0&&(u.duration=l[l.length-1].duration),l.byteLength+=u.byteLength,l.nalCount+=u.nalCount,l.duration+=u.duration,l.push(u),l},me=function extendFirstKeyFrame(o){var a;return!o[0][0].keyFrame&&o.length>1&&(a=o.shift(),o.byteLength-=a.byteLength,o.nalCount-=a.nalCount,o[0][0].dts=a.dts,o[0][0].pts=a.pts,o[0][0].duration+=a.duration),o},ge=function generateSampleTable(o,a){var s,u,l,c,h,f=a||0,p=[];for(s=0;s<o.length;s++)for(c=o[s],u=0;u<c.length;u++)h=c[u],f+=(l=he(h,f)).size,p.push(l);return p},ve=function concatenateNalData(o){var a,s,u,l,c,h,f=0,p=o.byteLength,m=o.nalCount,g=new Uint8Array(p+4*m),v=new DataView(g.buffer);for(a=0;a<o.length;a++)for(l=o[a],s=0;s<l.length;s++)for(c=l[s],u=0;u<c.length;u++)h=c[u],v.setUint32(f,h.data.byteLength),f+=4,g.set(h.data,f),f+=h.data.byteLength;return g},ye=[33,16,5,32,164,27],_e=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],be=function zeroFill(o){for(var a=[];o--;)a.push(0);return a},Te=function silence_1(){if(!te){var o={96e3:[ye,[227,64],be(154),[56]],88200:[ye,[231],be(170),[56]],64e3:[ye,[248,192],be(240),[56]],48e3:[ye,[255,192],be(268),[55,148,128],be(54),[112]],44100:[ye,[255,192],be(268),[55,163,128],be(84),[112]],32e3:[ye,[255,192],be(268),[55,234],be(226),[112]],24e3:[ye,[255,192],be(268),[55,255,128],be(268),[111,112],be(126),[224]],16e3:[ye,[255,192],be(268),[55,255,128],be(268),[111,255],be(269),[223,108],be(195),[1,192]],12e3:[_e,be(268),[3,127,248],be(268),[6,255,240],be(268),[13,255,224],be(268),[27,253,128],be(259),[56]],11025:[_e,be(268),[3,127,248],be(268),[6,255,240],be(268),[13,255,224],be(268),[27,255,192],be(268),[55,175,128],be(108),[112]],8e3:[_e,be(268),[3,121,16],be(47),[7]]};te=function makeTable(o){return Object.keys(o).reduce((function(a,s){return a[s]=new Uint8Array(o[s].reduce((function(o,a){return o.concat(a)}),[])),a}),{})}(o)}return te},Se=9e4;ae=function audioTsToVideoTs(o,a){return ne(oe(o,a))},se=function videoTsToAudioTs(o,a){return re(ie(o),a)},ue=function metadataTsToSeconds(o,a,s){return ie(s?o:o-a)};var we=Se,Ee=ne=function secondsToVideoTs(o){return o*Se},ke=(re=function secondsToAudioTs(o,a){return o*a},ie=function videoTsToSeconds(o){return o/Se}),Ce=(oe=function audioTsToSeconds(o,a){return o/a},ae),xe=se,Pe=ue,Ae=function prefixWithSilence(o,a,s,u){var l,c,h,f,p,m=0,g=0,v=0;if(a.length&&(l=Ce(o.baseMediaDecodeTime,o.samplerate),c=Math.ceil(we/(o.samplerate/1024)),s&&u&&(m=l-Math.max(s,u),v=(g=Math.floor(m/c))*c),!(g<1||v>we/2))){for((h=Te()[o.samplerate])||(h=a[0].data),f=0;f<g;f++)p=a[0],a.splice(0,0,{data:h,dts:p.dts-c,pts:p.pts-c});return o.baseMediaDecodeTime-=Math.floor(xe(v,o.samplerate)),v}},Ie=function trimAdtsFramesByEarliestDts(o,a,s){return a.minSegmentDts>=s?o:(a.minSegmentDts=1/0,o.filter((function(o){return o.dts>=s&&(a.minSegmentDts=Math.min(a.minSegmentDts,o.dts),a.minSegmentPts=a.minSegmentDts,!0)})))},Oe=function generateSampleTable(o){var a,s,u=[];for(a=0;a<o.length;a++)s=o[a],u.push({size:s.data.byteLength,duration:1024});return u},Le=function concatenateFrameData(o){var a,s,u=0,l=new Uint8Array(function sumFrameByteLengths(o){var a,s=0;for(a=0;a<o.length;a++)s+=o[a].data.byteLength;return s}(o));for(a=0;a<o.length;a++)s=o[a],l.set(s.data,u),u+=s.data.byteLength;return l},Me=we,De=function clearDtsInfo(o){delete o.minSegmentDts,delete o.maxSegmentDts,delete o.minSegmentPts,delete o.maxSegmentPts},Re=function calculateTrackBaseMediaDecodeTime(o,a){var s,u=o.minSegmentDts;return a||(u-=o.timelineStartInfo.dts),s=o.timelineStartInfo.baseMediaDecodeTime,s+=u,s=Math.max(0,s),"audio"===o.type&&(s*=o.samplerate/Me,s=Math.floor(s)),s},Ne=function collectDtsInfo(o,a){"number"==typeof a.pts&&(void 0===o.timelineStartInfo.pts&&(o.timelineStartInfo.pts=a.pts),void 0===o.minSegmentPts?o.minSegmentPts=a.pts:o.minSegmentPts=Math.min(o.minSegmentPts,a.pts),void 0===o.maxSegmentPts?o.maxSegmentPts=a.pts:o.maxSegmentPts=Math.max(o.maxSegmentPts,a.pts)),"number"==typeof a.dts&&(void 0===o.timelineStartInfo.dts&&(o.timelineStartInfo.dts=a.dts),void 0===o.minSegmentDts?o.minSegmentDts=a.dts:o.minSegmentDts=Math.min(o.minSegmentDts,a.dts),void 0===o.maxSegmentDts?o.maxSegmentDts=a.dts:o.maxSegmentDts=Math.max(o.maxSegmentDts,a.dts))},Be=function parseSei(o){for(var a=0,s={payloadType:-1,payloadSize:0},u=0,l=0;a<o.byteLength&&128!==o[a];){for(;255===o[a];)u+=255,a++;for(u+=o[a++];255===o[a];)l+=255,a++;if(l+=o[a++],!s.payload&&4===u){if("GA94"===String.fromCharCode(o[a+3],o[a+4],o[a+5],o[a+6])){s.payloadType=u,s.payloadSize=l,s.payload=o.subarray(a,a+l);break}s.payload=void 0}a+=l,u=0,l=0}return s},Fe=function parseUserData(o){return 181!==o.payload[0]||49!=(o.payload[1]<<8|o.payload[2])||"GA94"!==String.fromCharCode(o.payload[3],o.payload[4],o.payload[5],o.payload[6])||3!==o.payload[7]?null:o.payload.subarray(8,o.payload.length-1)},je=function parseCaptionPackets(o,a){var s,u,l,c,h=[];if(!(64&a[0]))return h;for(u=31&a[0],s=0;s<u;s++)c={type:3&a[(l=3*s)+2],pts:o},4&a[l+2]&&(c.ccData=a[l+3]<<8|a[l+4],h.push(c));return h},Ue=function discardEmulationPreventionBytes(o){for(var a,s,u=o.byteLength,l=[],c=1;c<u-2;)0===o[c]&&0===o[c+1]&&3===o[c+2]?(l.push(c+2),c+=2):c++;if(0===l.length)return o;a=u-l.length,s=new Uint8Array(a);var h=0;for(c=0;c<a;h++,c++)h===l[0]&&(h++,l.shift()),s[c]=o[h];return s},He=4,qe=function CaptionStream(o){o=o||{},CaptionStream.prototype.init.call(this),this.parse708captions_="boolean"!=typeof o.parse708captions||o.parse708captions,this.captionPackets_=[],this.ccStreams_=[new Je(0,0),new Je(0,1),new Je(1,0),new Je(1,1)],this.parse708captions_&&(this.cc708Stream_=new Xe),this.reset(),this.ccStreams_.forEach((function(o){o.on("data",this.trigger.bind(this,"data")),o.on("partialdone",this.trigger.bind(this,"partialdone")),o.on("done",this.trigger.bind(this,"done"))}),this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};(qe.prototype=new Z).push=function(o){var a,s,u;if("sei_rbsp"===o.nalUnitType&&(a=Be(o.escapedRBSP)).payload&&a.payloadType===He&&(s=Fe(a)))if(o.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(o.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));u=je(o.pts,s),this.captionPackets_=this.captionPackets_.concat(u),this.latestDts_!==o.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=o.dts}},qe.prototype.flushCCStreams=function(o){this.ccStreams_.forEach((function(a){return"flush"===o?a.flush():a.partialFlush()}),this)},qe.prototype.flushStream=function(o){this.captionPackets_.length?(this.captionPackets_.forEach((function(o,a){o.presortIndex=a})),this.captionPackets_.sort((function(o,a){return o.pts===a.pts?o.presortIndex-a.presortIndex:o.pts-a.pts})),this.captionPackets_.forEach((function(o){o.type<2?this.dispatchCea608Packet(o):this.dispatchCea708Packet(o)}),this),this.captionPackets_.length=0,this.flushCCStreams(o)):this.flushCCStreams(o)},qe.prototype.flush=function(){return this.flushStream("flush")},qe.prototype.partialFlush=function(){return this.flushStream("partialFlush")},qe.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach((function(o){o.reset()}))},qe.prototype.dispatchCea608Packet=function(o){this.setsTextOrXDSActive(o)?this.activeCea608Channel_[o.type]=null:this.setsChannel1Active(o)?this.activeCea608Channel_[o.type]=0:this.setsChannel2Active(o)&&(this.activeCea608Channel_[o.type]=1),null!==this.activeCea608Channel_[o.type]&&this.ccStreams_[(o.type<<1)+this.activeCea608Channel_[o.type]].push(o)},qe.prototype.setsChannel1Active=function(o){return 4096==(30720&o.ccData)},qe.prototype.setsChannel2Active=function(o){return 6144==(30720&o.ccData)},qe.prototype.setsTextOrXDSActive=function(o){return 256==(28928&o.ccData)||4138==(30974&o.ccData)||6186==(30974&o.ccData)},qe.prototype.dispatchCea708Packet=function(o){this.parse708captions_&&this.cc708Stream_.push(o)};var Ve={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},We=function within708TextBlock(o){return 32<=o&&o<=127||160<=o&&o<=255},ze=function Cea708Window(o){this.windowNum=o,this.reset()};ze.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},ze.prototype.getText=function(){return this.rows.join("\n")},ze.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},ze.prototype.newLine=function(o){for(this.rows.length>=this.virtualRowCount&&"function"==typeof this.beforeRowOverflow&&this.beforeRowOverflow(o),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},ze.prototype.isEmpty=function(){return 0===this.rows.length||1===this.rows.length&&""===this.rows[0]},ze.prototype.addText=function(o){this.rows[this.rowIdx]+=o},ze.prototype.backspace=function(){if(!this.isEmpty()){var o=this.rows[this.rowIdx];this.rows[this.rowIdx]=o.substr(0,o.length-1)}};var Ge=function Cea708Service(o){this.serviceNum=o,this.text="",this.currentWindow=new ze(-1),this.windows=[]};Ge.prototype.init=function(o,a){this.startPts=o;for(var s=0;s<8;s++)this.windows[s]=new ze(s),"function"==typeof a&&(this.windows[s].beforeRowOverflow=a)},Ge.prototype.setCurrentWindow=function(o){this.currentWindow=this.windows[o]};var Xe=function Cea708Stream(){Cea708Stream.prototype.init.call(this);var o=this;this.current708Packet=null,this.services={},this.push=function(a){3===a.type?(o.new708Packet(),o.add708Bytes(a)):(null===o.current708Packet&&o.new708Packet(),o.add708Bytes(a))}};Xe.prototype=new Z,Xe.prototype.new708Packet=function(){null!==this.current708Packet&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Xe.prototype.add708Bytes=function(o){var a=o.ccData,s=a>>>8,u=255&a;this.current708Packet.ptsVals.push(o.pts),this.current708Packet.data.push(s),this.current708Packet.data.push(u)},Xe.prototype.push708Packet=function(){var o=this.current708Packet,a=o.data,s=null,u=null,l=0,c=a[l++];for(o.seq=c>>6,o.sizeCode=63&c;l<a.length;l++)u=31&(c=a[l++]),7===(s=c>>5)&&u>0&&(s=c=a[l++]),this.pushServiceBlock(s,l,u),u>0&&(l+=u-1)},Xe.prototype.pushServiceBlock=function(o,a,s){var u,l=a,c=this.current708Packet.data,h=this.services[o];for(h||(h=this.initService(o,l));l<a+s&&l<c.length;l++)u=c[l],We(u)?l=this.handleText(l,h):16===u?l=this.extendedCommands(l,h):128<=u&&u<=135?l=this.setCurrentWindow(l,h):152<=u&&u<=159?l=this.defineWindow(l,h):136===u?l=this.clearWindows(l,h):140===u?l=this.deleteWindows(l,h):137===u?l=this.displayWindows(l,h):138===u?l=this.hideWindows(l,h):139===u?l=this.toggleWindows(l,h):151===u?l=this.setWindowAttributes(l,h):144===u?l=this.setPenAttributes(l,h):145===u?l=this.setPenColor(l,h):146===u?l=this.setPenLocation(l,h):143===u?h=this.reset(l,h):8===u?h.currentWindow.backspace():12===u?h.currentWindow.clearText():13===u?h.currentWindow.pendingNewLine=!0:14===u?h.currentWindow.clearText():141===u&&l++},Xe.prototype.extendedCommands=function(o,a){var s=this.current708Packet.data[++o];return We(s)&&(o=this.handleText(o,a,!0)),o},Xe.prototype.getPts=function(o){return this.current708Packet.ptsVals[Math.floor(o/2)]},Xe.prototype.initService=function(o,a){var s=this;return this.services[o]=new Ge(o),this.services[o].init(this.getPts(a),(function(a){s.flushDisplayed(a,s.services[o])})),this.services[o]},Xe.prototype.handleText=function(o,a,s){var u=function get708CharFromCode(o){var a=Ve[o]||o;return 4096&o&&o===a?"":String.fromCharCode(a)}((s?4096:0)|this.current708Packet.data[o]),l=a.currentWindow;return l.pendingNewLine&&!l.isEmpty()&&l.newLine(this.getPts(o)),l.pendingNewLine=!1,l.addText(u),o},Xe.prototype.setCurrentWindow=function(o,a){var s=7&this.current708Packet.data[o];return a.setCurrentWindow(s),o},Xe.prototype.defineWindow=function(o,a){var s=this.current708Packet.data,u=s[o],l=7&u;a.setCurrentWindow(l);var c=a.currentWindow;return u=s[++o],c.visible=(32&u)>>5,c.rowLock=(16&u)>>4,c.columnLock=(8&u)>>3,c.priority=7&u,u=s[++o],c.relativePositioning=(128&u)>>7,c.anchorVertical=127&u,u=s[++o],c.anchorHorizontal=u,u=s[++o],c.anchorPoint=(240&u)>>4,c.rowCount=15&u,u=s[++o],c.columnCount=63&u,u=s[++o],c.windowStyle=(56&u)>>3,c.penStyle=7&u,c.virtualRowCount=c.rowCount+1,o},Xe.prototype.setWindowAttributes=function(o,a){var s=this.current708Packet.data,u=s[o],l=a.currentWindow.winAttr;return u=s[++o],l.fillOpacity=(192&u)>>6,l.fillRed=(48&u)>>4,l.fillGreen=(12&u)>>2,l.fillBlue=3&u,u=s[++o],l.borderType=(192&u)>>6,l.borderRed=(48&u)>>4,l.borderGreen=(12&u)>>2,l.borderBlue=3&u,u=s[++o],l.borderType+=(128&u)>>5,l.wordWrap=(64&u)>>6,l.printDirection=(48&u)>>4,l.scrollDirection=(12&u)>>2,l.justify=3&u,u=s[++o],l.effectSpeed=(240&u)>>4,l.effectDirection=(12&u)>>2,l.displayEffect=3&u,o},Xe.prototype.flushDisplayed=function(o,a){for(var s=[],u=0;u<8;u++)a.windows[u].visible&&!a.windows[u].isEmpty()&&s.push(a.windows[u].getText());a.endPts=o,a.text=s.join("\n\n"),this.pushCaption(a),a.startPts=o},Xe.prototype.pushCaption=function(o){""!==o.text&&(this.trigger("data",{startPts:o.startPts,endPts:o.endPts,text:o.text,stream:"cc708_"+o.serviceNum}),o.text="",o.startPts=o.endPts)},Xe.prototype.displayWindows=function(o,a){var s=this.current708Packet.data[++o],u=this.getPts(o);this.flushDisplayed(u,a);for(var l=0;l<8;l++)s&1<<l&&(a.windows[l].visible=1);return o},Xe.prototype.hideWindows=function(o,a){var s=this.current708Packet.data[++o],u=this.getPts(o);this.flushDisplayed(u,a);for(var l=0;l<8;l++)s&1<<l&&(a.windows[l].visible=0);return o},Xe.prototype.toggleWindows=function(o,a){var s=this.current708Packet.data[++o],u=this.getPts(o);this.flushDisplayed(u,a);for(var l=0;l<8;l++)s&1<<l&&(a.windows[l].visible^=1);return o},Xe.prototype.clearWindows=function(o,a){var s=this.current708Packet.data[++o],u=this.getPts(o);this.flushDisplayed(u,a);for(var l=0;l<8;l++)s&1<<l&&a.windows[l].clearText();return o},Xe.prototype.deleteWindows=function(o,a){var s=this.current708Packet.data[++o],u=this.getPts(o);this.flushDisplayed(u,a);for(var l=0;l<8;l++)s&1<<l&&a.windows[l].reset();return o},Xe.prototype.setPenAttributes=function(o,a){var s=this.current708Packet.data,u=s[o],l=a.currentWindow.penAttr;return u=s[++o],l.textTag=(240&u)>>4,l.offset=(12&u)>>2,l.penSize=3&u,u=s[++o],l.italics=(128&u)>>7,l.underline=(64&u)>>6,l.edgeType=(56&u)>>3,l.fontStyle=7&u,o},Xe.prototype.setPenColor=function(o,a){var s=this.current708Packet.data,u=s[o],l=a.currentWindow.penColor;return u=s[++o],l.fgOpacity=(192&u)>>6,l.fgRed=(48&u)>>4,l.fgGreen=(12&u)>>2,l.fgBlue=3&u,u=s[++o],l.bgOpacity=(192&u)>>6,l.bgRed=(48&u)>>4,l.bgGreen=(12&u)>>2,l.bgBlue=3&u,u=s[++o],l.edgeRed=(48&u)>>4,l.edgeGreen=(12&u)>>2,l.edgeBlue=3&u,o},Xe.prototype.setPenLocation=function(o,a){var s=this.current708Packet.data,u=s[o],l=a.currentWindow.penLoc;return a.currentWindow.pendingNewLine=!0,u=s[++o],l.row=15&u,u=s[++o],l.column=63&u,o},Xe.prototype.reset=function(o,a){var s=this.getPts(o);return this.flushDisplayed(s,a),this.initService(a.serviceNum,o)};var Ye={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},$e=function getCharFromCode(o){return null===o?"":(o=Ye[o]||o,String.fromCharCode(o))},Ke=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Qe=function createDisplayBuffer(){for(var o=[],a=15;a--;)o.push("");return o},Je=function Cea608Stream(o,a){Cea608Stream.prototype.init.call(this),this.field_=o||0,this.dataChannel_=a||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(o){var a,s,u,l,c;if((a=32639&o.ccData)!==this.lastControlCode_){if(4096==(61440&a)?this.lastControlCode_=a:a!==this.PADDING_&&(this.lastControlCode_=null),u=a>>>8,l=255&a,a!==this.PADDING_)if(a===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(a===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(o.pts),this.flushDisplayed(o.pts),s=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=s,this.startPts_=o.pts;else if(a===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(o.pts);else if(a===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(o.pts);else if(a===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(o.pts);else if(a===this.CARRIAGE_RETURN_)this.clearFormatting(o.pts),this.flushDisplayed(o.pts),this.shiftRowsUp_(),this.startPts_=o.pts;else if(a===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(a===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(o.pts),this.displayed_=Qe();else if(a===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Qe();else if(a===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(o.pts),this.displayed_=Qe()),this.mode_="paintOn",this.startPts_=o.pts;else if(this.isSpecialCharacter(u,l))c=$e((u=(3&u)<<8)|l),this[this.mode_](o.pts,c),this.column_++;else if(this.isExtCharacter(u,l))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),c=$e((u=(3&u)<<8)|l),this[this.mode_](o.pts,c),this.column_++;else if(this.isMidRowCode(u,l))this.clearFormatting(o.pts),this[this.mode_](o.pts," "),this.column_++,14==(14&l)&&this.addFormatting(o.pts,["i"]),1==(1&l)&&this.addFormatting(o.pts,["u"]);else if(this.isOffsetControlCode(u,l))this.column_+=3&l;else if(this.isPAC(u,l)){var h=Ke.indexOf(7968&a);"rollUp"===this.mode_&&(h-this.rollUpRows_+1<0&&(h=this.rollUpRows_-1),this.setRollUp(o.pts,h)),h!==this.row_&&(this.clearFormatting(o.pts),this.row_=h),1&l&&-1===this.formatting_.indexOf("u")&&this.addFormatting(o.pts,["u"]),16==(16&a)&&(this.column_=4*((14&a)>>1)),this.isColorPAC(l)&&14==(14&l)&&this.addFormatting(o.pts,["i"])}else this.isNormalChar(u)&&(0===l&&(l=null),c=$e(u),c+=$e(l),this[this.mode_](o.pts,c),this.column_+=c.length)}else this.lastControlCode_=null}};Je.prototype=new Z,Je.prototype.flushDisplayed=function(o){var a=this.displayed_.map((function(o,a){try{return o.trim()}catch(o){return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+a+"."}),""}}),this).join("\n").replace(/^\n+|\n+$/g,"");a.length&&this.trigger("data",{startPts:this.startPts_,endPts:o,text:a,stream:this.name_})},Je.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Qe(),this.nonDisplayed_=Qe(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},Je.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Je.prototype.isSpecialCharacter=function(o,a){return o===this.EXT_&&a>=48&&a<=63},Je.prototype.isExtCharacter=function(o,a){return(o===this.EXT_+1||o===this.EXT_+2)&&a>=32&&a<=63},Je.prototype.isMidRowCode=function(o,a){return o===this.EXT_&&a>=32&&a<=47},Je.prototype.isOffsetControlCode=function(o,a){return o===this.OFFSET_&&a>=33&&a<=35},Je.prototype.isPAC=function(o,a){return o>=this.BASE_&&o<this.BASE_+8&&a>=64&&a<=127},Je.prototype.isColorPAC=function(o){return o>=64&&o<=79||o>=96&&o<=127},Je.prototype.isNormalChar=function(o){return o>=32&&o<=127},Je.prototype.setRollUp=function(o,a){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(o),this.nonDisplayed_=Qe(),this.displayed_=Qe()),void 0!==a&&a!==this.row_)for(var s=0;s<this.rollUpRows_;s++)this.displayed_[a-s]=this.displayed_[this.row_-s],this.displayed_[this.row_-s]="";void 0===a&&(a=this.row_),this.topRow_=a-this.rollUpRows_+1},Je.prototype.addFormatting=function(o,a){this.formatting_=this.formatting_.concat(a);var s=a.reduce((function(o,a){return o+"<"+a+">"}),"");this[this.mode_](o,s)},Je.prototype.clearFormatting=function(o){if(this.formatting_.length){var a=this.formatting_.reverse().reduce((function(o,a){return o+"</"+a+">"}),"");this.formatting_=[],this[this.mode_](o,a)}},Je.prototype.popOn=function(o,a){var s=this.nonDisplayed_[this.row_];s+=a,this.nonDisplayed_[this.row_]=s},Je.prototype.rollUp=function(o,a){var s=this.displayed_[this.row_];s+=a,this.displayed_[this.row_]=s},Je.prototype.shiftRowsUp_=function(){var o;for(o=0;o<this.topRow_;o++)this.displayed_[o]="";for(o=this.row_+1;o<15;o++)this.displayed_[o]="";for(o=this.topRow_;o<this.row_;o++)this.displayed_[o]=this.displayed_[o+1];this.displayed_[this.row_]=""},Je.prototype.paintOn=function(o,a){var s=this.displayed_[this.row_];s+=a,this.displayed_[this.row_]=s};var Ze={CaptionStream:qe,Cea608Stream:Je,Cea708Stream:Xe},et={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},tt="shared",nt=function handleRollover(o,a){var s=1;for(o>a&&(s=-1);Math.abs(a-o)>4294967296;)o+=8589934592*s;return o},rt=function TimestampRolloverStream(o){var a,s;TimestampRolloverStream.prototype.init.call(this),this.type_=o||tt,this.push=function(o){this.type_!==tt&&o.type!==this.type_||(void 0===s&&(s=o.dts),o.dts=nt(o.dts,s),o.pts=nt(o.pts,s),a=o.dts,this.trigger("data",o))},this.flush=function(){s=a,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){s=void 0,a=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};rt.prototype=new Z;var it,ot=rt,st=nt,ut=function percentEncode(o,a,s){var u,l="";for(u=a;u<s;u++)l+="%"+("00"+o[u].toString(16)).slice(-2);return l},lt=function parseUtf8(o,a,s){return decodeURIComponent(ut(o,a,s))},ct=function parseIso88591(o,a,s){return unescape(ut(o,a,s))},dt=function parseSyncSafeInteger(o){return o[0]<<21|o[1]<<14|o[2]<<7|o[3]},ht={TXXX:function TXXX(o){var a;if(3===o.data[0]){for(a=1;a<o.data.length;a++)if(0===o.data[a]){o.description=lt(o.data,1,a),o.value=lt(o.data,a+1,o.data.length).replace(/\0*$/,"");break}o.data=o.value}},WXXX:function WXXX(o){var a;if(3===o.data[0])for(a=1;a<o.data.length;a++)if(0===o.data[a]){o.description=lt(o.data,1,a),o.url=lt(o.data,a+1,o.data.length);break}},PRIV:function PRIV(o){var a;for(a=0;a<o.data.length;a++)if(0===o.data[a]){o.owner=ct(o.data,0,a);break}o.privateData=o.data.subarray(a+1),o.data=o.privateData}};(it=function MetadataStream(o){var a,s={descriptor:o&&o.descriptor},u=0,l=[],c=0;if(it.prototype.init.call(this),this.dispatchType=et.METADATA_STREAM_TYPE.toString(16),s.descriptor)for(a=0;a<s.descriptor.length;a++)this.dispatchType+=("00"+s.descriptor[a].toString(16)).slice(-2);this.push=function(o){var a,s,h,f,p;if("timed-metadata"===o.type)if(o.dataAlignmentIndicator&&(c=0,l.length=0),0===l.length&&(o.data.length<10||o.data[0]!=="I".charCodeAt(0)||o.data[1]!=="D".charCodeAt(0)||o.data[2]!=="3".charCodeAt(0)))this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});else if(l.push(o),c+=o.data.byteLength,1===l.length&&(u=dt(o.data.subarray(6,10)),u+=10),!(c<u)){for(a={data:new Uint8Array(u),frames:[],pts:l[0].pts,dts:l[0].dts},p=0;p<u;)a.data.set(l[0].data.subarray(0,u-p),p),p+=l[0].data.byteLength,c-=l[0].data.byteLength,l.shift();s=10,64&a.data[5]&&(s+=4,s+=dt(a.data.subarray(10,14)),u-=dt(a.data.subarray(16,20)));do{if((h=dt(a.data.subarray(s+4,s+8)))<1)return void this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."});if((f={id:String.fromCharCode(a.data[s],a.data[s+1],a.data[s+2],a.data[s+3]),data:a.data.subarray(s+10,s+h+10)}).key=f.id,ht[f.id]&&(ht[f.id](f),"com.apple.streaming.transportStreamTimestamp"===f.owner)){var m=f.data,g=(1&m[3])<<30|m[4]<<22|m[5]<<14|m[6]<<6|m[7]>>>2;g*=4,g+=3&m[7],f.timeStamp=g,void 0===a.pts&&void 0===a.dts&&(a.pts=f.timeStamp,a.dts=f.timeStamp),this.trigger("timestamp",f)}a.frames.push(f),s+=10,s+=h}while(s<u);this.trigger("data",a)}}}).prototype=new Z;var ft,pt,mt,gt=it,vt=ot,yt=188;(ft=function TransportPacketStream(){var o=new Uint8Array(yt),a=0;ft.prototype.init.call(this),this.push=function(s){var u,l=0,c=yt;for(a?((u=new Uint8Array(s.byteLength+a)).set(o.subarray(0,a)),u.set(s,a),a=0):u=s;c<u.byteLength;)71!==u[l]||71!==u[c]?(l++,c++):(this.trigger("data",u.subarray(l,c)),l+=yt,c+=yt);l<u.byteLength&&(o.set(u.subarray(l),0),a=u.byteLength-l)},this.flush=function(){a===yt&&71===o[0]&&(this.trigger("data",o),a=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){a=0,this.trigger("reset")}}).prototype=new Z,(pt=function TransportParseStream(){var o,a,s,u;pt.prototype.init.call(this),u=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,o=function parsePsi(o,u){var l=0;u.payloadUnitStartIndicator&&(l+=o[l]+1),"pat"===u.type?a(o.subarray(l),u):s(o.subarray(l),u)},a=function parsePat(o,a){a.section_number=o[7],a.last_section_number=o[8],u.pmtPid=(31&o[10])<<8|o[11],a.pmtPid=u.pmtPid},s=function parsePmt(o,a){var s,l;if(1&o[5]){for(u.programMapTable={video:null,audio:null,"timed-metadata":{}},s=3+((15&o[1])<<8|o[2])-4,l=12+((15&o[10])<<8|o[11]);l<s;){var c=o[l],h=(31&o[l+1])<<8|o[l+2];c===et.H264_STREAM_TYPE&&null===u.programMapTable.video?u.programMapTable.video=h:c===et.ADTS_STREAM_TYPE&&null===u.programMapTable.audio?u.programMapTable.audio=h:c===et.METADATA_STREAM_TYPE&&(u.programMapTable["timed-metadata"][h]=c),l+=5+((15&o[l+3])<<8|o[l+4])}a.programMapTable=u.programMapTable}},this.push=function(a){var s={},u=4;if(s.payloadUnitStartIndicator=!!(64&a[1]),s.pid=31&a[1],s.pid<<=8,s.pid|=a[2],(48&a[3])>>>4>1&&(u+=a[u]+1),0===s.pid)s.type="pat",o(a.subarray(u),s),this.trigger("data",s);else if(s.pid===this.pmtPid)for(s.type="pmt",o(a.subarray(u),s),this.trigger("data",s);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([a,u,s]):this.processPes_(a,u,s)},this.processPes_=function(o,a,s){s.pid===this.programMapTable.video?s.streamType=et.H264_STREAM_TYPE:s.pid===this.programMapTable.audio?s.streamType=et.ADTS_STREAM_TYPE:s.streamType=this.programMapTable["timed-metadata"][s.pid],s.type="pes",s.data=o.subarray(a),this.trigger("data",s)}}).prototype=new Z,pt.STREAM_TYPES={h264:27,adts:15},(mt=function ElementaryStream(){var o,a=this,s=!1,u={data:[],size:0},l={data:[],size:0},c={data:[],size:0},h=function flushStream(o,s,u){var l,c,h=new Uint8Array(o.size),f={type:s},p=0,m=0;if(o.data.length&&!(o.size<9)){for(f.trackId=o.data[0].pid,p=0;p<o.data.length;p++)c=o.data[p],h.set(c.data,m),m+=c.data.byteLength;!function parsePes(o,a){var s,u=o[0]<<16|o[1]<<8|o[2];a.data=new Uint8Array,1===u&&(a.packetLength=6+(o[4]<<8|o[5]),a.dataAlignmentIndicator=0!=(4&o[6]),192&(s=o[7])&&(a.pts=(14&o[9])<<27|(255&o[10])<<20|(254&o[11])<<12|(255&o[12])<<5|(254&o[13])>>>3,a.pts*=4,a.pts+=(6&o[13])>>>1,a.dts=a.pts,64&s&&(a.dts=(14&o[14])<<27|(255&o[15])<<20|(254&o[16])<<12|(255&o[17])<<5|(254&o[18])>>>3,a.dts*=4,a.dts+=(6&o[18])>>>1)),a.data=o.subarray(9+o[8]))}(h,f),l="video"===s||f.packetLength<=o.size,(u||l)&&(o.size=0,o.data.length=0),l&&a.trigger("data",f)}};mt.prototype.init.call(this),this.push=function(f){({pat:function pat(){},pes:function pes(){var o,a;switch(f.streamType){case et.H264_STREAM_TYPE:o=u,a="video";break;case et.ADTS_STREAM_TYPE:o=l,a="audio";break;case et.METADATA_STREAM_TYPE:o=c,a="timed-metadata";break;default:return}f.payloadUnitStartIndicator&&h(o,a,!0),o.data.push(f),o.size+=f.data.byteLength},pmt:function pmt(){var u={type:"metadata",tracks:[]};null!==(o=f.programMapTable).video&&u.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+o.video,codec:"avc",type:"video"}),null!==o.audio&&u.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+o.audio,codec:"adts",type:"audio"}),s=!0,a.trigger("data",u)}})[f.type]()},this.reset=function(){u.size=0,u.data.length=0,l.size=0,l.data.length=0,this.trigger("reset")},this.flushStreams_=function(){h(u,"video"),h(l,"audio"),h(c,"timed-metadata")},this.flush=function(){if(!s&&o){var u={type:"metadata",tracks:[]};null!==o.video&&u.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+o.video,codec:"avc",type:"video"}),null!==o.audio&&u.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+o.audio,codec:"adts",type:"audio"}),a.trigger("data",u)}s=!1,this.flushStreams_(),this.trigger("done")}}).prototype=new Z;var _t={PAT_PID:0,MP2T_PACKET_LENGTH:yt,TransportPacketStream:ft,TransportParseStream:pt,ElementaryStream:mt,TimestampRolloverStream:vt,CaptionStream:Ze.CaptionStream,Cea608Stream:Ze.Cea608Stream,Cea708Stream:Ze.Cea708Stream,MetadataStream:gt};for(var bt in et)et.hasOwnProperty(bt)&&(_t[bt]=et[bt]);var Tt,St=_t,wt=we,Et=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(Tt=function AdtsStream(o){var a,s=0;Tt.prototype.init.call(this),this.skipWarn_=function(o,a){this.trigger("log",{level:"warn",message:"adts skiping bytes "+o+" to "+a+" in frame "+s+" outside syncword"})},this.push=function(u){var l,c,h,f,p,m=0;if(o||(s=0),"audio"===u.type){var g;for(a&&a.length?(h=a,(a=new Uint8Array(h.byteLength+u.data.byteLength)).set(h),a.set(u.data,h.byteLength)):a=u.data;m+7<a.length;)if(255===a[m]&&240==(246&a[m+1])){if("number"==typeof g&&(this.skipWarn_(g,m),g=null),c=2*(1&~a[m+1]),l=(3&a[m+3])<<11|a[m+4]<<3|(224&a[m+5])>>5,p=(f=1024*(1+(3&a[m+6])))*wt/Et[(60&a[m+2])>>>2],a.byteLength-m<l)break;this.trigger("data",{pts:u.pts+s*p,dts:u.dts+s*p,sampleCount:f,audioobjecttype:1+(a[m+2]>>>6&3),channelcount:(1&a[m+2])<<2|(192&a[m+3])>>>6,samplerate:Et[(60&a[m+2])>>>2],samplingfrequencyindex:(60&a[m+2])>>>2,samplesize:16,data:a.subarray(m+7+c,m+l)}),s++,m+=l}else"number"!=typeof g&&(g=m),m++;"number"==typeof g&&(this.skipWarn_(g,m),g=null),a=a.subarray(m)}},this.flush=function(){s=0,this.trigger("done")},this.reset=function(){a=void 0,this.trigger("reset")},this.endTimeline=function(){a=void 0,this.trigger("endedtimeline")}}).prototype=new Z;var kt,Ct,xt,Pt=Tt,At=function ExpGolomb(o){var a=o.byteLength,s=0,u=0;this.length=function(){return 8*a},this.bitsAvailable=function(){return 8*a+u},this.loadWord=function(){var l=o.byteLength-a,c=new Uint8Array(4),h=Math.min(4,a);if(0===h)throw new Error("no bytes available");c.set(o.subarray(l,l+h)),s=new DataView(c.buffer).getUint32(0),u=8*h,a-=h},this.skipBits=function(o){var l;u>o?(s<<=o,u-=o):(o-=u,o-=8*(l=Math.floor(o/8)),a-=l,this.loadWord(),s<<=o,u-=o)},this.readBits=function(o){var l=Math.min(u,o),c=s>>>32-l;return(u-=l)>0?s<<=l:a>0&&this.loadWord(),(l=o-l)>0?c<<l|this.readBits(l):c},this.skipLeadingZeros=function(){var o;for(o=0;o<u;++o)if(0!=(s&2147483648>>>o))return s<<=o,u-=o,o;return this.loadWord(),o+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var o=this.skipLeadingZeros();return this.readBits(o+1)-1},this.readExpGolomb=function(){var o=this.readUnsignedExpGolomb();return 1&o?1+o>>>1:-1*(o>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};(Ct=function NalByteStream(){var o,a,s=0;Ct.prototype.init.call(this),this.push=function(u){var l;a?((l=new Uint8Array(a.byteLength+u.data.byteLength)).set(a),l.set(u.data,a.byteLength),a=l):a=u.data;for(var c=a.byteLength;s<c-3;s++)if(1===a[s+2]){o=s+5;break}for(;o<c;)switch(a[o]){case 0:if(0!==a[o-1]){o+=2;break}if(0!==a[o-2]){o++;break}s+3!==o-2&&this.trigger("data",a.subarray(s+3,o-2));do{o++}while(1!==a[o]&&o<c);s=o-2,o+=3;break;case 1:if(0!==a[o-1]||0!==a[o-2]){o+=3;break}this.trigger("data",a.subarray(s+3,o-2)),s=o-2,o+=3;break;default:o+=3}a=a.subarray(s),o-=s,s=0},this.reset=function(){a=null,s=0,this.trigger("reset")},this.flush=function(){a&&a.byteLength>3&&this.trigger("data",a.subarray(s+3)),a=null,s=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}}).prototype=new Z,xt={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(kt=function H264Stream(){var o,a,s,u,l,c,h,f=new Ct;kt.prototype.init.call(this),o=this,this.push=function(o){"video"===o.type&&(a=o.trackId,s=o.pts,u=o.dts,f.push(o))},f.on("data",(function(h){var f={trackId:a,pts:s,dts:u,data:h,nalUnitTypeCode:31&h[0]};switch(f.nalUnitTypeCode){case 5:f.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:f.nalUnitType="sei_rbsp",f.escapedRBSP=l(h.subarray(1));break;case 7:f.nalUnitType="seq_parameter_set_rbsp",f.escapedRBSP=l(h.subarray(1)),f.config=c(f.escapedRBSP);break;case 8:f.nalUnitType="pic_parameter_set_rbsp";break;case 9:f.nalUnitType="access_unit_delimiter_rbsp"}o.trigger("data",f)})),f.on("done",(function(){o.trigger("done")})),f.on("partialdone",(function(){o.trigger("partialdone")})),f.on("reset",(function(){o.trigger("reset")})),f.on("endedtimeline",(function(){o.trigger("endedtimeline")})),this.flush=function(){f.flush()},this.partialFlush=function(){f.partialFlush()},this.reset=function(){f.reset()},this.endTimeline=function(){f.endTimeline()},h=function skipScalingList(o,a){var s,u=8,l=8;for(s=0;s<o;s++)0!==l&&(l=(u+a.readExpGolomb()+256)%256),u=0===l?u:l},l=function discardEmulationPreventionBytes(o){for(var a,s,u=o.byteLength,l=[],c=1;c<u-2;)0===o[c]&&0===o[c+1]&&3===o[c+2]?(l.push(c+2),c+=2):c++;if(0===l.length)return o;a=u-l.length,s=new Uint8Array(a);var h=0;for(c=0;c<a;h++,c++)h===l[0]&&(h++,l.shift()),s[c]=o[h];return s},c=function readSequenceParameterSet(o){var a,s,u,l,c,f,p,m,g,v,y,_,b=0,T=0,S=0,w=0,k=[1,1];if(s=(a=new At(o)).readUnsignedByte(),l=a.readUnsignedByte(),u=a.readUnsignedByte(),a.skipUnsignedExpGolomb(),xt[s]&&(3===(c=a.readUnsignedExpGolomb())&&a.skipBits(1),a.skipUnsignedExpGolomb(),a.skipUnsignedExpGolomb(),a.skipBits(1),a.readBoolean()))for(y=3!==c?8:12,_=0;_<y;_++)a.readBoolean()&&h(_<6?16:64,a);if(a.skipUnsignedExpGolomb(),0===(f=a.readUnsignedExpGolomb()))a.readUnsignedExpGolomb();else if(1===f)for(a.skipBits(1),a.skipExpGolomb(),a.skipExpGolomb(),p=a.readUnsignedExpGolomb(),_=0;_<p;_++)a.skipExpGolomb();if(a.skipUnsignedExpGolomb(),a.skipBits(1),m=a.readUnsignedExpGolomb(),g=a.readUnsignedExpGolomb(),0===(v=a.readBits(1))&&a.skipBits(1),a.skipBits(1),a.readBoolean()&&(b=a.readUnsignedExpGolomb(),T=a.readUnsignedExpGolomb(),S=a.readUnsignedExpGolomb(),w=a.readUnsignedExpGolomb()),a.readBoolean()&&a.readBoolean()){switch(a.readUnsignedByte()){case 1:k=[1,1];break;case 2:k=[12,11];break;case 3:k=[10,11];break;case 4:k=[16,11];break;case 5:k=[40,33];break;case 6:k=[24,11];break;case 7:k=[20,11];break;case 8:k=[32,11];break;case 9:k=[80,33];break;case 10:k=[18,11];break;case 11:k=[15,11];break;case 12:k=[64,33];break;case 13:k=[160,99];break;case 14:k=[4,3];break;case 15:k=[3,2];break;case 16:k=[2,1];break;case 255:k=[a.readUnsignedByte()<<8|a.readUnsignedByte(),a.readUnsignedByte()<<8|a.readUnsignedByte()]}k&&(k[0],k[1])}return{profileIdc:s,levelIdc:u,profileCompatibility:l,width:16*(m+1)-2*b-2*T,height:(2-v)*(g+1)*16-2*S-2*w,sarRatio:k}}}).prototype=new Z;var It,Ot={H264Stream:kt,NalByteStream:Ct},Lt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Mt=function parseId3TagSize(o,a){var s=o[a+6]<<21|o[a+7]<<14|o[a+8]<<7|o[a+9];return s=s>=0?s:0,(16&o[a+5])>>4?s+20:s+10},Dt=function getId3Offset(o,a){return o.length-a<10||o[a]!=="I".charCodeAt(0)||o[a+1]!=="D".charCodeAt(0)||o[a+2]!=="3".charCodeAt(0)?a:getId3Offset(o,a+=Mt(o,a))},Rt=function parseSyncSafeInteger(o){return o[0]<<21|o[1]<<14|o[2]<<7|o[3]},Nt=function parseIso88591(o,a,s){return unescape(function percentEncode(o,a,s){var u,l="";for(u=a;u<s;u++)l+="%"+("00"+o[u].toString(16)).slice(-2);return l}(o,a,s))},Bt={isLikelyAacData:function isLikelyAacData(o){var a=Dt(o,0);return o.length>=a+2&&255==(255&o[a])&&240==(240&o[a+1])&&16==(22&o[a+1])},parseId3TagSize:Mt,parseAdtsSize:function parseAdtsSize(o,a){var s=(224&o[a+5])>>5,u=o[a+4]<<3;return 6144&o[a+3]|u|s},parseType:function parseType(o,a){return o[a]==="I".charCodeAt(0)&&o[a+1]==="D".charCodeAt(0)&&o[a+2]==="3".charCodeAt(0)?"timed-metadata":!0&o[a]&&240==(240&o[a+1])?"audio":null},parseSampleRate:function parseSampleRate(o){for(var a=0;a+5<o.length;){if(255===o[a]&&240==(246&o[a+1]))return Lt[(60&o[a+2])>>>2];a++}return null},parseAacTimestamp:function parseAacTimestamp(o){var a,s,u;a=10,64&o[5]&&(a+=4,a+=Rt(o.subarray(10,14)));do{if((s=Rt(o.subarray(a+4,a+8)))<1)return null;if("PRIV"===String.fromCharCode(o[a],o[a+1],o[a+2],o[a+3])){u=o.subarray(a+10,a+s+10);for(var l=0;l<u.byteLength;l++)if(0===u[l]){if("com.apple.streaming.transportStreamTimestamp"===Nt(u,0,l)){var c=u.subarray(l+1),h=(1&c[3])<<30|c[4]<<22|c[5]<<14|c[6]<<6|c[7]>>>2;return h*=4,h+=3&c[7]}break}}a+=10,a+=s}while(a<o.byteLength);return null}};(It=function AacStream(){var o=new Uint8Array,a=0;It.prototype.init.call(this),this.setTimestamp=function(o){a=o},this.push=function(s){var u,l,c,h,f=0,p=0;for(o.length?(h=o.length,(o=new Uint8Array(s.byteLength+h)).set(o.subarray(0,h)),o.set(s,h)):o=s;o.length-p>=3;)if(o[p]!=="I".charCodeAt(0)||o[p+1]!=="D".charCodeAt(0)||o[p+2]!=="3".charCodeAt(0))if(255!=(255&o[p])||240!=(240&o[p+1]))p++;else{if(o.length-p<7)break;if(p+(f=Bt.parseAdtsSize(o,p))>o.length)break;c={type:"audio",data:o.subarray(p,p+f),pts:a,dts:a},this.trigger("data",c),p+=f}else{if(o.length-p<10)break;if(p+(f=Bt.parseId3TagSize(o,p))>o.length)break;l={type:"timed-metadata",data:o.subarray(p,p+f)},this.trigger("data",l),p+=f}u=o.length-p,o=u>0?o.subarray(p):new Uint8Array},this.reset=function(){o=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){o=new Uint8Array,this.trigger("endedtimeline")}}).prototype=new Z;var Ft,jt,Ut,Ht,qt=It,Vt=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Wt=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],zt=Ot.H264Stream,Gt=Bt.isLikelyAacData,Xt=we,Yt=function arrayEquals(o,a){var s;if(o.length!==a.length)return!1;for(s=0;s<o.length;s++)if(o[s]!==a[s])return!1;return!0},$t=function generateSegmentTimingInfo(o,a,s,u,l,c){return{start:{dts:o,pts:o+(s-a)},end:{dts:o+(u-a),pts:o+(l-s)},prependedContentDuration:c,baseMediaDecodeTime:o}};(jt=function AudioSegmentStream(o,a){var s,u=[],l=0,c=0,h=1/0;s=(a=a||{}).firstSequenceNumber||0,jt.prototype.init.call(this),this.push=function(a){Ne(o,a),o&&Vt.forEach((function(s){o[s]=a[s]})),u.push(a)},this.setEarliestDts=function(o){l=o},this.setVideoBaseMediaDecodeTime=function(o){h=o},this.setAudioAppendStart=function(o){c=o},this.flush=function(){var f,p,m,g,v,y,_;0!==u.length?(f=Ie(u,o,l),o.baseMediaDecodeTime=Re(o,a.keepOriginalTimestamps),_=Ae(o,f,c,h),o.samples=Oe(f),m=le(Le(f)),u=[],p=ce(s,[o]),g=new Uint8Array(p.byteLength+m.byteLength),s++,g.set(p),g.set(m,p.byteLength),De(o),v=Math.ceil(1024*Xt/o.samplerate),f.length&&(y=f.length*v,this.trigger("segmentTimingInfo",$t(Ce(o.baseMediaDecodeTime,o.samplerate),f[0].dts,f[0].pts,f[0].dts+y,f[0].pts+y,_||0)),this.trigger("timingInfo",{start:f[0].pts,end:f[0].pts+y})),this.trigger("data",{track:o,boxes:g}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){De(o),u=[],this.trigger("reset")}}).prototype=new Z,(Ft=function VideoSegmentStream(o,a){var s,u,l,c=[],h=[];s=(a=a||{}).firstSequenceNumber||0,Ft.prototype.init.call(this),delete o.minPTS,this.gopCache_=[],this.push=function(a){Ne(o,a),"seq_parameter_set_rbsp"!==a.nalUnitType||u||(u=a.config,o.sps=[a.data],Wt.forEach((function(a){o[a]=u[a]}),this)),"pic_parameter_set_rbsp"!==a.nalUnitType||l||(l=a.data,o.pps=[a.data]),c.push(a)},this.flush=function(){for(var u,l,f,p,m,g,v,y,_=0;c.length&&"access_unit_delimiter_rbsp"!==c[0].nalUnitType;)c.shift();if(0===c.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(u=fe(c),(f=pe(u))[0][0].keyFrame||((l=this.getGopForFusion_(c[0],o))?(_=l.duration,f.unshift(l),f.byteLength+=l.byteLength,f.nalCount+=l.nalCount,f.pts=l.pts,f.dts=l.dts,f.duration+=l.duration):f=me(f)),h.length){var b;if(!(b=a.alignGopsAtEnd?this.alignGopsAtEnd_(f):this.alignGopsAtStart_(f)))return this.gopCache_.unshift({gop:f.pop(),pps:o.pps,sps:o.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),c=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");De(o),f=b}Ne(o,f),o.samples=ge(f),m=le(ve(f)),o.baseMediaDecodeTime=Re(o,a.keepOriginalTimestamps),this.trigger("processedGopsInfo",f.map((function(o){return{pts:o.pts,dts:o.dts,byteLength:o.byteLength}}))),v=f[0],y=f[f.length-1],this.trigger("segmentTimingInfo",$t(o.baseMediaDecodeTime,v.dts,v.pts,y.dts+y.duration,y.pts+y.duration,_)),this.trigger("timingInfo",{start:f[0].pts,end:f[f.length-1].pts+f[f.length-1].duration}),this.gopCache_.unshift({gop:f.pop(),pps:o.pps,sps:o.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),c=[],this.trigger("baseMediaDecodeTime",o.baseMediaDecodeTime),this.trigger("timelineStartInfo",o.timelineStartInfo),p=ce(s,[o]),g=new Uint8Array(p.byteLength+m.byteLength),s++,g.set(p),g.set(m,p.byteLength),this.trigger("data",{track:o,boxes:g}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),c=[],this.gopCache_.length=0,h.length=0,this.trigger("reset")},this.resetStream_=function(){De(o),u=void 0,l=void 0},this.getGopForFusion_=function(a){var s,u,l,c,h,f=1/0;for(h=0;h<this.gopCache_.length;h++)l=(c=this.gopCache_[h]).gop,o.pps&&Yt(o.pps[0],c.pps[0])&&o.sps&&Yt(o.sps[0],c.sps[0])&&(l.dts<o.timelineStartInfo.dts||(s=a.dts-l.dts-l.duration)>=-1e4&&s<=45e3&&(!u||f>s)&&(u=c,f=s));return u?u.gop:null},this.alignGopsAtStart_=function(o){var a,s,u,l,c,f,p,m;for(c=o.byteLength,f=o.nalCount,p=o.duration,a=s=0;a<h.length&&s<o.length&&(u=h[a],l=o[s],u.pts!==l.pts);)l.pts>u.pts?a++:(s++,c-=l.byteLength,f-=l.nalCount,p-=l.duration);return 0===s?o:s===o.length?null:((m=o.slice(s)).byteLength=c,m.duration=p,m.nalCount=f,m.pts=m[0].pts,m.dts=m[0].dts,m)},this.alignGopsAtEnd_=function(o){var a,s,u,l,c,f,p;for(a=h.length-1,s=o.length-1,c=null,f=!1;a>=0&&s>=0;){if(u=h[a],l=o[s],u.pts===l.pts){f=!0;break}u.pts>l.pts?a--:(a===h.length-1&&(c=s),s--)}if(!f&&null===c)return null;if(0===(p=f?s:c))return o;var m=o.slice(p),g=m.reduce((function(o,a){return o.byteLength+=a.byteLength,o.duration+=a.duration,o.nalCount+=a.nalCount,o}),{byteLength:0,duration:0,nalCount:0});return m.byteLength=g.byteLength,m.duration=g.duration,m.nalCount=g.nalCount,m.pts=m[0].pts,m.dts=m[0].dts,m},this.alignGopsWith=function(o){h=o}}).prototype=new Z,(Ht=function CoalesceStream(o,a){this.numberOfTracks=0,this.metadataStream=a,void 0!==(o=o||{}).remux?this.remuxTracks=!!o.remux:this.remuxTracks=!0,"boolean"==typeof o.keepOriginalTimestamps?this.keepOriginalTimestamps=o.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Ht.prototype.init.call(this),this.push=function(o){return o.text?this.pendingCaptions.push(o):o.frames?this.pendingMetadata.push(o):(this.pendingTracks.push(o.track),this.pendingBytes+=o.boxes.byteLength,"video"===o.track.type&&(this.videoTrack=o.track,this.pendingBoxes.push(o.boxes)),void("audio"===o.track.type&&(this.audioTrack=o.track,this.pendingBoxes.unshift(o.boxes))))}}).prototype=new Z,Ht.prototype.flush=function(o){var a,s,u,l,c=0,h={captions:[],captionStreams:{},metadata:[],info:{}},f=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==o&&"AudioSegmentStream"!==o)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(f=this.videoTrack.timelineStartInfo.pts,Wt.forEach((function(o){h.info[o]=this.videoTrack[o]}),this)):this.audioTrack&&(f=this.audioTrack.timelineStartInfo.pts,Vt.forEach((function(o){h.info[o]=this.audioTrack[o]}),this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?h.type=this.pendingTracks[0].type:h.type="combined",this.emittedTracks+=this.pendingTracks.length,u=de(this.pendingTracks),h.initSegment=new Uint8Array(u.byteLength),h.initSegment.set(u),h.data=new Uint8Array(this.pendingBytes),l=0;l<this.pendingBoxes.length;l++)h.data.set(this.pendingBoxes[l],c),c+=this.pendingBoxes[l].byteLength;for(l=0;l<this.pendingCaptions.length;l++)(a=this.pendingCaptions[l]).startTime=Pe(a.startPts,f,this.keepOriginalTimestamps),a.endTime=Pe(a.endPts,f,this.keepOriginalTimestamps),h.captionStreams[a.stream]=!0,h.captions.push(a);for(l=0;l<this.pendingMetadata.length;l++)(s=this.pendingMetadata[l]).cueTime=Pe(s.pts,f,this.keepOriginalTimestamps),h.metadata.push(s);for(h.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",h),l=0;l<h.captions.length;l++)a=h.captions[l],this.trigger("caption",a);for(l=0;l<h.metadata.length;l++)s=h.metadata[l],this.trigger("id3Frame",s)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Ht.prototype.setRemux=function(o){this.remuxTracks=o},(Ut=function Transmuxer(o){var a,s,u=this,l=!0;Ut.prototype.init.call(this),o=o||{},this.baseMediaDecodeTime=o.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var l={};this.transmuxPipeline_=l,l.type="aac",l.metadataStream=new St.MetadataStream,l.aacStream=new qt,l.audioTimestampRolloverStream=new St.TimestampRolloverStream("audio"),l.timedMetadataTimestampRolloverStream=new St.TimestampRolloverStream("timed-metadata"),l.adtsStream=new Pt,l.coalesceStream=new Ht(o,l.metadataStream),l.headOfPipeline=l.aacStream,l.aacStream.pipe(l.audioTimestampRolloverStream).pipe(l.adtsStream),l.aacStream.pipe(l.timedMetadataTimestampRolloverStream).pipe(l.metadataStream).pipe(l.coalesceStream),l.metadataStream.on("timestamp",(function(o){l.aacStream.setTimestamp(o.timeStamp)})),l.aacStream.on("data",(function(c){"timed-metadata"!==c.type&&"audio"!==c.type||l.audioSegmentStream||(s=s||{timelineStartInfo:{baseMediaDecodeTime:u.baseMediaDecodeTime},codec:"adts",type:"audio"},l.coalesceStream.numberOfTracks++,l.audioSegmentStream=new jt(s,o),l.audioSegmentStream.on("log",u.getLogTrigger_("audioSegmentStream")),l.audioSegmentStream.on("timingInfo",u.trigger.bind(u,"audioTimingInfo")),l.adtsStream.pipe(l.audioSegmentStream).pipe(l.coalesceStream),u.trigger("trackinfo",{hasAudio:!!s,hasVideo:!!a}))})),l.coalesceStream.on("data",this.trigger.bind(this,"data")),l.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var l={};this.transmuxPipeline_=l,l.type="ts",l.metadataStream=new St.MetadataStream,l.packetStream=new St.TransportPacketStream,l.parseStream=new St.TransportParseStream,l.elementaryStream=new St.ElementaryStream,l.timestampRolloverStream=new St.TimestampRolloverStream,l.adtsStream=new Pt,l.h264Stream=new zt,l.captionStream=new St.CaptionStream(o),l.coalesceStream=new Ht(o,l.metadataStream),l.headOfPipeline=l.packetStream,l.packetStream.pipe(l.parseStream).pipe(l.elementaryStream).pipe(l.timestampRolloverStream),l.timestampRolloverStream.pipe(l.h264Stream),l.timestampRolloverStream.pipe(l.adtsStream),l.timestampRolloverStream.pipe(l.metadataStream).pipe(l.coalesceStream),l.h264Stream.pipe(l.captionStream).pipe(l.coalesceStream),l.elementaryStream.on("data",(function(c){var h;if("metadata"===c.type){for(h=c.tracks.length;h--;)a||"video"!==c.tracks[h].type?s||"audio"!==c.tracks[h].type||((s=c.tracks[h]).timelineStartInfo.baseMediaDecodeTime=u.baseMediaDecodeTime):(a=c.tracks[h]).timelineStartInfo.baseMediaDecodeTime=u.baseMediaDecodeTime;a&&!l.videoSegmentStream&&(l.coalesceStream.numberOfTracks++,l.videoSegmentStream=new Ft(a,o),l.videoSegmentStream.on("log",u.getLogTrigger_("videoSegmentStream")),l.videoSegmentStream.on("timelineStartInfo",(function(a){s&&!o.keepOriginalTimestamps&&(s.timelineStartInfo=a,l.audioSegmentStream.setEarliestDts(a.dts-u.baseMediaDecodeTime))})),l.videoSegmentStream.on("processedGopsInfo",u.trigger.bind(u,"gopInfo")),l.videoSegmentStream.on("segmentTimingInfo",u.trigger.bind(u,"videoSegmentTimingInfo")),l.videoSegmentStream.on("baseMediaDecodeTime",(function(o){s&&l.audioSegmentStream.setVideoBaseMediaDecodeTime(o)})),l.videoSegmentStream.on("timingInfo",u.trigger.bind(u,"videoTimingInfo")),l.h264Stream.pipe(l.videoSegmentStream).pipe(l.coalesceStream)),s&&!l.audioSegmentStream&&(l.coalesceStream.numberOfTracks++,l.audioSegmentStream=new jt(s,o),l.audioSegmentStream.on("log",u.getLogTrigger_("audioSegmentStream")),l.audioSegmentStream.on("timingInfo",u.trigger.bind(u,"audioTimingInfo")),l.audioSegmentStream.on("segmentTimingInfo",u.trigger.bind(u,"audioSegmentTimingInfo")),l.adtsStream.pipe(l.audioSegmentStream).pipe(l.coalesceStream)),u.trigger("trackinfo",{hasAudio:!!s,hasVideo:!!a})}})),l.coalesceStream.on("data",this.trigger.bind(this,"data")),l.coalesceStream.on("id3Frame",(function(o){o.dispatchType=l.metadataStream.dispatchType,u.trigger("id3Frame",o)})),l.coalesceStream.on("caption",this.trigger.bind(this,"caption")),l.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(u){var l=this.transmuxPipeline_;o.keepOriginalTimestamps||(this.baseMediaDecodeTime=u),s&&(s.timelineStartInfo.dts=void 0,s.timelineStartInfo.pts=void 0,De(s),l.audioTimestampRolloverStream&&l.audioTimestampRolloverStream.discontinuity()),a&&(l.videoSegmentStream&&(l.videoSegmentStream.gopCache_=[]),a.timelineStartInfo.dts=void 0,a.timelineStartInfo.pts=void 0,De(a),l.captionStream.reset()),l.timestampRolloverStream&&l.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(o){s&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(o)},this.setRemux=function(a){var s=this.transmuxPipeline_;o.remux=a,s&&s.coalesceStream&&s.coalesceStream.setRemux(a)},this.alignGopsWith=function(o){a&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(o)},this.getLogTrigger_=function(o){var a=this;return function(s){s.stream=o,a.trigger("log",s)}},this.push=function(o){if(l){var a=Gt(o);if(a&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():a||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),this.transmuxPipeline_)for(var s=Object.keys(this.transmuxPipeline_),u=0;u<s.length;u++){var c=s[u];"headOfPipeline"!==c&&this.transmuxPipeline_[c].on&&this.transmuxPipeline_[c].on("log",this.getLogTrigger_(c))}l=!1}this.transmuxPipeline_.headOfPipeline.push(o)},this.flush=function(){l=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new Z;var Kt,Qt,Jt,Zt={Transmuxer:Ut,VideoSegmentStream:Ft,AudioSegmentStream:jt,AUDIO_PROPERTIES:Vt,VIDEO_PROPERTIES:Wt,generateSegmentTimingInfo:$t},en=function toUnsigned(o){return o>>>0},tn=function parseType(o){var a="";return a+=String.fromCharCode(o[0]),a+=String.fromCharCode(o[1]),a+=String.fromCharCode(o[2]),a+=String.fromCharCode(o[3])},nn=en,rn=function findBox(o,a){var s,u,l,c,h,f=[];if(!a.length)return null;for(s=0;s<o.byteLength;)u=nn(o[s]<<24|o[s+1]<<16|o[s+2]<<8|o[s+3]),l=tn(o.subarray(s+4,s+8)),c=u>1?s+u:o.byteLength,l===a[0]&&(1===a.length?f.push(o.subarray(s+8,c)):(h=findBox(o.subarray(s+8,c),a.slice(1))).length&&(f=f.concat(h))),s=c;return f},an=en,sn=function tfdt(o){var a={version:o[0],flags:new Uint8Array(o.subarray(1,4)),baseMediaDecodeTime:an(o[4]<<24|o[5]<<16|o[6]<<8|o[7])};return 1===a.version&&(a.baseMediaDecodeTime*=Math.pow(2,32),a.baseMediaDecodeTime+=an(o[8]<<24|o[9]<<16|o[10]<<8|o[11])),a},un=function parseSampleFlags(o){return{isLeading:(12&o[0])>>>2,dependsOn:3&o[0],isDependedOn:(192&o[1])>>>6,hasRedundancy:(48&o[1])>>>4,paddingValue:(14&o[1])>>>1,isNonSyncSample:1&o[1],degradationPriority:o[2]<<8|o[3]}},ln=function trun(o){var a,s={version:o[0],flags:new Uint8Array(o.subarray(1,4)),samples:[]},u=new DataView(o.buffer,o.byteOffset,o.byteLength),l=1&s.flags[2],c=4&s.flags[2],h=1&s.flags[1],f=2&s.flags[1],p=4&s.flags[1],m=8&s.flags[1],g=u.getUint32(4),v=8;for(l&&(s.dataOffset=u.getInt32(v),v+=4),c&&g&&(a={flags:un(o.subarray(v,v+4))},v+=4,h&&(a.duration=u.getUint32(v),v+=4),f&&(a.size=u.getUint32(v),v+=4),m&&(1===s.version?a.compositionTimeOffset=u.getInt32(v):a.compositionTimeOffset=u.getUint32(v),v+=4),s.samples.push(a),g--);g--;)a={},h&&(a.duration=u.getUint32(v),v+=4),f&&(a.size=u.getUint32(v),v+=4),p&&(a.flags=un(o.subarray(v,v+4)),v+=4),m&&(1===s.version?a.compositionTimeOffset=u.getInt32(v):a.compositionTimeOffset=u.getUint32(v),v+=4),s.samples.push(a);return s},cn=function tfhd(o){var a,s=new DataView(o.buffer,o.byteOffset,o.byteLength),u={version:o[0],flags:new Uint8Array(o.subarray(1,4)),trackId:s.getUint32(4)},l=1&u.flags[2],c=2&u.flags[2],h=8&u.flags[2],f=16&u.flags[2],p=32&u.flags[2],m=65536&u.flags[0],g=131072&u.flags[0];return a=8,l&&(a+=4,u.baseDataOffset=s.getUint32(12),a+=4),c&&(u.sampleDescriptionIndex=s.getUint32(a),a+=4),h&&(u.defaultSampleDuration=s.getUint32(a),a+=4),f&&(u.defaultSampleSize=s.getUint32(a),a+=4),p&&(u.defaultSampleFlags=s.getUint32(a)),m&&(u.durationIsEmpty=!0),!l&&g&&(u.baseDataOffsetIsMoof=!0),u},dn=Ue,hn=Ze.CaptionStream,fn=function mapToSample(o,a){for(var s=o,u=0;u<a.length;u++){var l=a[u];if(s<l.size)return l;s-=l.size}return null},pn=function parseCaptionNals(o,a){var s=rn(o,["moof","traf"]),u=rn(o,["mdat"]),l={},c=[];return u.forEach((function(o,a){var u=s[a];c.push({mdat:o,traf:u})})),c.forEach((function(o){var s,u=o.mdat,c=o.traf,h=rn(c,["tfhd"]),f=cn(h[0]),p=f.trackId,m=rn(c,["tfdt"]),g=m.length>0?sn(m[0]).baseMediaDecodeTime:0,v=rn(c,["trun"]);a===p&&v.length>0&&(s=function findSeiNals(o,a,s){var u,l,c,h,f=new DataView(o.buffer,o.byteOffset,o.byteLength),p={logs:[],seiNals:[]};for(l=0;l+4<o.length;l+=c)if(c=f.getUint32(l),l+=4,!(c<=0))switch(31&o[l]){case 6:var m=o.subarray(l+1,l+1+c),g=fn(l,a);if(u={nalUnitType:"sei_rbsp",size:c,data:m,escapedRBSP:dn(m),trackId:s},g)u.pts=g.pts,u.dts=g.dts,h=g;else{if(!h){p.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+l+" for trackId "+s+". See mux.js#223."});break}u.pts=h.pts,u.dts=h.dts}p.seiNals.push(u)}return p}(u,function parseSamples(o,a,s){var u=a,l=s.defaultSampleDuration||0,c=s.defaultSampleSize||0,h=s.trackId,f=[];return o.forEach((function(o){var a=ln(o).samples;a.forEach((function(o){void 0===o.duration&&(o.duration=l),void 0===o.size&&(o.size=c),o.trackId=h,o.dts=u,void 0===o.compositionTimeOffset&&(o.compositionTimeOffset=0),o.pts=u+o.compositionTimeOffset,u+=o.duration})),f=f.concat(a)})),f}(v,g,f),p),l[p]||(l[p]={seiNals:[],logs:[]}),l[p].seiNals=l[p].seiNals.concat(s.seiNals),l[p].logs=l[p].logs.concat(s.logs))})),l},mn=function CaptionParser(){var o,a,s,u,l,c,h=!1;this.isInitialized=function(){return h},this.init=function(a){o=new hn,h=!0,c=!!a&&a.isPartial,o.on("data",(function(o){o.startTime=o.startPts/u,o.endTime=o.endPts/u,l.captions.push(o),l.captionStreams[o.stream]=!0})),o.on("log",(function(o){l.logs.push(o)}))},this.isNewInit=function(o,a){return!(o&&0===o.length||a&&"object"==typeof a&&0===Object.keys(a).length)&&(s!==o[0]||u!==a[s])},this.parse=function(o,c,h){var f;if(!this.isInitialized())return null;if(!c||!h)return null;if(this.isNewInit(c,h))s=c[0],u=h[s];else if(null===s||!u)return a.push(o),null;for(;a.length>0;){var p=a.shift();this.parse(p,c,h)}return(f=function parseEmbeddedCaptions(o,a,s){if(null===a)return null;var u=pn(o,a)[a]||{};return{seiNals:u.seiNals,logs:u.logs,timescale:s}}(o,s,u))&&f.logs&&(l.logs=l.logs.concat(f.logs)),null!==f&&f.seiNals?(this.pushNals(f.seiNals),this.flushStream(),l):l.logs.length?{logs:l.logs,captions:[],captionStreams:[]}:null},this.pushNals=function(a){if(!this.isInitialized()||!a||0===a.length)return null;a.forEach((function(a){o.push(a)}))},this.flushStream=function(){if(!this.isInitialized())return null;c?o.partialFlush():o.flush()},this.clearParsedCaptions=function(){l.captions=[],l.captionStreams={},l.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;o.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){a=[],s=null,u=null,l?this.clearParsedCaptions():l={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},gn=en,vn=function toHexString(o){return("00"+o.toString(16)).slice(-2)};Kt=function startTime(o,a){var s,u,l;return s=rn(a,["moof","traf"]),u=[].concat.apply([],s.map((function(a){return rn(a,["tfhd"]).map((function(s){var u,l,c;return u=gn(s[4]<<24|s[5]<<16|s[6]<<8|s[7]),l=o[u]||9e4,(c="number"!=typeof(c=rn(a,["tfdt"]).map((function(o){var a,s;return a=o[0],s=gn(o[4]<<24|o[5]<<16|o[6]<<8|o[7]),1===a&&(s*=Math.pow(2,32),s+=gn(o[8]<<24|o[9]<<16|o[10]<<8|o[11])),s}))[0])||isNaN(c)?1/0:c)/l}))}))),l=Math.min.apply(null,u),isFinite(l)?l:0},Qt=function getTracks(o){var a=rn(o,["moov","trak"]),s=[];return a.forEach((function(o){var a,u,l={},c=rn(o,["tkhd"])[0];c&&(u=(a=new DataView(c.buffer,c.byteOffset,c.byteLength)).getUint8(0),l.id=0===u?a.getUint32(12):a.getUint32(20));var h=rn(o,["mdia","hdlr"])[0];if(h){var f=tn(h.subarray(8,12));l.type="vide"===f?"video":"soun"===f?"audio":f}var p=rn(o,["mdia","minf","stbl","stsd"])[0];if(p){var m=p.subarray(8);l.codec=tn(m.subarray(4,8));var g,v=rn(m,[l.codec])[0];v&&(/^[a-z]vc[1-9]$/i.test(l.codec)?(g=v.subarray(78),"avcC"===tn(g.subarray(4,8))&&g.length>11?(l.codec+=".",l.codec+=vn(g[9]),l.codec+=vn(g[10]),l.codec+=vn(g[11])):l.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(l.codec)?(g=v.subarray(28),"esds"===tn(g.subarray(4,8))&&g.length>20&&0!==g[19]?(l.codec+="."+vn(g[19]),l.codec+="."+vn(g[20]>>>2&63).replace(/^0/,"")):l.codec="mp4a.40.2"):l.codec=l.codec.toLowerCase())}var y=rn(o,["mdia","mdhd"])[0];y&&(l.timescale=Jt(y)),s.push(l)})),s};var yn=Kt,_n=Qt,bn=(Jt=function getTimescaleFromMediaHeader(o){var a=0===o[0]?12:20;return gn(o[a]<<24|o[a+1]<<16|o[a+2]<<8|o[a+3])},function parsePid(o){var a=31&o[1];return a<<=8,a|=o[2]}),Tn=function parsePayloadUnitStartIndicator(o){return!!(64&o[1])},Sn=function parseAdaptionField(o){var a=0;return(48&o[3])>>>4>1&&(a+=o[4]+1),a},wn=function parseNalUnitType(o){switch(o){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},En={parseType:function parseType(o,a){var s=bn(o);return 0===s?"pat":s===a?"pmt":a?"pes":null},parsePat:function parsePat(o){var a=Tn(o),s=4+Sn(o);return a&&(s+=o[s]+1),(31&o[s+10])<<8|o[s+11]},parsePmt:function parsePmt(o){var a={},s=Tn(o),u=4+Sn(o);if(s&&(u+=o[u]+1),1&o[u+5]){var l;l=3+((15&o[u+1])<<8|o[u+2])-4;for(var c=12+((15&o[u+10])<<8|o[u+11]);c<l;){var h=u+c;a[(31&o[h+1])<<8|o[h+2]]=o[h],c+=5+((15&o[h+3])<<8|o[h+4])}return a}},parsePayloadUnitStartIndicator:Tn,parsePesType:function parsePesType(o,a){switch(a[bn(o)]){case et.H264_STREAM_TYPE:return"video";case et.ADTS_STREAM_TYPE:return"audio";case et.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function parsePesTime(o){if(!Tn(o))return null;var a=4+Sn(o);if(a>=o.byteLength)return null;var s,u=null;return 192&(s=o[a+7])&&((u={}).pts=(14&o[a+9])<<27|(255&o[a+10])<<20|(254&o[a+11])<<12|(255&o[a+12])<<5|(254&o[a+13])>>>3,u.pts*=4,u.pts+=(6&o[a+13])>>>1,u.dts=u.pts,64&s&&(u.dts=(14&o[a+14])<<27|(255&o[a+15])<<20|(254&o[a+16])<<12|(255&o[a+17])<<5|(254&o[a+18])>>>3,u.dts*=4,u.dts+=(6&o[a+18])>>>1)),u},videoPacketContainsKeyFrame:function videoPacketContainsKeyFrame(o){for(var a=4+Sn(o),s=o.subarray(a),u=0,l=0,c=!1;l<s.byteLength-3;l++)if(1===s[l+2]){u=l+5;break}for(;u<s.byteLength;)switch(s[u]){case 0:if(0!==s[u-1]){u+=2;break}if(0!==s[u-2]){u++;break}l+3!==u-2&&"slice_layer_without_partitioning_rbsp_idr"===wn(31&s[l+3])&&(c=!0);do{u++}while(1!==s[u]&&u<s.length);l=u-2,u+=3;break;case 1:if(0!==s[u-1]||0!==s[u-2]){u+=3;break}"slice_layer_without_partitioning_rbsp_idr"===wn(31&s[l+3])&&(c=!0),l=u-2,u+=3;break;default:u+=3}return s=s.subarray(l),u-=l,l=0,s&&s.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===wn(31&s[l+3])&&(c=!0),c}},kn=st,Cn={};Cn.ts=En,Cn.aac=Bt;var xn=we,Pn=188,An=71,In=function parseAudioPes_(o,a,s){for(var u,l,c,h,f=0,p=Pn,m=!1;p<=o.byteLength;)if(o[f]!==An||o[p]!==An&&p!==o.byteLength)f++,p++;else{switch(u=o.subarray(f,p),Cn.ts.parseType(u,a.pid)){case"pes":l=Cn.ts.parsePesType(u,a.table),c=Cn.ts.parsePayloadUnitStartIndicator(u),"audio"===l&&c&&(h=Cn.ts.parsePesTime(u))&&(h.type="audio",s.audio.push(h),m=!0)}if(m)break;f+=Pn,p+=Pn}for(f=(p=o.byteLength)-Pn,m=!1;f>=0;)if(o[f]!==An||o[p]!==An&&p!==o.byteLength)f--,p--;else{switch(u=o.subarray(f,p),Cn.ts.parseType(u,a.pid)){case"pes":l=Cn.ts.parsePesType(u,a.table),c=Cn.ts.parsePayloadUnitStartIndicator(u),"audio"===l&&c&&(h=Cn.ts.parsePesTime(u))&&(h.type="audio",s.audio.push(h),m=!0)}if(m)break;f-=Pn,p-=Pn}},On=function parseVideoPes_(o,a,s){for(var u,l,c,h,f,p,m,g=0,v=Pn,y=!1,_={data:[],size:0};v<o.byteLength;)if(o[g]!==An||o[v]!==An)g++,v++;else{switch(u=o.subarray(g,v),Cn.ts.parseType(u,a.pid)){case"pes":if(l=Cn.ts.parsePesType(u,a.table),c=Cn.ts.parsePayloadUnitStartIndicator(u),"video"===l&&(c&&!y&&(h=Cn.ts.parsePesTime(u))&&(h.type="video",s.video.push(h),y=!0),!s.firstKeyFrame)){if(c&&0!==_.size){for(f=new Uint8Array(_.size),p=0;_.data.length;)m=_.data.shift(),f.set(m,p),p+=m.byteLength;if(Cn.ts.videoPacketContainsKeyFrame(f)){var b=Cn.ts.parsePesTime(f);b?(s.firstKeyFrame=b,s.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}_.size=0}_.data.push(u),_.size+=u.byteLength}}if(y&&s.firstKeyFrame)break;g+=Pn,v+=Pn}for(g=(v=o.byteLength)-Pn,y=!1;g>=0;)if(o[g]!==An||o[v]!==An)g--,v--;else{switch(u=o.subarray(g,v),Cn.ts.parseType(u,a.pid)){case"pes":l=Cn.ts.parsePesType(u,a.table),c=Cn.ts.parsePayloadUnitStartIndicator(u),"video"===l&&c&&(h=Cn.ts.parsePesTime(u))&&(h.type="video",s.video.push(h),y=!0)}if(y)break;g-=Pn,v-=Pn}},Ln=function inspectTs_(o){var a={pid:null,table:null},s={};for(var u in function parsePsi_(o,a){for(var s,u=0,l=Pn;l<o.byteLength;)if(o[u]!==An||o[l]!==An)u++,l++;else{switch(s=o.subarray(u,l),Cn.ts.parseType(s,a.pid)){case"pat":a.pid=Cn.ts.parsePat(s);break;case"pmt":var c=Cn.ts.parsePmt(s);a.table=a.table||{},Object.keys(c).forEach((function(o){a.table[o]=c[o]}))}u+=Pn,l+=Pn}}(o,a),a.table){if(a.table.hasOwnProperty(u))switch(a.table[u]){case et.H264_STREAM_TYPE:s.video=[],On(o,a,s),0===s.video.length&&delete s.video;break;case et.ADTS_STREAM_TYPE:s.audio=[],In(o,a,s),0===s.audio.length&&delete s.audio}}return s},Mn=function inspect(o,a){var s;return(s=Cn.aac.isLikelyAacData(o)?function inspectAac_(o){for(var a,s=!1,u=0,l=null,c=null,h=0,f=0;o.length-f>=3;){switch(Cn.aac.parseType(o,f)){case"timed-metadata":if(o.length-f<10){s=!0;break}if((h=Cn.aac.parseId3TagSize(o,f))>o.length){s=!0;break}null===c&&(a=o.subarray(f,f+h),c=Cn.aac.parseAacTimestamp(a)),f+=h;break;case"audio":if(o.length-f<7){s=!0;break}if((h=Cn.aac.parseAdtsSize(o,f))>o.length){s=!0;break}null===l&&(a=o.subarray(f,f+h),l=Cn.aac.parseSampleRate(a)),u++,f+=h;break;default:f++}if(s)return null}if(null===l||null===c)return null;var p=xn/l;return{audio:[{type:"audio",dts:c,pts:c},{type:"audio",dts:c+1024*u*p,pts:c+1024*u*p}]}}(o):Ln(o))&&(s.audio||s.video)?(function adjustTimestamp_(o,a){if(o.audio&&o.audio.length){var s=a;(void 0===s||isNaN(s))&&(s=o.audio[0].dts),o.audio.forEach((function(o){o.dts=kn(o.dts,s),o.pts=kn(o.pts,s),o.dtsTime=o.dts/xn,o.ptsTime=o.pts/xn}))}if(o.video&&o.video.length){var u=a;if((void 0===u||isNaN(u))&&(u=o.video[0].dts),o.video.forEach((function(o){o.dts=kn(o.dts,u),o.pts=kn(o.pts,u),o.dtsTime=o.dts/xn,o.ptsTime=o.pts/xn})),o.firstKeyFrame){var l=o.firstKeyFrame;l.dts=kn(l.dts,u),l.pts=kn(l.pts,u),l.dtsTime=l.dts/xn,l.ptsTime=l.pts/xn}}}(s,a),s):null},Dn=function(){function MessageHandlers(o,a){this.options=a||{},this.self=o,this.init()}var o=MessageHandlers.prototype;return o.init=function init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Zt.Transmuxer(this.options),function wireTransmuxerEvents(o,a){a.on("data",(function(a){var s=a.initSegment;a.initSegment={data:s.buffer,byteOffset:s.byteOffset,byteLength:s.byteLength};var u=a.data;a.data=u.buffer,o.postMessage({action:"data",segment:a,byteOffset:u.byteOffset,byteLength:u.byteLength},[a.data])})),a.on("done",(function(a){o.postMessage({action:"done"})})),a.on("gopInfo",(function(a){o.postMessage({action:"gopInfo",gopInfo:a})})),a.on("videoSegmentTimingInfo",(function(a){var s={start:{decode:ke(a.start.dts),presentation:ke(a.start.pts)},end:{decode:ke(a.end.dts),presentation:ke(a.end.pts)},baseMediaDecodeTime:ke(a.baseMediaDecodeTime)};a.prependedContentDuration&&(s.prependedContentDuration=ke(a.prependedContentDuration)),o.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:s})})),a.on("audioSegmentTimingInfo",(function(a){var s={start:{decode:ke(a.start.dts),presentation:ke(a.start.pts)},end:{decode:ke(a.end.dts),presentation:ke(a.end.pts)},baseMediaDecodeTime:ke(a.baseMediaDecodeTime)};a.prependedContentDuration&&(s.prependedContentDuration=ke(a.prependedContentDuration)),o.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:s})})),a.on("id3Frame",(function(a){o.postMessage({action:"id3Frame",id3Frame:a})})),a.on("caption",(function(a){o.postMessage({action:"caption",caption:a})})),a.on("trackinfo",(function(a){o.postMessage({action:"trackinfo",trackInfo:a})})),a.on("audioTimingInfo",(function(a){o.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:ke(a.start),end:ke(a.end)}})})),a.on("videoTimingInfo",(function(a){o.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:ke(a.start),end:ke(a.end)}})})),a.on("log",(function(a){o.postMessage({action:"log",log:a})}))}(this.self,this.transmuxer)},o.pushMp4Captions=function pushMp4Captions(o){this.captionParser||(this.captionParser=new mn,this.captionParser.init());var a=new Uint8Array(o.data,o.byteOffset,o.byteLength),s=this.captionParser.parse(a,o.trackIds,o.timescales);this.self.postMessage({action:"mp4Captions",captions:s&&s.captions||[],logs:s&&s.logs||[],data:a.buffer},[a.buffer])},o.probeMp4StartTime=function probeMp4StartTime(o){var a=o.timescales,s=o.data,u=yn(a,s);this.self.postMessage({action:"probeMp4StartTime",startTime:u,data:s},[s.buffer])},o.probeMp4Tracks=function probeMp4Tracks(o){var a=o.data,s=_n(a);this.self.postMessage({action:"probeMp4Tracks",tracks:s,data:a},[a.buffer])},o.probeTs=function probeTs(o){var a=o.data,s=o.baseStartTime,u="number"!=typeof s||isNaN(s)?void 0:s*we,l=Mn(a,u),c=null;l&&((c={hasVideo:l.video&&2===l.video.length||!1,hasAudio:l.audio&&2===l.audio.length||!1}).hasVideo&&(c.videoStart=l.video[0].ptsTime),c.hasAudio&&(c.audioStart=l.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:c,data:a},[a.buffer])},o.clearAllMp4Captions=function clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()},o.clearParsedMp4Captions=function clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()},o.push=function push(o){var a=new Uint8Array(o.data,o.byteOffset,o.byteLength);this.transmuxer.push(a)},o.reset=function reset(){this.transmuxer.reset()},o.setTimestampOffset=function setTimestampOffset(o){var a=o.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(Ee(a)))},o.setAudioAppendStart=function setAudioAppendStart(o){this.transmuxer.setAudioAppendStart(Math.ceil(Ee(o.appendStart)))},o.setRemux=function setRemux(o){this.transmuxer.setRemux(o.remux)},o.flush=function flush(o){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},o.endTimeline=function endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},o.alignGopsWith=function alignGopsWith(o){this.transmuxer.alignGopsWith(o.gopsToAlignWith.slice())},MessageHandlers}();self.onmessage=function(o){"init"===o.data.action&&o.data.options?this.messageHandlers=new Dn(self,o.data.options):(this.messageHandlers||(this.messageHandlers=new Dn(self)),o.data&&o.data.action&&"init"!==o.data.action&&this.messageHandlers[o.data.action]&&this.messageHandlers[o.data.action](o.data))}})))),vg=function processTransmux(o){var a=o.transmuxer,s=o.bytes,u=o.audioAppendStart,l=o.gopsToAlignWith,c=o.remux,h=o.onData,f=o.onTrackInfo,p=o.onAudioTimingInfo,m=o.onVideoTimingInfo,g=o.onVideoSegmentTimingInfo,v=o.onAudioSegmentTimingInfo,y=o.onId3,_=o.onCaptions,b=o.onDone,T=o.onEndedTimeline,S=o.onTransmuxerLog,w=o.isEndOfTimeline,k={buffer:[]},x=w;if(a.onmessage=function handleMessage(s){a.currentTransmux===o&&("data"===s.data.action&&function handleData_(o,a,s){var u=o.data.segment,l=u.type,c=u.initSegment,h=u.captions,f=u.captionStreams,p=u.metadata,m=u.videoFrameDtsTime,g=u.videoFramePtsTime;a.buffer.push({captions:h,captionStreams:f,metadata:p});var v=o.data.segment.boxes||{data:o.data.segment.data},y={type:l,data:new Uint8Array(v.data,v.data.byteOffset,v.data.byteLength),initSegment:new Uint8Array(c.data,c.byteOffset,c.byteLength)};void 0!==m&&(y.videoFrameDtsTime=m),void 0!==g&&(y.videoFramePtsTime=g),s(y)}(s,k,h),"trackinfo"===s.data.action&&f(s.data.trackInfo),"gopInfo"===s.data.action&&function handleGopInfo_(o,a){a.gopInfo=o.data.gopInfo}(s,k),"audioTimingInfo"===s.data.action&&p(s.data.audioTimingInfo),"videoTimingInfo"===s.data.action&&m(s.data.videoTimingInfo),"videoSegmentTimingInfo"===s.data.action&&g(s.data.videoSegmentTimingInfo),"audioSegmentTimingInfo"===s.data.action&&v(s.data.audioSegmentTimingInfo),"id3Frame"===s.data.action&&y([s.data.id3Frame],s.data.id3Frame.dispatchType),"caption"===s.data.action&&_(s.data.caption),"endedtimeline"===s.data.action&&(x=!1,T()),"log"===s.data.action&&S(s.data.log),"transmuxed"===s.data.type&&(x||(a.onmessage=null,function handleDone_(o){var a=o.transmuxedData,s=o.callback;a.buffer=[],s(a)}({transmuxedData:k,callback:b}),yg(a))))},u&&a.postMessage({action:"setAudioAppendStart",appendStart:u}),Array.isArray(l)&&a.postMessage({action:"alignGopsWith",gopsToAlignWith:l}),void 0!==c&&a.postMessage({action:"setRemux",remux:c}),s.byteLength){var P=s instanceof ArrayBuffer?s:s.buffer,I=s instanceof ArrayBuffer?0:s.byteOffset;a.postMessage({action:"push",data:P,byteOffset:I,byteLength:s.byteLength},[P])}w&&a.postMessage({action:"endTimeline"}),a.postMessage({action:"flush"})},yg=function dequeue(o){o.currentTransmux=null,o.transmuxQueue.length&&(o.currentTransmux=o.transmuxQueue.shift(),"function"==typeof o.currentTransmux?o.currentTransmux():vg(o.currentTransmux))},_g=function processAction(o,a){o.postMessage({action:a}),yg(o)},bg=function enqueueAction(o,a){if(!a.currentTransmux)return a.currentTransmux=o,void _g(a,o);a.transmuxQueue.push(_g.bind(null,a,o))},Tg=function transmux(o){if(!o.transmuxer.currentTransmux)return o.transmuxer.currentTransmux=o,void vg(o);o.transmuxer.transmuxQueue.push(o)},Sg=function reset(o){bg("reset",o)},wg=function createTransmuxer(o){var a=new gg;a.currentTransmux=null,a.transmuxQueue=[];var s=a.terminate;return a.terminate=function(){return a.currentTransmux=null,a.transmuxQueue.length=0,s.call(a)},a.postMessage({action:"init",options:o}),a},Eg=function workerCallback(o){var a=o.transmuxer,s=o.endAction||o.action,u=o.callback,l=Cu()({},o,{endAction:null,transmuxer:null,callback:null});if(a.addEventListener("message",(function listenForEndEvent(l){l.data.action===s&&(a.removeEventListener("message",listenForEndEvent),l.data.data&&(l.data.data=new Uint8Array(l.data.data,o.byteOffset||0,o.byteLength||l.data.data.byteLength),o.data&&(o.data=l.data.data)),u(l.data))})),o.data){var c=o.data instanceof ArrayBuffer;l.byteOffset=c?0:o.data.byteOffset,l.byteLength=o.data.byteLength;var h=[c?o.data:o.data.buffer];a.postMessage(l,h)}else a.postMessage(l)},kg=2,Cg=-101,xg=-102,Pg=function abortAll(o){o.forEach((function(o){o.abort()}))},Ag=function handleErrors(o,a){return a.timedout?{status:a.status,message:"HLS request timed-out at URL: "+a.uri,code:Cg,xhr:a}:a.aborted?{status:a.status,message:"HLS request aborted at URL: "+a.uri,code:xg,xhr:a}:o?{status:a.status,message:"HLS request errored at URL: "+a.uri,code:kg,xhr:a}:"arraybuffer"===a.responseType&&0===a.response.byteLength?{status:a.status,message:"Empty HLS response at URL: "+a.uri,code:kg,xhr:a}:null},Ig=function handleKeyResponse(o,a,s){return function(u,l){var c=l.response,h=Ag(u,l);if(h)return s(h,o);if(16!==c.byteLength)return s({status:l.status,message:"Invalid HLS key at URL: "+l.uri,code:kg,xhr:l},o);for(var f=new DataView(c),p=new Uint32Array([f.getUint32(0),f.getUint32(4),f.getUint32(8),f.getUint32(12)]),m=0;m<a.length;m++)a[m].bytes=p;return s(null,o)}},Og=function parseInitSegment(o,a){var s=Hc(o.map.bytes);if("mp4"!==s){var u=o.map.resolvedUri||o.map.uri;return a({internal:!0,message:"Found unsupported "+(s||"unknown")+" container for initialization segment at URL: "+u,code:kg})}Eg({action:"probeMp4Tracks",data:o.map.bytes,transmuxer:o.transmuxer,callback:function callback(s){var u=s.tracks,l=s.data;return o.map.bytes=l,u.forEach((function(a){o.map.tracks=o.map.tracks||{},o.map.tracks[a.type]||(o.map.tracks[a.type]=a,"number"==typeof a.id&&a.timescale&&(o.map.timescales=o.map.timescales||{},o.map.timescales[a.id]=a.timescale))})),a(null)}})},Lg=function handleSegmentResponse(o){var a=o.segment,s=o.finishProcessingFn,u=o.responseType;return function(o,l){var c=Ag(o,l);if(c)return s(c,a);var h="arraybuffer"!==u&&l.responseText?function stringToArrayBuffer(o){for(var a=new Uint8Array(new ArrayBuffer(o.length)),s=0;s<o.length;s++)a[s]=o.charCodeAt(s);return a.buffer}(l.responseText.substring(a.lastReachedChar||0)):l.response;return a.stats=function getRequestStats(o){return{bandwidth:o.bandwidth,bytesReceived:o.bytesReceived||0,roundTripTime:o.roundTripTime||0}}(l),a.key?a.encryptedBytes=new Uint8Array(h):a.bytes=new Uint8Array(h),s(null,a)}},Mg=function transmuxAndNotify(o){var a=o.segment,s=o.bytes,u=o.trackInfoFn,l=o.timingInfoFn,c=o.videoSegmentTimingInfoFn,h=o.audioSegmentTimingInfoFn,f=o.id3Fn,p=o.captionsFn,m=o.isEndOfTimeline,g=o.endedTimelineFn,v=o.dataFn,y=o.doneFn,_=o.onTransmuxerLog,b=a.map&&a.map.tracks||{},T=Boolean(b.audio&&b.video),S=l.bind(null,a,"audio","start"),w=l.bind(null,a,"audio","end"),k=l.bind(null,a,"video","start"),x=l.bind(null,a,"video","end");Eg({action:"probeTs",transmuxer:a.transmuxer,data:s,baseStartTime:a.baseStartTime,callback:function callback(o){a.bytes=s=o.data;var l=o.result;l&&(u(a,{hasAudio:l.hasAudio,hasVideo:l.hasVideo,isMuxed:T}),u=null,l.hasAudio&&!T&&S(l.audioStart),l.hasVideo&&k(l.videoStart),S=null,k=null),function finish(){Tg({bytes:s,transmuxer:a.transmuxer,audioAppendStart:a.audioAppendStart,gopsToAlignWith:a.gopsToAlignWith,remux:T,onData:function onData(o){o.type="combined"===o.type?"video":o.type,v(a,o)},onTrackInfo:function onTrackInfo(o){u&&(T&&(o.isMuxed=!0),u(a,o))},onAudioTimingInfo:function onAudioTimingInfo(o){S&&void 0!==o.start&&(S(o.start),S=null),w&&void 0!==o.end&&w(o.end)},onVideoTimingInfo:function onVideoTimingInfo(o){k&&void 0!==o.start&&(k(o.start),k=null),x&&void 0!==o.end&&x(o.end)},onVideoSegmentTimingInfo:function onVideoSegmentTimingInfo(o){c(o)},onAudioSegmentTimingInfo:function onAudioSegmentTimingInfo(o){h(o)},onId3:function onId3(o,s){f(a,o,s)},onCaptions:function onCaptions(o){p(a,[o])},isEndOfTimeline:m,onEndedTimeline:function onEndedTimeline(){g()},onTransmuxerLog:_,onDone:function onDone(o){y&&(o.type="combined"===o.type?"video":o.type,y(null,a,o))}})}()}})},Dg=function handleSegmentBytes(o){var a=o.segment,s=o.bytes,u=o.trackInfoFn,l=o.timingInfoFn,c=o.videoSegmentTimingInfoFn,h=o.audioSegmentTimingInfoFn,f=o.id3Fn,p=o.captionsFn,m=o.isEndOfTimeline,g=o.endedTimelineFn,v=o.dataFn,y=o.doneFn,_=o.onTransmuxerLog,b=new Uint8Array(s);if(function isLikelyFmp4MediaSegment(o){return Ec(o,["moof"]).length>0}(b)){a.isFmp4=!0;var T=a.map.tracks,S={isFmp4:!0,hasVideo:!!T.video,hasAudio:!!T.audio};T.audio&&T.audio.codec&&"enca"!==T.audio.codec&&(S.audioCodec=T.audio.codec),T.video&&T.video.codec&&"encv"!==T.video.codec&&(S.videoCodec=T.video.codec),T.video&&T.audio&&(S.isMuxed=!0),u(a,S);var w=function finishLoading(o){v(a,{data:b,type:S.hasAudio&&!S.isMuxed?"audio":"video"}),o&&o.length&&p(a,o),y(null,a,{})};Eg({action:"probeMp4StartTime",timescales:a.map.timescales,data:b,transmuxer:a.transmuxer,callback:function callback(o){var u=o.data,c=o.startTime;s=u.buffer,a.bytes=b=u,S.hasAudio&&!S.isMuxed&&l(a,"audio","start",c),S.hasVideo&&l(a,"video","start",c),T.video&&u.byteLength&&a.transmuxer?Eg({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:a.transmuxer,data:b,timescales:a.map.timescales,trackIds:[T.video.id],callback:function callback(o){s=o.data.buffer,a.bytes=b=o.data,o.logs.forEach((function(o){_(videojs.mergeOptions(o,{stream:"mp4CaptionParser"}))})),w(o.captions)}}):w()}})}else if(a.transmuxer){if(void 0===a.container&&(a.container=Hc(b)),"ts"!==a.container&&"aac"!==a.container)return u(a,{hasAudio:!1,hasVideo:!1}),void y(null,a,{});Mg({segment:a,bytes:s,trackInfoFn:u,timingInfoFn:l,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:h,id3Fn:f,captionsFn:p,isEndOfTimeline:m,endedTimelineFn:g,dataFn:v,doneFn:y,onTransmuxerLog:_})}else y(null,a,{})},Rg=function decrypt(o,a){var s,u=o.id,l=o.key,c=o.encryptedBytes,h=o.decryptionWorker;h.addEventListener("message",(function decryptionHandler(o){if(o.data.source===u){h.removeEventListener("message",decryptionHandler);var s=o.data.decrypted;a(new Uint8Array(s.bytes,s.byteOffset,s.byteLength))}})),s=l.bytes.slice?l.bytes.slice():new Uint32Array(Array.prototype.slice.call(l.bytes)),h.postMessage(Km({source:u,encrypted:c,key:s,iv:l.iv}),[c.buffer,s.buffer])},Ng=function waitForCompletion(o){var a=o.activeXhrs,s=o.decryptionWorker,u=o.trackInfoFn,l=o.timingInfoFn,c=o.videoSegmentTimingInfoFn,h=o.audioSegmentTimingInfoFn,f=o.id3Fn,p=o.captionsFn,m=o.isEndOfTimeline,g=o.endedTimelineFn,v=o.dataFn,y=o.doneFn,_=o.onTransmuxerLog,b=0,T=!1;return function(o,S){if(!T){if(o)return T=!0,Pg(a),y(o,S);if((b+=1)===a.length){var w=function segmentFinish(){if(S.encryptedBytes)return function decryptSegment(o){var a=o.decryptionWorker,s=o.segment,u=o.trackInfoFn,l=o.timingInfoFn,c=o.videoSegmentTimingInfoFn,h=o.audioSegmentTimingInfoFn,f=o.id3Fn,p=o.captionsFn,m=o.isEndOfTimeline,g=o.endedTimelineFn,v=o.dataFn,y=o.doneFn,_=o.onTransmuxerLog;Rg({id:s.requestId,key:s.key,encryptedBytes:s.encryptedBytes,decryptionWorker:a},(function(o){s.bytes=o,Dg({segment:s,bytes:s.bytes,trackInfoFn:u,timingInfoFn:l,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:h,id3Fn:f,captionsFn:p,isEndOfTimeline:m,endedTimelineFn:g,dataFn:v,doneFn:y,onTransmuxerLog:_})}))}({decryptionWorker:s,segment:S,trackInfoFn:u,timingInfoFn:l,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:h,id3Fn:f,captionsFn:p,isEndOfTimeline:m,endedTimelineFn:g,dataFn:v,doneFn:y,onTransmuxerLog:_});Dg({segment:S,bytes:S.bytes,trackInfoFn:u,timingInfoFn:l,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:h,id3Fn:f,captionsFn:p,isEndOfTimeline:m,endedTimelineFn:g,dataFn:v,doneFn:y,onTransmuxerLog:_})};if(S.endOfAllRequests=Date.now(),S.map&&S.map.encryptedBytes&&!S.map.bytes)return Rg({decryptionWorker:s,id:S.requestId+"-init",encryptedBytes:S.map.encryptedBytes,key:S.map.key},(function(o){S.map.bytes=o,Og(S,(function(o){if(o)return Pg(a),y(o,S);w()}))}));w()}}}},Bg=function handleProgress(o){var a=o.segment,s=o.progressFn;return o.trackInfoFn,o.timingInfoFn,o.videoSegmentTimingInfoFn,o.audioSegmentTimingInfoFn,o.id3Fn,o.captionsFn,o.isEndOfTimeline,o.endedTimelineFn,o.dataFn,function(o){if(!o.target.aborted)return a.stats=videojs.mergeOptions(a.stats,function getProgressStats(o){var a=o.target,s={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-a.requestTime||0};return s.bytesReceived=o.loaded,s.bandwidth=Math.floor(s.bytesReceived/s.roundTripTime*8*1e3),s}(o)),!a.stats.firstBytesReceivedAt&&a.stats.bytesReceived&&(a.stats.firstBytesReceivedAt=Date.now()),s(o,a)}},Fg=function mediaSegmentRequest(o){var a=o.xhr,s=o.xhrOptions,u=o.decryptionWorker,l=o.segment,c=o.abortFn,h=o.progressFn,f=o.trackInfoFn,p=o.timingInfoFn,m=o.videoSegmentTimingInfoFn,g=o.audioSegmentTimingInfoFn,v=o.id3Fn,y=o.captionsFn,_=o.isEndOfTimeline,b=o.endedTimelineFn,T=o.dataFn,S=o.doneFn,w=o.onTransmuxerLog,k=[],x=Ng({activeXhrs:k,decryptionWorker:u,trackInfoFn:f,timingInfoFn:p,videoSegmentTimingInfoFn:m,audioSegmentTimingInfoFn:g,id3Fn:v,captionsFn:y,isEndOfTimeline:_,endedTimelineFn:b,dataFn:T,doneFn:S,onTransmuxerLog:w});if(l.key&&!l.key.bytes){var P=[l.key];l.map&&!l.map.bytes&&l.map.key&&l.map.key.resolvedUri===l.key.resolvedUri&&P.push(l.map.key);var I=a(videojs.mergeOptions(s,{uri:l.key.resolvedUri,responseType:"arraybuffer"}),Ig(l,P,x));k.push(I)}if(l.map&&!l.map.bytes){if(l.map.key&&(!l.key||l.key.resolvedUri!==l.map.key.resolvedUri)){var O=a(videojs.mergeOptions(s,{uri:l.map.key.resolvedUri,responseType:"arraybuffer"}),Ig(l,[l.map.key],x));k.push(O)}var L=a(videojs.mergeOptions(s,{uri:l.map.resolvedUri,responseType:"arraybuffer",headers:Gm(l.map)}),function handleInitSegmentResponse(o){var a=o.segment,s=o.finishProcessingFn;return function(o,u){var l=Ag(o,u);if(l)return s(l,a);var c=new Uint8Array(u.response);if(a.map.key)return a.map.encryptedBytes=c,s(null,a);a.map.bytes=c,Og(a,(function(o){if(o)return o.xhr=u,o.status=u.status,s(o,a);s(null,a)}))}}({segment:l,finishProcessingFn:x}));k.push(L)}var M=videojs.mergeOptions(s,{uri:l.part&&l.part.resolvedUri||l.resolvedUri,responseType:"arraybuffer",headers:Gm(l)}),D=a(M,Lg({segment:l,finishProcessingFn:x,responseType:M.responseType}));D.addEventListener("progress",Bg({segment:l,progressFn:h,trackInfoFn:f,timingInfoFn:p,videoSegmentTimingInfoFn:m,audioSegmentTimingInfoFn:g,id3Fn:v,captionsFn:y,isEndOfTimeline:_,endedTimelineFn:b,dataFn:T})),k.push(D);var R={};return k.forEach((function(o){o.addEventListener("loadend",function handleLoadEnd(o){var a=o.loadendState,s=o.abortFn;return function(o){o.target.aborted&&s&&!a.calledAbortFn&&(s(),a.calledAbortFn=!0)}}({loadendState:R,abortFn:c}))})),function(){return Pg(k)}},jg=tm("CodecUtils"),Ug=function isMaat(o,a){var s=a.attributes||{};return o&&o.mediaGroups&&o.mediaGroups.AUDIO&&s.AUDIO&&o.mediaGroups.AUDIO[s.AUDIO]},Hg=function unwrapCodecList(o){var a={};return o.forEach((function(o){var s=o.mediaType,u=o.type,l=o.details;a[s]=a[s]||[],a[s].push(sl(""+u+l))})),Object.keys(a).forEach((function(o){if(a[o].length>1)return jg("multiple "+o+" codecs found as attributes: "+a[o].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),void(a[o]=null);a[o]=a[o][0]})),a},qg=function codecCount(o){var a=0;return o.audio&&a++,o.video&&a++,a},Vg=function codecsForPlaylist(o,a){var s=a.attributes||{},u=Hg(function getCodecs(o){var a=o.attributes||{};if(a.CODECS)return ul(a.CODECS)}(a)||[]);if(Ug(o,a)&&!u.audio&&!function isMuxed(o,a){if(!Ug(o,a))return!0;var s=a.attributes||{},u=o.mediaGroups.AUDIO[s.AUDIO];for(var l in u)if(!u[l].uri&&!u[l].playlists)return!0;return!1}(o,a)){var l=Hg(function codecsFromDefault(o,a){if(!o.mediaGroups.AUDIO||!a)return null;var s=o.mediaGroups.AUDIO[a];if(!s)return null;for(var u in s){var l=s[u];if(l.default&&l.playlists)return ul(l.playlists[0].attributes.CODECS)}return null}(o,s.AUDIO)||[]);l.audio&&(u.audio=l.audio)}return u},Wg=tm("PlaylistSelector"),zg=function representationToString(o){if(o&&o.playlist){var a=o.playlist;return JSON.stringify({id:a.id,bandwidth:o.bandwidth,width:o.width,height:o.height,codecs:a.attributes&&a.attributes.CODECS||""})}},Gg=function safeGetComputedStyle(o,a){if(!o)return"";var s=Su.a.getComputedStyle(o);return s?s[a]:""},Xg=function stableSort(o,a){var s=o.slice();o.sort((function(o,u){var l=a(o,u);return 0===l?s.indexOf(o)-s.indexOf(u):l}))},Yg=function comparePlaylistBandwidth(o,a){var s,u;return o.attributes.BANDWIDTH&&(s=o.attributes.BANDWIDTH),s=s||Su.a.Number.MAX_VALUE,a.attributes.BANDWIDTH&&(u=a.attributes.BANDWIDTH),s-(u=u||Su.a.Number.MAX_VALUE)},$g=function simpleSelector(o,a,s,u,l,c){if(o){var h={bandwidth:a,width:s,height:u,limitRenditionByPlayerDimensions:l},f=o.playlists;xm.isAudioOnly(o)&&(f=c.getAudioTrackPlaylists_(),h.audioOnly=!0);var p=f.map((function(o){var a=o.attributes&&o.attributes.RESOLUTION&&o.attributes.RESOLUTION.width,s=o.attributes&&o.attributes.RESOLUTION&&o.attributes.RESOLUTION.height;return{bandwidth:o.attributes&&o.attributes.BANDWIDTH||Su.a.Number.MAX_VALUE,width:a,height:s,playlist:o}}));Xg(p,(function(o,a){return o.bandwidth-a.bandwidth}));var m=(p=p.filter((function(o){return!xm.isIncompatible(o.playlist)}))).filter((function(o){return xm.isEnabled(o.playlist)}));m.length||(m=p.filter((function(o){return!xm.isDisabled(o.playlist)})));var g=m.filter((function(o){return o.bandwidth*dg.BANDWIDTH_VARIANCE<a})),v=g[g.length-1],y=g.filter((function(o){return o.bandwidth===v.bandwidth}))[0];if(!1===l){var _=y||m[0]||p[0];if(_&&_.playlist){var b="sortedPlaylistReps";return y&&(b="bandwidthBestRep"),m[0]&&(b="enabledPlaylistReps"),Wg("choosing "+zg(_)+" using "+b+" with options",h),_.playlist}return Wg("could not choose a playlist with options",h),null}var T=g.filter((function(o){return o.width&&o.height}));Xg(T,(function(o,a){return o.width-a.width}));var S=T.filter((function(o){return o.width===s&&o.height===u}));v=S[S.length-1];var w,k,x,P,I=S.filter((function(o){return o.bandwidth===v.bandwidth}))[0];if(I||(k=(w=T.filter((function(o){return o.width>s||o.height>u}))).filter((function(o){return o.width===w[0].width&&o.height===w[0].height})),v=k[k.length-1],x=k.filter((function(o){return o.bandwidth===v.bandwidth}))[0]),c.experimentalLeastPixelDiffSelector){var O=T.map((function(o){return o.pixelDiff=Math.abs(o.width-s)+Math.abs(o.height-u),o}));Xg(O,(function(o,a){return o.pixelDiff===a.pixelDiff?a.bandwidth-o.bandwidth:o.pixelDiff-a.pixelDiff})),P=O[0]}var L=P||x||I||y||m[0]||p[0];if(L&&L.playlist){var M="sortedPlaylistReps";return P?M="leastPixelDiffRep":x?M="resolutionPlusOneRep":I?M="resolutionBestRep":y?M="bandwidthBestRep":m[0]&&(M="enabledPlaylistReps"),Wg("choosing "+zg(L)+" using "+M+" with options",h),L.playlist}return Wg("could not choose a playlist with options",h),null}},Kg=function lastBandwidthSelector(){var o=this.useDevicePixelRatio&&Su.a.devicePixelRatio||1;return $g(this.playlists.master,this.systemBandwidth,parseInt(Gg(this.tech_.el(),"width"),10)*o,parseInt(Gg(this.tech_.el(),"height"),10)*o,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},Qg=function addMetadata(o){var a=o.inbandTextTracks,s=o.metadataArray,u=o.timestampOffset,l=o.videoDuration;if(s){var c=Su.a.WebKitDataCue||Su.a.VTTCue,h=a.metadataTrack_;if(h&&(s.forEach((function(o){var a=o.cueTime+u;!("number"!=typeof a||Su.a.isNaN(a)||a<0)&&a<1/0&&o.frames.forEach((function(o){var s=new c(a,a,o.value||o.url||o.data||"");s.frame=o,s.value=o,function deprecateOldCue(o){Object.defineProperties(o.frame,{id:{get:function get(){return videojs.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),o.value.key}},value:{get:function get(){return videojs.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),o.value.data}},privateData:{get:function get(){return videojs.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),o.value.data}}})}(s),h.addCue(s)}))})),h.cues&&h.cues.length)){for(var f=h.cues,p=[],m=0;m<f.length;m++)f[m]&&p.push(f[m]);var g=p.reduce((function(o,a){var s=o[a.startTime]||[];return s.push(a),o[a.startTime]=s,o}),{}),v=Object.keys(g).sort((function(o,a){return Number(o)-Number(a)}));v.forEach((function(o,a){var s=g[o],u=Number(v[a+1])||l;s.forEach((function(o){o.endTime=u}))}))}}},Jg=function removeCuesFromTrack(o,a,s){var u,l;if(s&&s.cues)for(u=s.cues.length;u--;)(l=s.cues[u]).startTime>=o&&l.endTime<=a&&s.removeCue(l)},Zg=function finite(o){return"number"==typeof o&&isFinite(o)},ev=1/60,tv=function segmentInfoString(o){var a=o.startOfSegment,s=o.duration,u=o.segment,l=o.part,c=o.playlist,h=c.mediaSequence,f=c.id,p=c.segments,m=void 0===p?[]:p,g=o.mediaIndex,v=o.partIndex,y=o.timeline,_=m.length-1,b="mediaIndex/partIndex increment";o.getMediaInfoForTime?b="getMediaInfoForTime ("+o.getMediaInfoForTime+")":o.isSyncRequest&&(b="getSyncSegmentCandidate (isSyncRequest)");var T="number"==typeof v,S=o.segment.uri?"segment":"pre-segment",w=T?fm({preloadSegment:u})-1:0;return S+" ["+(h+g)+"/"+(h+_)+"]"+(T?" part ["+v+"/"+w+"]":"")+" segment start/end ["+u.start+" => "+u.end+"]"+(T?" part start/end ["+l.start+" => "+l.end+"]":"")+" startOfSegment ["+a+"] duration ["+s+"] timeline ["+y+"] selected by ["+b+"] playlist ["+f+"]"},nv=function timingInfoPropertyForMedia(o){return o+"TimingInfo"},rv=function shouldWaitForTimelineChange(o){var a=o.timelineChangeController,s=o.currentTimeline,u=o.segmentTimeline,l=o.loaderType,c=o.audioDisabled;if(s===u)return!1;if("audio"===l){var h=a.lastTimelineChange({type:"main"});return!h||h.to!==u}if("main"===l&&c){var f=a.pendingTimelineChange({type:"audio"});return!f||f.to!==u}return!1},iv=function segmentTooLong(o){var a=o.segmentDuration,s=o.maxDuration;return!!a&&Math.round(a)>s+nm},ov=function getTroublesomeSegmentDurationMessage(o,a){if("hls"!==a)return null;var s=function mediaDuration(o,a){var s=o&&"number"==typeof o.start&&"number"==typeof o.end?o.end-o.start:0,u=a&&"number"==typeof a.start&&"number"==typeof a.end?a.end-a.start:0;return Math.max(s,u)}(o.audioTimingInfo,o.videoTimingInfo);if(!s)return null;var u=o.playlist.targetDuration,l=iv({segmentDuration:s,maxDuration:2*u}),c=iv({segmentDuration:s,maxDuration:u}),h="Segment with index "+o.mediaIndex+" from playlist "+o.playlist.id+" has a duration of "+s+" when the reported duration is "+o.duration+" and the target duration is "+u+". For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return l||c?{severity:l?"warn":"info",message:h}:null},av=function(o){function SegmentLoader(a,s){var u;if(u=o.call(this)||this,!a)throw new TypeError("Initialization settings are required");if("function"!=typeof a.currentTime)throw new TypeError("No currentTime getter specified");if(!a.mediaSource)throw new TypeError("No MediaSource specified");return u.bandwidth=a.bandwidth,u.throughput={rate:0,count:0},u.roundTrip=NaN,u.resetStats_(),u.mediaIndex=null,u.partIndex=null,u.hasPlayed_=a.hasPlayed,u.currentTime_=a.currentTime,u.seekable_=a.seekable,u.seeking_=a.seeking,u.duration_=a.duration,u.mediaSource_=a.mediaSource,u.vhs_=a.vhs,u.loaderType_=a.loaderType,u.currentMediaInfo_=void 0,u.startingMediaInfo_=void 0,u.segmentMetadataTrack_=a.segmentMetadataTrack,u.goalBufferLength_=a.goalBufferLength,u.sourceType_=a.sourceType,u.sourceUpdater_=a.sourceUpdater,u.inbandTextTracks_=a.inbandTextTracks,u.state_="INIT",u.timelineChangeController_=a.timelineChangeController,u.shouldSaveSegmentTimingInfo_=!0,u.parse708captions_=a.parse708captions,u.experimentalExactManifestTimings=a.experimentalExactManifestTimings,u.checkBufferTimeout_=null,u.error_=void 0,u.currentTimeline_=-1,u.pendingSegment_=null,u.xhrOptions_=null,u.pendingSegments_=[],u.audioDisabled_=!1,u.isPendingTimestampOffset_=!1,u.gopBuffer_=[],u.timeMapping_=0,u.safeAppend_=videojs.browser.IE_VERSION>=11,u.appendInitSegment_={audio:!0,video:!0},u.playlistOfLastInitSegment_={audio:null,video:null},u.callQueue_=[],u.loadQueue_=[],u.metadataQueue_={id3:[],caption:[]},u.waitingOnRemove_=!1,u.quotaExceededErrorRetryTimeout_=null,u.activeInitSegmentId_=null,u.initSegments_={},u.cacheEncryptionKeys_=a.cacheEncryptionKeys,u.keyCache_={},u.decrypter_=a.decrypter,u.syncController_=a.syncController,u.syncPoint_={segmentIndex:0,time:0},u.transmuxer_=u.createTransmuxer_(),u.triggerSyncInfoUpdate_=function(){return u.trigger("syncinfoupdate")},u.syncController_.on("syncinfoupdate",u.triggerSyncInfoUpdate_),u.mediaSource_.addEventListener("sourceopen",(function(){u.isEndOfStream_()||(u.ended_=!1)})),u.fetchAtBuffer_=!1,u.logger_=tm("SegmentLoader["+u.loaderType_+"]"),Object.defineProperty(Pu()(u),"state",{get:function get(){return this.state_},set:function set(o){o!==this.state_&&(this.logger_(this.state_+" -> "+o),this.state_=o,this.trigger("statechange"))}}),u.sourceUpdater_.on("ready",(function(){u.hasEnoughInfoToAppend_()&&u.processCallQueue_()})),"main"===u.loaderType_&&u.timelineChangeController_.on("pendingtimelinechange",(function(){u.hasEnoughInfoToAppend_()&&u.processCallQueue_()})),"audio"===u.loaderType_&&u.timelineChangeController_.on("timelinechange",(function(){u.hasEnoughInfoToLoad_()&&u.processLoadQueue_(),u.hasEnoughInfoToAppend_()&&u.processCallQueue_()})),u}Iu()(SegmentLoader,o);var a=SegmentLoader.prototype;return a.createTransmuxer_=function createTransmuxer_(){return wg({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_})},a.resetStats_=function resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},a.dispose=function dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&Su.a.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},a.setAudio=function setAudio(o){this.audioDisabled_=!o,o?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},a.abort=function abort(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)},a.abort_=function abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,Su.a.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},a.checkForAbort_=function checkForAbort_(o){return"APPENDING"!==this.state||this.pendingSegment_?!this.pendingSegment_||this.pendingSegment_.requestId!==o:(this.state="READY",!0)},a.error=function error(o){return void 0!==o&&(this.logger_("error occurred:",o),this.error_=o),this.pendingSegment_=null,this.error_},a.endOfStream=function endOfStream(){this.ended_=!0,this.transmuxer_&&Sg(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},a.buffered_=function buffered_(){var o=this.getMediaInfo_();if(!this.sourceUpdater_||!o)return videojs.createTimeRanges();if("main"===this.loaderType_){var a=o.hasAudio,s=o.hasVideo,u=o.isMuxed;if(s&&a&&!this.audioDisabled_&&!u)return this.sourceUpdater_.buffered();if(s)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},a.initSegmentForMap=function initSegmentForMap(o,a){if(void 0===a&&(a=!1),!o)return null;var s=Qm(o),u=this.initSegments_[s];return a&&!u&&o.bytes&&(this.initSegments_[s]=u={resolvedUri:o.resolvedUri,byterange:o.byterange,bytes:o.bytes,tracks:o.tracks,timescales:o.timescales}),u||o},a.segmentKey=function segmentKey(o,a){if(void 0===a&&(a=!1),!o)return null;var s=Jm(o),u=this.keyCache_[s];this.cacheEncryptionKeys_&&a&&!u&&o.bytes&&(this.keyCache_[s]=u={resolvedUri:o.resolvedUri,bytes:o.bytes});var l={resolvedUri:(u||o).resolvedUri};return u&&(l.bytes=u.bytes),l},a.couldBeginLoading_=function couldBeginLoading_(){return this.playlist_&&!this.paused()},a.load=function load(){if(this.monitorBuffer_(),this.playlist_)return"INIT"===this.state&&this.couldBeginLoading_()?this.init_():void(!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY"))},a.init_=function init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},a.playlist=function playlist(o,a){if(void 0===a&&(a={}),o){var s=this.playlist_,u=this.pendingSegment_;this.playlist_=o,this.xhrOptions_=a,"INIT"===this.state&&(o.syncInfo={mediaSequence:o.mediaSequence,time:0},"main"===this.loaderType_&&this.syncController_.setDateTimeMappingForStart(o));var l=null;if(s&&(s.id?l=s.id:s.uri&&(l=s.uri)),this.logger_("playlist update ["+l+" => "+(o.id||o.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!s||s.uri!==o.uri)return null!==this.mediaIndex&&this.resyncLoader(),this.currentMediaInfo_=void 0,void this.trigger("playlistupdate");var c=o.mediaSequence-s.mediaSequence;if(this.logger_("live window shift ["+c+"]"),null!==this.mediaIndex)if(this.mediaIndex-=c,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{var h=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!h.parts||!h.parts.length||!h.parts[this.partIndex])){var f=this.mediaIndex;this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=f}}u&&(u.mediaIndex-=c,u.mediaIndex<0?(u.mediaIndex=null,u.partIndex=null):(u.mediaIndex>=0&&(u.segment=o.segments[u.mediaIndex]),u.partIndex>=0&&u.segment.parts&&(u.part=u.segment.parts[u.partIndex]))),this.syncController_.saveExpiredSegmentInfo(s,o)}},a.pause=function pause(){this.checkBufferTimeout_&&(Su.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},a.paused=function paused(){return null===this.checkBufferTimeout_},a.resetEverything=function resetEverything(o){this.ended_=!1,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,o),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"})},a.resetLoader=function resetLoader(){this.fetchAtBuffer_=!1,this.resyncLoader()},a.resyncLoader=function resyncLoader(){this.transmuxer_&&Sg(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},a.remove=function remove(o,a,s,u){if(void 0===s&&(s=function done(){}),void 0===u&&(u=!1),a===1/0&&(a=this.duration_()),a<=o)this.logger_("skipping remove because end ${end} is <= start ${start}");else if(this.sourceUpdater_&&this.getMediaInfo_()){var l=1,c=function removeFinished(){0===--l&&s()};for(var h in!u&&this.audioDisabled_||(l++,this.sourceUpdater_.removeAudio(o,a,c)),(u||"main"===this.loaderType_)&&(this.gopBuffer_=function removeGopBuffer(o,a,s,u){for(var l=Math.ceil((a-u)*qc.ONE_SECOND_IN_TS),c=Math.ceil((s-u)*qc.ONE_SECOND_IN_TS),h=o.slice(),f=o.length;f--&&!(o[f].pts<=c););if(-1===f)return h;for(var p=f+1;p--&&!(o[p].pts<=l););return p=Math.max(p,0),h.splice(p,f-p+1),h}(this.gopBuffer_,o,a,this.timeMapping_),l++,this.sourceUpdater_.removeVideo(o,a,c)),this.inbandTextTracks_)Jg(o,a,this.inbandTextTracks_[h]);Jg(o,a,this.segmentMetadataTrack_),c()}else this.logger_("skipping remove because no source updater or starting media info")},a.monitorBuffer_=function monitorBuffer_(){this.checkBufferTimeout_&&Su.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=Su.a.setTimeout(this.monitorBufferTick_.bind(this),1)},a.monitorBufferTick_=function monitorBufferTick_(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&Su.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=Su.a.setTimeout(this.monitorBufferTick_.bind(this),500)},a.fillBuffer_=function fillBuffer_(){if(!this.sourceUpdater_.updating()){var o=this.chooseNextRequest_();o&&("number"==typeof o.timestampOffset&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:o.timeline})),this.loadSegment_(o))}},a.isEndOfStream_=function isEndOfStream_(o,a,s){if(void 0===o&&(o=this.mediaIndex),void 0===a&&(a=this.playlist_),void 0===s&&(s=this.partIndex),!a||!this.mediaSource_)return!1;var u="number"==typeof o&&a.segments[o],l=o+1===a.segments.length,c=!u||!u.parts||s+1===u.parts.length;return a.endList&&"open"===this.mediaSource_.readyState&&l&&c},a.chooseNextRequest_=function chooseNextRequest_(){var o=lm(this.buffered_())||0,a=Math.max(0,o-this.currentTime_()),s=!this.hasPlayed_()&&a>=1,u=a>=this.goalBufferLength_(),l=this.playlist_.segments;if(!l.length||s||u)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var c={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(c.isSyncRequest)c.mediaIndex=function getSyncSegmentCandidate(o,a,s){a=a||[];for(var u=[],l=0,c=0;c<a.length;c++){var h=a[c];if(o===h.timeline&&(u.push(c),(l+=h.duration)>s))return c}return 0===u.length?0:u[u.length-1]}(this.currentTimeline_,l,o);else if(null!==this.mediaIndex){var h=l[this.mediaIndex],f="number"==typeof this.partIndex?this.partIndex:-1;c.startOfSegment=h.end?h.end:o,h.parts&&h.parts[f+1]?(c.mediaIndex=this.mediaIndex,c.partIndex=f+1):c.mediaIndex=this.mediaIndex+1}else{var p=xm.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?o:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),m=p.segmentIndex,g=p.startTime,v=p.partIndex;c.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd":"currentTime",c.mediaIndex=m,c.startOfSegment=g,c.partIndex=v}var y=l[c.mediaIndex],_=y&&"number"==typeof c.partIndex&&y.parts&&y.parts[c.partIndex];if(!y||"number"==typeof c.partIndex&&!_)return null;"number"!=typeof c.partIndex&&y.parts&&(c.partIndex=0);var b=this.mediaSource_&&"ended"===this.mediaSource_.readyState;return c.mediaIndex>=l.length-1&&b&&!this.seeking_()?null:this.generateSegmentInfo_(c)},a.generateSegmentInfo_=function generateSegmentInfo_(o){var a=o.playlist,s=o.mediaIndex,u=o.startOfSegment,l=o.isSyncRequest,c=o.partIndex,h=o.forceTimestampOffset,f=o.getMediaInfoForTime,p=a.segments[s],m="number"==typeof c&&p.parts[c],g={requestId:"segment-loader-"+Math.random(),uri:m&&m.resolvedUri||p.resolvedUri,mediaIndex:s,partIndex:m?c:null,isSyncRequest:l,startOfSegment:u,playlist:a,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:p.timeline,duration:m&&m.duration||p.duration,segment:p,part:m,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:f},v=void 0!==h?h:this.isPendingTimestampOffset_;g.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:p.timeline,currentTimeline:this.currentTimeline_,startOfSegment:u,buffered:this.buffered_(),overrideCheck:v});var y=lm(this.sourceUpdater_.audioBuffered());return"number"==typeof y&&(g.audioAppendStart=y-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(g.gopsToAlignWith=function gopsSafeToAlignWith(o,a,s){if(null==a||!o.length)return[];var u,l=Math.ceil((a-s+3)*qc.ONE_SECOND_IN_TS);for(u=0;u<o.length&&!(o[u].pts>l);u++);return o.slice(u)}(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),g},a.timestampOffsetForSegment_=function timestampOffsetForSegment_(o){return function timestampOffsetForSegment(o){var a=o.segmentTimeline,s=o.currentTimeline,u=o.startOfSegment,l=o.buffered;return o.overrideCheck||a!==s?a<s?u:l.length?l.end(l.length-1):u:null}(o)},a.earlyAbortWhenNeeded_=function earlyAbortWhenNeeded_(o){if(!this.vhs_.tech_.paused()&&this.xhrOptions_.timeout&&this.playlist_.attributes.BANDWIDTH&&!(Date.now()-(o.firstBytesReceivedAt||Date.now())<1e3)){var a=this.currentTime_(),s=o.bandwidth,u=this.pendingSegment_.duration,l=xm.estimateSegmentRequestTime(u,s,this.playlist_,o.bytesReceived),c=function timeUntilRebuffer(o,a,s){return void 0===s&&(s=1),((o.length?o.end(o.length-1):0)-a)/s}(this.buffered_(),a,this.vhs_.tech_.playbackRate())-1;if(!(l<=c)){var h=function minRebufferMaxBandwidthSelector(o){var a=o.master,s=o.currentTime,u=o.bandwidth,l=o.duration,c=o.segmentDuration,h=o.timeUntilRebuffer,f=o.currentTimeline,p=o.syncController,m=a.playlists.filter((function(o){return!xm.isIncompatible(o)})),g=m.filter(xm.isEnabled);g.length||(g=m.filter((function(o){return!xm.isDisabled(o)})));var v=g.filter(xm.hasAttribute.bind(null,"BANDWIDTH")).map((function(o){var a=p.getSyncPoint(o,l,f,s)?1:2;return{playlist:o,rebufferingImpact:xm.estimateSegmentRequestTime(c,u,o)*a-h}})),y=v.filter((function(o){return o.rebufferingImpact<=0}));return Xg(y,(function(o,a){return Yg(a.playlist,o.playlist)})),y.length?y[0]:(Xg(v,(function(o,a){return o.rebufferingImpact-a.rebufferingImpact})),v[0]||null)}({master:this.vhs_.playlists.master,currentTime:a,bandwidth:s,duration:this.duration_(),segmentDuration:u,timeUntilRebuffer:c,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(h){var f=l-c-h.rebufferingImpact,p=.5;c<=nm&&(p=1),!h.playlist||h.playlist.uri===this.playlist_.uri||f<p||(this.bandwidth=h.playlist.attributes.BANDWIDTH*dg.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},a.handleAbort_=function handleAbort_(o){this.logger_("Aborting "+tv(o)),this.mediaRequestsAborted+=1},a.handleProgress_=function handleProgress_(o,a){this.earlyAbortWhenNeeded_(a.stats),this.checkForAbort_(a.requestId)||this.trigger("progress")},a.handleTrackInfo_=function handleTrackInfo_(o,a){this.earlyAbortWhenNeeded_(o.stats),this.checkForAbort_(o.requestId)||this.checkForIllegalMediaSwitch(a)||(a=a||{},function shallowEqual(o,a){if(!o&&!a||!o&&a||o&&!a)return!1;if(o===a)return!0;var s=Object.keys(o).sort(),u=Object.keys(a).sort();if(s.length!==u.length)return!1;for(var l=0;l<s.length;l++){var c=s[l];if(c!==u[l])return!1;if(o[c]!==a[c])return!1}return!0}(this.currentMediaInfo_,a)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=a,this.currentMediaInfo_=a,this.logger_("trackinfo update",a),this.trigger("trackinfo")),this.checkForAbort_(o.requestId)||(this.pendingSegment_.trackInfo=a,this.hasEnoughInfoToAppend_()&&this.processCallQueue_()))},a.handleTimingInfo_=function handleTimingInfo_(o,a,s,u){if(this.earlyAbortWhenNeeded_(o.stats),!this.checkForAbort_(o.requestId)){var l=this.pendingSegment_,c=nv(a);l[c]=l[c]||{},l[c][s]=u,this.logger_("timinginfo: "+a+" - "+s+" - "+u),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},a.handleCaptions_=function handleCaptions_(o,a){var s=this;if(this.earlyAbortWhenNeeded_(o.stats),!this.checkForAbort_(o.requestId))if(0!==a.length)if(this.pendingSegment_.hasAppendedData_){var u=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),l={};a.forEach((function(o){l[o.stream]=l[o.stream]||{startTime:1/0,captions:[],endTime:0};var a=l[o.stream];a.startTime=Math.min(a.startTime,o.startTime+u),a.endTime=Math.max(a.endTime,o.endTime+u),a.captions.push(o)})),Object.keys(l).forEach((function(o){var a=l[o],c=a.startTime,h=a.endTime,f=a.captions,p=s.inbandTextTracks_;s.logger_("adding cues from "+c+" -> "+h+" for "+o),function createCaptionsTrackIfNotExists(o,a,s){if(!o[s]){a.trigger({type:"usage",name:"vhs-608"}),a.trigger({type:"usage",name:"hls-608"});var u=s;/^cc708_/.test(s)&&(u="SERVICE"+s.split("_")[1]);var l=a.textTracks().getTrackById(u);if(l)o[s]=l;else{var c=s,h=s,f=!1,p=(a.options_.vhs&&a.options_.vhs.captionServices||{})[u];p&&(c=p.label,h=p.language,f=p.default),o[s]=a.addRemoteTextTrack({kind:"captions",id:u,default:f,label:c,language:h},!1).track}}}(p,s.vhs_.tech_,o),Jg(c,h,p[o]),function addCaptionData(o){var a=o.inbandTextTracks,s=o.captionArray,u=o.timestampOffset;if(s){var l=Su.a.WebKitDataCue||Su.a.VTTCue;s.forEach((function(o){var s=o.stream;a[s].addCue(new l(o.startTime+u,o.endTime+u,o.text))}))}}({captionArray:f,inbandTextTracks:p,timestampOffset:u})})),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}else this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,o,a));else this.logger_("SegmentLoader received no captions from a caption event")},a.handleId3_=function handleId3_(o,a,s){if(this.earlyAbortWhenNeeded_(o.stats),!this.checkForAbort_(o.requestId))if(this.pendingSegment_.hasAppendedData_){var u=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();!function createMetadataTrackIfNotExists(o,a,s){o.metadataTrack_||(o.metadataTrack_=s.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,o.metadataTrack_.inBandMetadataTrackDispatchType=a)}(this.inbandTextTracks_,s,this.vhs_.tech_),Qg({inbandTextTracks:this.inbandTextTracks_,metadataArray:a,timestampOffset:u,videoDuration:this.duration_()})}else this.metadataQueue_.id3.push(this.handleId3_.bind(this,o,a,s))},a.processMetadataQueue_=function processMetadataQueue_(){this.metadataQueue_.id3.forEach((function(o){return o()})),this.metadataQueue_.caption.forEach((function(o){return o()})),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},a.processCallQueue_=function processCallQueue_(){var o=this.callQueue_;this.callQueue_=[],o.forEach((function(o){return o()}))},a.processLoadQueue_=function processLoadQueue_(){var o=this.loadQueue_;this.loadQueue_=[],o.forEach((function(o){return o()}))},a.hasEnoughInfoToLoad_=function hasEnoughInfoToLoad_(){if("audio"!==this.loaderType_)return!0;var o=this.pendingSegment_;return!!o&&(!this.getCurrentMediaInfo_()||!rv({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:o.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},a.getCurrentMediaInfo_=function getCurrentMediaInfo_(o){return void 0===o&&(o=this.pendingSegment_),o&&o.trackInfo||this.currentMediaInfo_},a.getMediaInfo_=function getMediaInfo_(o){return void 0===o&&(o=this.pendingSegment_),this.getCurrentMediaInfo_(o)||this.startingMediaInfo_},a.hasEnoughInfoToAppend_=function hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready())return!1;if(this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var o=this.pendingSegment_,a=this.getCurrentMediaInfo_();if(!o||!a)return!1;var s=a.hasAudio,u=a.hasVideo,l=a.isMuxed;return!(u&&!o.videoTimingInfo)&&(!(s&&!this.audioDisabled_&&!l&&!o.audioTimingInfo)&&!rv({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:o.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},a.handleData_=function handleData_(o,a){if(this.earlyAbortWhenNeeded_(o.stats),!this.checkForAbort_(o.requestId))if(!this.callQueue_.length&&this.hasEnoughInfoToAppend_()){var s=this.pendingSegment_;if(this.setTimeMapping_(s.timeline),this.updateMediaSecondsLoaded_(s.segment),"closed"!==this.mediaSource_.readyState){if(o.map&&(o.map=this.initSegmentForMap(o.map,!0),s.segment.map=o.map),o.key&&this.segmentKey(o.key,!0),s.isFmp4=o.isFmp4,s.timingInfo=s.timingInfo||{},s.isFmp4)this.trigger("fmp4"),s.timingInfo.start=s[nv(a.type)].start;else{var u,l=this.getCurrentMediaInfo_(),c="main"===this.loaderType_&&l&&l.hasVideo;c&&(u=s.videoTimingInfo.start),s.timingInfo.start=this.trueSegmentStart_({currentStart:s.timingInfo.start,playlist:s.playlist,mediaIndex:s.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:c,firstVideoFrameTimeForData:u,videoTimingInfo:s.videoTimingInfo,audioTimingInfo:s.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(s,a.type),this.updateSourceBufferTimestampOffset_(s),s.isSyncRequest){this.updateTimingInfoEnd_(s),this.syncController_.saveSegmentTimingInfo({segmentInfo:s,shouldSaveTimelineMapping:"main"===this.loaderType_});var h=this.chooseNextRequest_();if(h.mediaIndex!==s.mediaIndex||h.partIndex!==s.partIndex)return void this.logger_("sync segment was incorrect, not appending");this.logger_("sync segment was correct, appending")}s.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(s,a)}}else this.callQueue_.push(this.handleData_.bind(this,o,a))},a.updateAppendInitSegmentStatus=function updateAppendInitSegmentStatus(o,a){"main"!==this.loaderType_||"number"!=typeof o.timestampOffset||o.changedTimestampOffset||(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[a]!==o.playlist&&(this.appendInitSegment_[a]=!0)},a.getInitSegmentAndUpdateState_=function getInitSegmentAndUpdateState_(o){var a=o.type,s=o.initSegment,u=o.map,l=o.playlist;if(u){var c=Qm(u);if(this.activeInitSegmentId_===c)return null;s=this.initSegmentForMap(u,!0).bytes,this.activeInitSegmentId_=c}return s&&this.appendInitSegment_[a]?(this.playlistOfLastInitSegment_[a]=l,this.appendInitSegment_[a]=!1,this.activeInitSegmentId_=null,s):null},a.handleQuotaExceededError_=function handleQuotaExceededError_(o,a){var s=this,u=o.segmentInfo,l=o.type,c=o.bytes,h=this.sourceUpdater_.audioBuffered(),f=this.sourceUpdater_.videoBuffered();h.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+um(h).join(", ")),f.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+um(f).join(", "));var p=h.length?h.start(0):0,m=h.length?h.end(h.length-1):0,g=f.length?f.start(0):0,v=f.length?f.end(f.length-1):0;if(m-p<=1&&v-g<=1)return this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: "+c.byteLength+", audio buffer: "+um(h).join(", ")+", video buffer: "+um(f).join(", ")+", "),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),void this.trigger("error");this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:u,type:l,bytes:c}));var y=this.currentTime_()-1;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+y),this.remove(0,y,(function(){s.logger_("On QUOTA_EXCEEDED_ERR, retrying append in 1s"),s.waitingOnRemove_=!1,s.quotaExceededErrorRetryTimeout_=Su.a.setTimeout((function(){s.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),s.quotaExceededErrorRetryTimeout_=null,s.processCallQueue_()}),1e3)}),!0)},a.handleAppendError_=function handleAppendError_(o,a){var s=o.segmentInfo,u=o.type,l=o.bytes;a&&(22!==a.code?(this.logger_("Received non QUOTA_EXCEEDED_ERR on append",a),this.error(u+" append of "+l.length+"b failed for segment #"+s.mediaIndex+" in playlist "+s.playlist.id),this.trigger("appenderror")):this.handleQuotaExceededError_({segmentInfo:s,type:u,bytes:l}))},a.appendToSourceBuffer_=function appendToSourceBuffer_(o){var a=o.segmentInfo,s=o.type,u=o.initSegment,l=o.data,c=o.bytes;if(!c){var h=[l],f=l.byteLength;u&&(h.unshift(u),f+=u.byteLength),c=function concatSegments(o){var a,s=0;return o.bytes&&(a=new Uint8Array(o.bytes),o.segments.forEach((function(o){a.set(o,s),s+=o.byteLength}))),a}({bytes:f,segments:h})}this.sourceUpdater_.appendBuffer({segmentInfo:a,type:s,bytes:c},this.handleAppendError_.bind(this,{segmentInfo:a,type:s,bytes:c}))},a.handleSegmentTimingInfo_=function handleSegmentTimingInfo_(o,a,s){if(this.pendingSegment_&&a===this.pendingSegment_.requestId){var u=this.pendingSegment_.segment,l=o+"TimingInfo";u[l]||(u[l]={}),u[l].transmuxerPrependedSeconds=s.prependedContentDuration||0,u[l].transmuxedPresentationStart=s.start.presentation,u[l].transmuxedDecodeStart=s.start.decode,u[l].transmuxedPresentationEnd=s.end.presentation,u[l].transmuxedDecodeEnd=s.end.decode,u[l].baseMediaDecodeTime=s.baseMediaDecodeTime}},a.appendData_=function appendData_(o,a){var s=a.type,u=a.data;if(u&&u.byteLength&&("audio"!==s||!this.audioDisabled_)){var l=this.getInitSegmentAndUpdateState_({type:s,initSegment:a.initSegment,playlist:o.playlist,map:o.isFmp4?o.segment.map:null});this.appendToSourceBuffer_({segmentInfo:o,type:s,initSegment:l,data:u})}},a.loadSegment_=function loadSegment_(o){var a=this;this.state="WAITING",this.pendingSegment_=o,this.trimBackBuffer_(o),"number"==typeof o.timestampOffset&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.hasEnoughInfoToLoad_()?this.updateTransmuxerAndRequestSegment_(o):this.loadQueue_.push((function(){var s=Cu()({},o,{forceTimestampOffset:!0});Cu()(o,a.generateSegmentInfo_(s)),a.isPendingTimestampOffset_=!1,a.updateTransmuxerAndRequestSegment_(o)}))},a.updateTransmuxerAndRequestSegment_=function updateTransmuxerAndRequestSegment_(o){var a=this;this.shouldUpdateTransmuxerTimestampOffset_(o.timestampOffset)&&(this.gopBuffer_.length=0,o.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:o.timestampOffset}));var s=this.createSimplifiedSegmentObj_(o),u=this.isEndOfStream_(o.mediaIndex,o.playlist,o.partIndex),l=null!==this.mediaIndex,c=o.timeline!==this.currentTimeline_&&o.timeline>0,h=u||l&&c;this.logger_("Requesting "+tv(o)),s.map&&!s.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),o.abortRequests=Fg({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:s,abortFn:this.handleAbort_.bind(this,o),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",o.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",o.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:h,endedTimelineFn:function endedTimelineFn(){a.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function onTransmuxerLog(s){var u=s.message,l=s.level,c=s.stream;a.logger_(tv(o)+" logged from transmuxer stream "+c+" as a "+l+": "+u)}})},a.trimBackBuffer_=function trimBackBuffer_(o){var a=function safeBackBufferTrimTime(o,a,s){var u=a-dg.BACK_BUFFER_LENGTH;o.length&&(u=Math.max(u,o.start(0)));var l=a-s;return Math.min(l,u)}(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);a>0&&this.remove(0,a)},a.createSimplifiedSegmentObj_=function createSimplifiedSegmentObj_(o){var a=o.segment,s=o.part,u={resolvedUri:s?s.resolvedUri:a.resolvedUri,byterange:s?s.byterange:a.byterange,requestId:o.requestId,transmuxer:o.transmuxer,audioAppendStart:o.audioAppendStart,gopsToAlignWith:o.gopsToAlignWith,part:o.part},l=o.playlist.segments[o.mediaIndex-1];if(l&&l.timeline===a.timeline&&(l.videoTimingInfo?u.baseStartTime=l.videoTimingInfo.transmuxedDecodeEnd:l.audioTimingInfo&&(u.baseStartTime=l.audioTimingInfo.transmuxedDecodeEnd)),a.key){var c=a.key.iv||new Uint32Array([0,0,0,o.mediaIndex+o.playlist.mediaSequence]);u.key=this.segmentKey(a.key),u.key.iv=c}return a.map&&(u.map=this.initSegmentForMap(a.map)),u},a.saveTransferStats_=function saveTransferStats_(o){this.mediaRequests+=1,o&&(this.mediaBytesTransferred+=o.bytesReceived,this.mediaTransferDuration+=o.roundTripTime)},a.saveBandwidthRelatedStats_=function saveBandwidthRelatedStats_(o,a){this.pendingSegment_.byteLength=a.bytesReceived,o<ev?this.logger_("Ignoring segment's bandwidth because its duration of "+o+" is less than the min to record 0.016666666666666666"):(this.bandwidth=a.bandwidth,this.roundTrip=a.roundTripTime)},a.handleTimeout_=function handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate")},a.segmentRequestFinished_=function segmentRequestFinished_(o,a,s){if(this.callQueue_.length)this.callQueue_.push(this.segmentRequestFinished_.bind(this,o,a,s));else if(this.saveTransferStats_(a.stats),this.pendingSegment_&&a.requestId===this.pendingSegment_.requestId){if(o){if(this.pendingSegment_=null,this.state="READY",o.code===xg)return;return this.pause(),o.code===Cg?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(o),void this.trigger("error"))}var u=this.pendingSegment_;this.saveBandwidthRelatedStats_(u.duration,a.stats),u.endOfAllRequests=a.endOfAllRequests,s.gopInfo&&(this.gopBuffer_=function updateGopBuffer(o,a,s){if(!a.length)return o;if(s)return a.slice();for(var u=a[0].pts,l=0;l<o.length&&!(o[l].pts>=u);l++);return o.slice(0,l).concat(a)}(this.gopBuffer_,s.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(u)}},a.setTimeMapping_=function setTimeMapping_(o){var a=this.syncController_.mappingForTimeline(o);null!==a&&(this.timeMapping_=a)},a.updateMediaSecondsLoaded_=function updateMediaSecondsLoaded_(o){"number"==typeof o.start&&"number"==typeof o.end?this.mediaSecondsLoaded+=o.end-o.start:this.mediaSecondsLoaded+=o.duration},a.shouldUpdateTransmuxerTimestampOffset_=function shouldUpdateTransmuxerTimestampOffset_(o){return null!==o&&("main"===this.loaderType_&&o!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&o!==this.sourceUpdater_.audioTimestampOffset())},a.trueSegmentStart_=function trueSegmentStart_(o){var a=o.currentStart,s=o.playlist,u=o.mediaIndex,l=o.firstVideoFrameTimeForData,c=o.currentVideoTimestampOffset,h=o.useVideoTimingInfo,f=o.videoTimingInfo,p=o.audioTimingInfo;if(void 0!==a)return a;if(!h)return p.start;var m=s.segments[u-1];return 0!==u&&m&&void 0!==m.start&&m.end===l+c?f.start:l},a.waitForAppendsToComplete_=function waitForAppendsToComplete_(o){var a=this.getCurrentMediaInfo_(o);if(!a)return this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),void this.trigger("error");var s=a.hasAudio,u=a.hasVideo,l=a.isMuxed,c="main"===this.loaderType_&&u,h=!this.audioDisabled_&&s&&!l;if(o.waitingOnAppends=0,!o.hasAppendedData_)return o.timingInfo||"number"!=typeof o.timestampOffset||(this.isPendingTimestampOffset_=!0),o.timingInfo={start:0},o.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(o),this.processMetadataQueue_()),void this.checkAppendsDone_(o);c&&o.waitingOnAppends++,h&&o.waitingOnAppends++,c&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,o)),h&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,o))},a.checkAppendsDone_=function checkAppendsDone_(o){this.checkForAbort_(o.requestId)||(o.waitingOnAppends--,0===o.waitingOnAppends&&this.handleAppendsDone_())},a.checkForIllegalMediaSwitch=function checkForIllegalMediaSwitch(o){var a=function illegalMediaSwitch(o,a,s){return"main"===o&&a&&s?s.hasAudio||s.hasVideo?a.hasVideo&&!s.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!a.hasVideo&&s.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null}(this.loaderType_,this.getCurrentMediaInfo_(),o);return!!a&&(this.error({message:a,blacklistDuration:1/0}),this.trigger("error"),!0)},a.updateSourceBufferTimestampOffset_=function updateSourceBufferTimestampOffset_(o){if(null!==o.timestampOffset&&"number"==typeof o.timingInfo.start&&!o.changedTimestampOffset&&"main"===this.loaderType_){var a=!1;o.timestampOffset-=o.timingInfo.start,o.changedTimestampOffset=!0,o.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(o.timestampOffset),a=!0),o.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(o.timestampOffset),a=!0),a&&this.trigger("timestampoffset")}},a.updateTimingInfoEnd_=function updateTimingInfoEnd_(o){o.timingInfo=o.timingInfo||{};var a=this.getMediaInfo_(),s="main"===this.loaderType_&&a&&a.hasVideo&&o.videoTimingInfo?o.videoTimingInfo:o.audioTimingInfo;s&&(o.timingInfo.end="number"==typeof s.end?s.end:s.start+o.duration)},a.handleAppendsDone_=function handleAppendsDone_(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var o=this.pendingSegment_;this.updateTimingInfoEnd_(o),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:o,shouldSaveTimelineMapping:"main"===this.loaderType_});var a=ov(o,this.sourceType_);if(a&&("warn"===a.severity?videojs.log.warn(a.message):this.logger_(a.message)),this.recordThroughput_(o),this.pendingSegment_=null,this.state="READY",!o.isSyncRequest||(this.trigger("syncinfoupdate"),o.hasAppendedData_)){this.logger_("Appended "+tv(o)),this.addSegmentMetadataCue_(o),this.fetchAtBuffer_=!0,this.currentTimeline_!==o.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:o.timeline}),"main"!==this.loaderType_||this.audioDisabled_||this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:o.timeline})),this.currentTimeline_=o.timeline,this.trigger("syncinfoupdate");var s=o.segment;if(s.end&&this.currentTime_()-s.end>3*o.playlist.targetDuration)this.resetEverything();else null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=o.mediaIndex,this.partIndex=o.partIndex,this.isEndOfStream_(o.mediaIndex,o.playlist,o.partIndex)&&this.endOfStream(),this.trigger("appended"),o.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}else this.logger_("Throwing away un-appended sync request "+tv(o))},a.recordThroughput_=function recordThroughput_(o){if(o.duration<ev)this.logger_("Ignoring segment's throughput because its duration of "+o.duration+" is less than the min to record 0.016666666666666666");else{var a=this.throughput.rate,s=Date.now()-o.endOfAllRequests+1,u=Math.floor(o.byteLength/s*8*1e3);this.throughput.rate+=(u-a)/++this.throughput.count}},a.addSegmentMetadataCue_=function addSegmentMetadataCue_(o){if(this.segmentMetadataTrack_){var a=o.segment,s=a.start,u=a.end;if(Zg(s)&&Zg(u)){Jg(s,u,this.segmentMetadataTrack_);var l=Su.a.WebKitDataCue||Su.a.VTTCue,c={custom:a.custom,dateTimeObject:a.dateTimeObject,dateTimeString:a.dateTimeString,bandwidth:o.playlist.attributes.BANDWIDTH,resolution:o.playlist.attributes.RESOLUTION,codecs:o.playlist.attributes.CODECS,byteLength:o.byteLength,uri:o.uri,timeline:o.timeline,playlist:o.playlist.id,start:s,end:u},h=new l(s,u,JSON.stringify(c));h.value=c,this.segmentMetadataTrack_.addCue(h)}}},SegmentLoader}(videojs.EventTarget);function video_es_noop(){}var sv,uv=function toTitleCase(o){return"string"!=typeof o?o:o.replace(/./,(function(o){return o.toUpperCase()}))},lv=["video","audio"],cv=function updating(o,a){var s=a[o+"Buffer"];return s&&s.updating||a.queuePending[o]},dv=function shiftQueue(o,a){if(0!==a.queue.length){var s=0,u=a.queue[s];if("mediaSource"!==u.type){if("mediaSource"!==o&&a.ready()&&"closed"!==a.mediaSource.readyState&&!cv(o,a)){if(u.type!==o){if(null===(s=function nextQueueIndexOfType(o,a){for(var s=0;s<a.length;s++){var u=a[s];if("mediaSource"===u.type)return null;if(u.type===o)return s}return null}(o,a.queue)))return;u=a.queue[s]}return a.queue.splice(s,1),a.queuePending[o]=u,u.action(o,a),u.doneFn?void 0:(a.queuePending[o]=null,void shiftQueue(o,a))}}else a.updating()||"closed"===a.mediaSource.readyState||(a.queue.shift(),u.action(a),u.doneFn&&u.doneFn(),shiftQueue("audio",a),shiftQueue("video",a))}},hv=function cleanupBuffer(o,a){var s=a[o+"Buffer"],u=uv(o);s&&(s.removeEventListener("updateend",a["on"+u+"UpdateEnd_"]),s.removeEventListener("error",a["on"+u+"Error_"]),a.codecs[o]=null,a[o+"Buffer"]=null)},fv=function inSourceBuffers(o,a){return o&&a&&-1!==Array.prototype.indexOf.call(o.sourceBuffers,a)},pv=function appendBuffer(o,a,s){return function(u,l){var c=l[u+"Buffer"];if(fv(l.mediaSource,c)){l.logger_("Appending segment "+a.mediaIndex+"'s "+o.length+" bytes to "+u+"Buffer");try{c.appendBuffer(o)}catch(o){l.logger_("Error with code "+o.code+" "+(22===o.code?"(QUOTA_EXCEEDED_ERR) ":"")+"when appending segment "+a.mediaIndex+" to "+u+"Buffer"),l.queuePending[u]=null,s(o)}}}},mv=function remove(o,a){return function(s,u){var l=u[s+"Buffer"];if(fv(u.mediaSource,l)){u.logger_("Removing "+o+" to "+a+" from "+s+"Buffer");try{l.remove(o,a)}catch(l){u.logger_("Remove "+o+" to "+a+" from "+s+"Buffer failed")}}}},gv=function timestampOffset(o){return function(a,s){var u=s[a+"Buffer"];fv(s.mediaSource,u)&&(s.logger_("Setting "+a+"timestampOffset to "+o),u.timestampOffset=o)}},vv=function callback(o){return function(a,s){o()}},yv=function endOfStream(o){return function(a){if("open"===a.mediaSource.readyState){a.logger_("Calling mediaSource endOfStream("+(o||"")+")");try{a.mediaSource.endOfStream(o)}catch(o){videojs.log.warn("Failed to call media source endOfStream",o)}}}},_v=function duration(o){return function(a){a.logger_("Setting mediaSource duration to "+o);try{a.mediaSource.duration=o}catch(o){videojs.log.warn("Failed to set media source duration",o)}}},bv=function abort(){return function(o,a){if("open"===a.mediaSource.readyState){var s=a[o+"Buffer"];if(fv(a.mediaSource,s)){a.logger_("calling abort on "+o+"Buffer");try{s.abort()}catch(a){videojs.log.warn("Failed to abort on "+o+"Buffer",a)}}}}},Tv=function addSourceBuffer(o,a){return function(s){var u=uv(o),l=cl(a);s.logger_("Adding "+o+"Buffer with codec "+a+" to mediaSource");var c=s.mediaSource.addSourceBuffer(l);c.addEventListener("updateend",s["on"+u+"UpdateEnd_"]),c.addEventListener("error",s["on"+u+"Error_"]),s.codecs[o]=a,s[o+"Buffer"]=c}},Sv=function removeSourceBuffer(o){return function(a){var s=a[o+"Buffer"];if(hv(o,a),fv(a.mediaSource,s)){a.logger_("Removing "+o+"Buffer with codec "+a.codecs[o]+" from mediaSource");try{a.mediaSource.removeSourceBuffer(s)}catch(a){videojs.log.warn("Failed to removeSourceBuffer "+o+"Buffer",a)}}}},wv=function changeType(o){return function(a,s){var u=s[a+"Buffer"],l=cl(o);fv(s.mediaSource,u)&&s.codecs[a]!==o&&(s.logger_("changing "+a+"Buffer codec from "+s.codecs[a]+" to "+o),u.changeType(l),s.codecs[a]=o)}},Ev=function pushQueue(o){var a=o.type,s=o.sourceUpdater,u=o.action,l=o.doneFn,c=o.name;s.queue.push({type:a,action:u,doneFn:l,name:c}),dv(a,s)},kv=function onUpdateend(o,a){return function(s){if(a.queuePending[o]){var u=a.queuePending[o].doneFn;a.queuePending[o]=null,u&&u(a[o+"Error_"])}dv(o,a)}},Cv=function(o){function SourceUpdater(a){var s;return(s=o.call(this)||this).mediaSource=a,s.sourceopenListener_=function(){return dv("mediaSource",Pu()(s))},s.mediaSource.addEventListener("sourceopen",s.sourceopenListener_),s.logger_=tm("SourceUpdater"),s.audioTimestampOffset_=0,s.videoTimestampOffset_=0,s.queue=[],s.queuePending={audio:null,video:null},s.delayedAudioAppendQueue_=[],s.videoAppendQueued_=!1,s.codecs={},s.onVideoUpdateEnd_=kv("video",Pu()(s)),s.onAudioUpdateEnd_=kv("audio",Pu()(s)),s.onVideoError_=function(o){s.videoError_=o},s.onAudioError_=function(o){s.audioError_=o},s.createdSourceBuffers_=!1,s.initializedEme_=!1,s.triggeredReady_=!1,s}Iu()(SourceUpdater,o);var a=SourceUpdater.prototype;return a.initializedEme=function initializedEme(){this.initializedEme_=!0,this.triggerReady()},a.hasCreatedSourceBuffers=function hasCreatedSourceBuffers(){return this.createdSourceBuffers_},a.hasInitializedAnyEme=function hasInitializedAnyEme(){return this.initializedEme_},a.ready=function ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},a.createSourceBuffers=function createSourceBuffers(o){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(o),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},a.triggerReady=function triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},a.addSourceBuffer=function addSourceBuffer(o,a){Ev({type:"mediaSource",sourceUpdater:this,action:Tv(o,a),name:"addSourceBuffer"})},a.abort=function abort(o){Ev({type:o,sourceUpdater:this,action:bv(o),name:"abort"})},a.removeSourceBuffer=function removeSourceBuffer(o){this.canRemoveSourceBuffer()?Ev({type:"mediaSource",sourceUpdater:this,action:Sv(o),name:"removeSourceBuffer"}):videojs.log.error("removeSourceBuffer is not supported!")},a.canRemoveSourceBuffer=function canRemoveSourceBuffer(){return!videojs.browser.IE_VERSION&&!videojs.browser.IS_FIREFOX&&Su.a.MediaSource&&Su.a.MediaSource.prototype&&"function"==typeof Su.a.MediaSource.prototype.removeSourceBuffer},SourceUpdater.canChangeType=function canChangeType(){return Su.a.SourceBuffer&&Su.a.SourceBuffer.prototype&&"function"==typeof Su.a.SourceBuffer.prototype.changeType},a.canChangeType=function canChangeType(){return this.constructor.canChangeType()},a.changeType=function changeType(o,a){this.canChangeType()?Ev({type:o,sourceUpdater:this,action:wv(a),name:"changeType"}):videojs.log.error("changeType is not supported!")},a.addOrChangeSourceBuffers=function addOrChangeSourceBuffers(o){var a=this;if(!o||"object"!=typeof o||0===Object.keys(o).length)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(o).forEach((function(s){var u=o[s];if(!a.hasCreatedSourceBuffers())return a.addSourceBuffer(s,u);a.canChangeType()&&a.changeType(s,u)}))},a.appendBuffer=function appendBuffer(o,a){var s=this,u=o.segmentInfo,l=o.type,c=o.bytes;if(this.processedAppend_=!0,"audio"===l&&this.videoBuffer&&!this.videoAppendQueued_)return this.delayedAudioAppendQueue_.push([o,a]),void this.logger_("delayed audio append of "+c.length+" until video append");if(Ev({type:l,sourceUpdater:this,action:pv(c,u||{mediaIndex:-1},a),doneFn:a,name:"appendBuffer"}),"video"===l){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var h=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+h.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,h.forEach((function(o){s.appendBuffer.apply(s,o)}))}},a.audioBuffered=function audioBuffered(){return fv(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:videojs.createTimeRange()},a.videoBuffered=function videoBuffered(){return fv(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:videojs.createTimeRange()},a.buffered=function buffered(){var o=fv(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,a=fv(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return a&&!o?this.audioBuffered():o&&!a?this.videoBuffered():function bufferIntersection(o,a){var s=null,u=null,l=0,c=[],h=[];if(!(o&&o.length&&a&&a.length))return videojs.createTimeRange();for(var f=o.length;f--;)c.push({time:o.start(f),type:"start"}),c.push({time:o.end(f),type:"end"});for(f=a.length;f--;)c.push({time:a.start(f),type:"start"}),c.push({time:a.end(f),type:"end"});for(c.sort((function(o,a){return o.time-a.time})),f=0;f<c.length;f++)"start"===c[f].type?2==++l&&(s=c[f].time):"end"===c[f].type&&1==--l&&(u=c[f].time),null!==s&&null!==u&&(h.push([s,u]),s=null,u=null);return videojs.createTimeRanges(h)}(this.audioBuffered(),this.videoBuffered())},a.setDuration=function setDuration(o,a){void 0===a&&(a=video_es_noop),Ev({type:"mediaSource",sourceUpdater:this,action:_v(o),name:"duration",doneFn:a})},a.endOfStream=function endOfStream(o,a){void 0===o&&(o=null),void 0===a&&(a=video_es_noop),"string"!=typeof o&&(o=void 0),Ev({type:"mediaSource",sourceUpdater:this,action:yv(o),name:"endOfStream",doneFn:a})},a.removeAudio=function removeAudio(o,a,s){void 0===s&&(s=video_es_noop),this.audioBuffered().length&&0!==this.audioBuffered().end(0)?Ev({type:"audio",sourceUpdater:this,action:mv(o,a),doneFn:s,name:"remove"}):s()},a.removeVideo=function removeVideo(o,a,s){void 0===s&&(s=video_es_noop),this.videoBuffered().length&&0!==this.videoBuffered().end(0)?Ev({type:"video",sourceUpdater:this,action:mv(o,a),doneFn:s,name:"remove"}):s()},a.updating=function updating(){return!(!cv("audio",this)&&!cv("video",this))},a.audioTimestampOffset=function audioTimestampOffset(o){return void 0!==o&&this.audioBuffer&&this.audioTimestampOffset_!==o&&(Ev({type:"audio",sourceUpdater:this,action:gv(o),name:"timestampOffset"}),this.audioTimestampOffset_=o),this.audioTimestampOffset_},a.videoTimestampOffset=function videoTimestampOffset(o){return void 0!==o&&this.videoBuffer&&this.videoTimestampOffset!==o&&(Ev({type:"video",sourceUpdater:this,action:gv(o),name:"timestampOffset"}),this.videoTimestampOffset_=o),this.videoTimestampOffset_},a.audioQueueCallback=function audioQueueCallback(o){this.audioBuffer&&Ev({type:"audio",sourceUpdater:this,action:vv(o),name:"callback"})},a.videoQueueCallback=function videoQueueCallback(o){this.videoBuffer&&Ev({type:"video",sourceUpdater:this,action:vv(o),name:"callback"})},a.dispose=function dispose(){var o=this;this.trigger("dispose"),lv.forEach((function(a){o.abort(a),o.canRemoveSourceBuffer()?o.removeSourceBuffer(a):o[a+"QueueCallback"]((function(){return hv(a,o)}))})),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},SourceUpdater}(videojs.EventTarget),xv=function uint8ToUtf8(o){return decodeURIComponent(escape(String.fromCharCode.apply(null,o)))},Pv=new Uint8Array("\n\n".split("").map((function(o){return o.charCodeAt(0)}))),Av=function(o){function VTTSegmentLoader(a,s){var u;return void 0===s&&(s={}),(u=o.call(this,a,s)||this).mediaSource_=null,u.subtitlesTrack_=null,u.loaderType_="subtitle",u.featuresNativeTextTracks_=a.featuresNativeTextTracks,u.shouldSaveSegmentTimingInfo_=!1,u}Iu()(VTTSegmentLoader,o);var a=VTTSegmentLoader.prototype;return a.createTransmuxer_=function createTransmuxer_(){return null},a.buffered_=function buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return videojs.createTimeRanges();var o=this.subtitlesTrack_.cues,a=o[0].startTime,s=o[o.length-1].startTime;return videojs.createTimeRanges([[a,s]])},a.initSegmentForMap=function initSegmentForMap(o,a){if(void 0===a&&(a=!1),!o)return null;var s=Qm(o),u=this.initSegments_[s];if(a&&!u&&o.bytes){var l=Pv.byteLength+o.bytes.byteLength,c=new Uint8Array(l);c.set(o.bytes),c.set(Pv,o.bytes.byteLength),this.initSegments_[s]=u={resolvedUri:o.resolvedUri,byterange:o.byterange,bytes:c}}return u||o},a.couldBeginLoading_=function couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},a.init_=function init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},a.track=function track(o){return void 0===o||(this.subtitlesTrack_=o,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_},a.remove=function remove(o,a){Jg(o,a,this.subtitlesTrack_)},a.fillBuffer_=function fillBuffer_(){var o=this,a=this.chooseNextRequest_();if(a){if(null===this.syncController_.timestampOffsetForTimeline(a.timeline)){return this.syncController_.one("timestampoffset",(function checkTimestampOffset(){o.state="READY",o.paused()||o.monitorBuffer_()})),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(a)}},a.timestampOffsetForSegment_=function timestampOffsetForSegment_(){return null},a.chooseNextRequest_=function chooseNextRequest_(){return this.skipEmptySegments_(o.prototype.chooseNextRequest_.call(this))},a.skipEmptySegments_=function skipEmptySegments_(o){for(;o&&o.segment.empty;){if(o.mediaIndex+1>=o.playlist.segments.length){o=null;break}o=this.generateSegmentInfo_({playlist:o.playlist,mediaIndex:o.mediaIndex+1,startOfSegment:o.startOfSegment+o.duration,isSyncRequest:o.isSyncRequest})}return o},a.stopForError=function stopForError(o){this.error(o),this.state="READY",this.pause(),this.trigger("error")},a.segmentRequestFinished_=function segmentRequestFinished_(o,a,s){var u=this;if(this.subtitlesTrack_){if(this.saveTransferStats_(a.stats),!this.pendingSegment_)return this.state="READY",void(this.mediaRequestsAborted+=1);if(o)return o.code===Cg&&this.handleTimeout_(),o.code===xg?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,void this.stopForError(o);var l=this.pendingSegment_;this.saveBandwidthRelatedStats_(l.duration,a.stats),this.state="APPENDING",this.trigger("appending");var c=l.segment;if(c.map&&(c.map.bytes=a.map.bytes),l.bytes=a.bytes,"function"!=typeof Su.a.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var h,f=function errorHandler(){u.subtitlesTrack_.tech_.off("vttjsloaded",h),u.stopForError({message:"Error loading vtt.js"})};return h=function loadHandler(){u.subtitlesTrack_.tech_.off("vttjserror",f),u.segmentRequestFinished_(o,a,s)},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",h),void this.subtitlesTrack_.tech_.one("vttjserror",f)}c.requested=!0;try{this.parseVTTCues_(l)}catch(o){return void this.stopForError({message:o.message})}if(this.updateTimeMapping_(l,this.syncController_.timelines[l.timeline],this.playlist_),l.cues.length?l.timingInfo={start:l.cues[0].startTime,end:l.cues[l.cues.length-1].endTime}:l.timingInfo={start:l.startOfSegment,end:l.startOfSegment+l.duration},l.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");l.byteLength=l.bytes.byteLength,this.mediaSecondsLoaded+=c.duration,l.cues.forEach((function(o){u.subtitlesTrack_.addCue(u.featuresNativeTextTracks_?new Su.a.VTTCue(o.startTime,o.endTime,o.text):o)})),function removeDuplicateCuesFromTrack(o){var a=o.cues;if(a)for(var s=0;s<a.length;s++){for(var u=[],l=0,c=0;c<a.length;c++)a[s].startTime===a[c].startTime&&a[s].endTime===a[c].endTime&&a[s].text===a[c].text&&++l>1&&u.push(a[c]);u.length&&u.forEach((function(a){return o.removeCue(a)}))}}(this.subtitlesTrack_),this.handleAppendsDone_()}else this.state="READY"},a.handleData_=function handleData_(){},a.updateTimingInfoEnd_=function updateTimingInfoEnd_(){},a.parseVTTCues_=function parseVTTCues_(o){var a,s=!1;"function"==typeof Su.a.TextDecoder?a=new Su.a.TextDecoder("utf8"):(a=Su.a.WebVTT.StringDecoder(),s=!0);var u=new Su.a.WebVTT.Parser(Su.a,Su.a.vttjs,a);if(o.cues=[],o.timestampmap={MPEGTS:0,LOCAL:0},u.oncue=o.cues.push.bind(o.cues),u.ontimestampmap=function(a){o.timestampmap=a},u.onparsingerror=function(o){videojs.log.warn("Error encountered when parsing cues: "+o.message)},o.segment.map){var l=o.segment.map.bytes;s&&(l=xv(l)),u.parse(l)}var c=o.bytes;s&&(c=xv(c)),u.parse(c),u.flush()},a.updateTimeMapping_=function updateTimeMapping_(o,a,s){var u=o.segment;if(a)if(o.cues.length){var l=o.timestampmap,c=l.MPEGTS/qc.ONE_SECOND_IN_TS-l.LOCAL+a.mapping;if(o.cues.forEach((function(o){o.startTime+=c,o.endTime+=c})),!s.syncInfo){var h=o.cues[0].startTime,f=o.cues[o.cues.length-1].startTime;s.syncInfo={mediaSequence:s.mediaSequence+o.mediaIndex,time:Math.min(h,f-u.duration)}}}else u.empty=!0},VTTSegmentLoader}(av),Iv=function findAdCue(o,a){for(var s=o.cues,u=0;u<s.length;u++){var l=s[u];if(a>=l.adStartTime&&a<=l.adEndTime)return l}return null},Ov=[{name:"VOD",run:function run(o,a,s,u,l){if(s!==1/0){return{time:0,segmentIndex:0,partIndex:null}}return null}},{name:"ProgramDateTime",run:function run(o,a,s,u,l){if(!Object.keys(o.timelineToDatetimeMappings).length)return null;var c=null,h=null,f=dm(a);l=l||0;for(var p=0;p<f.length;p++){var m=f[a.endList||0===l?p:f.length-(p+1)],g=m.segment,v=o.timelineToDatetimeMappings[g.timeline];if(v&&g.dateTimeObject){var y=g.dateTimeObject.getTime()/1e3+v;if(g.parts&&"number"==typeof m.partIndex)for(var _=0;_<m.partIndex;_++)y+=g.parts[_].duration;var b=Math.abs(l-y);if(null!==h&&(0===b||h<b))break;h=b,c={time:y,segmentIndex:m.segmentIndex,partIndex:m.partIndex}}}return c}},{name:"Segment",run:function run(o,a,s,u,l){var c=null,h=null;l=l||0;for(var f=dm(a),p=0;p<f.length;p++){var m=f[a.endList||0===l?p:f.length-(p+1)],g=m.segment,v=m.part&&m.part.start||g&&g.start;if(g.timeline===u&&void 0!==v){var y=Math.abs(l-v);if(null!==h&&h<y)break;(!c||null===h||h>=y)&&(h=y,c={time:v,segmentIndex:m.segmentIndex,partIndex:m.partIndex})}}return c}},{name:"Discontinuity",run:function run(o,a,s,u,l){var c=null;if(l=l||0,a.discontinuityStarts&&a.discontinuityStarts.length)for(var h=null,f=0;f<a.discontinuityStarts.length;f++){var p=a.discontinuityStarts[f],m=a.discontinuitySequence+f+1,g=o.discontinuities[m];if(g){var v=Math.abs(l-g.time);if(null!==h&&h<v)break;(!c||null===h||h>=v)&&(h=v,c={time:g.time,segmentIndex:p,partIndex:null})}}return c}},{name:"Playlist",run:function run(o,a,s,u,l){return a.syncInfo?{time:a.syncInfo.time,segmentIndex:a.syncInfo.mediaSequence-a.mediaSequence,partIndex:null}:null}}],Lv=function(o){function SyncController(a){var s;return(s=o.call(this)||this).timelines=[],s.discontinuities=[],s.timelineToDatetimeMappings={},s.logger_=tm("SyncController"),s}Iu()(SyncController,o);var a=SyncController.prototype;return a.getSyncPoint=function getSyncPoint(o,a,s,u){var l=this.runStrategies_(o,a,s,u);return l.length?this.selectSyncPoint_(l,{key:"time",value:u}):null},a.getExpiredTime=function getExpiredTime(o,a){if(!o||!o.segments)return null;var s=this.runStrategies_(o,a,o.discontinuitySequence,0);if(!s.length)return null;var u=this.selectSyncPoint_(s,{key:"segmentIndex",value:0});return u.segmentIndex>0&&(u.time*=-1),Math.abs(u.time+vm({defaultDuration:o.targetDuration,durationList:o.segments,startIndex:u.segmentIndex,endIndex:0}))},a.runStrategies_=function runStrategies_(o,a,s,u){for(var l=[],c=0;c<Ov.length;c++){var h=Ov[c],f=h.run(this,o,a,s,u);f&&(f.strategy=h.name,l.push({strategy:h.name,syncPoint:f}))}return l},a.selectSyncPoint_=function selectSyncPoint_(o,a){for(var s=o[0].syncPoint,u=Math.abs(o[0].syncPoint[a.key]-a.value),l=o[0].strategy,c=1;c<o.length;c++){var h=Math.abs(o[c].syncPoint[a.key]-a.value);h<u&&(u=h,s=o[c].syncPoint,l=o[c].strategy)}return this.logger_("syncPoint for ["+a.key+": "+a.value+"] chosen with strategy ["+l+"]: [time:"+s.time+", segmentIndex:"+s.segmentIndex+("number"==typeof s.partIndex?",partIndex:"+s.partIndex:"")+"]"),s},a.saveExpiredSegmentInfo=function saveExpiredSegmentInfo(o,a){for(var s=a.mediaSequence-o.mediaSequence-1;s>=0;s--){var u=o.segments[s];if(u&&void 0!==u.start){a.syncInfo={mediaSequence:o.mediaSequence+s,time:u.start},this.logger_("playlist refresh sync: [time:"+a.syncInfo.time+", mediaSequence: "+a.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}},a.setDateTimeMappingForStart=function setDateTimeMappingForStart(o){if(this.timelineToDatetimeMappings={},o.segments&&o.segments.length&&o.segments[0].dateTimeObject){var a=o.segments[0],s=a.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[a.timeline]=-s}},a.saveSegmentTimingInfo=function saveSegmentTimingInfo(o){var a=o.segmentInfo,s=o.shouldSaveTimelineMapping,u=this.calculateSegmentTimeMapping_(a,a.timingInfo,s),l=a.segment;u&&(this.saveDiscontinuitySyncInfo_(a),a.playlist.syncInfo||(a.playlist.syncInfo={mediaSequence:a.playlist.mediaSequence+a.mediaIndex,time:l.start}));var c=l.dateTimeObject;l.discontinuity&&s&&c&&(this.timelineToDatetimeMappings[l.timeline]=-c.getTime()/1e3)},a.timestampOffsetForTimeline=function timestampOffsetForTimeline(o){return void 0===this.timelines[o]?null:this.timelines[o].time},a.mappingForTimeline=function mappingForTimeline(o){return void 0===this.timelines[o]?null:this.timelines[o].mapping},a.calculateSegmentTimeMapping_=function calculateSegmentTimeMapping_(o,a,s){var u,l,c=o.segment,h=o.part,f=this.timelines[o.timeline];if("number"==typeof o.timestampOffset)f={time:o.startOfSegment,mapping:o.startOfSegment-a.start},s&&(this.timelines[o.timeline]=f,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+o.timeline+": [time: "+f.time+"] [mapping: "+f.mapping+"]")),u=o.startOfSegment,l=a.end+f.mapping;else{if(!f)return!1;u=a.start+f.mapping,l=a.end+f.mapping}return h&&(h.start=u,h.end=l),(!c.start||u<c.start)&&(c.start=u),c.end=l,!0},a.saveDiscontinuitySyncInfo_=function saveDiscontinuitySyncInfo_(o){var a=o.playlist,s=o.segment;if(s.discontinuity)this.discontinuities[s.timeline]={time:s.start,accuracy:0};else if(a.discontinuityStarts&&a.discontinuityStarts.length)for(var u=0;u<a.discontinuityStarts.length;u++){var l=a.discontinuityStarts[u],c=a.discontinuitySequence+u+1,h=l-o.mediaIndex,f=Math.abs(h);if(!this.discontinuities[c]||this.discontinuities[c].accuracy>f){var p=void 0;p=h<0?s.start-vm({defaultDuration:a.targetDuration,durationList:a.segments,startIndex:o.mediaIndex,endIndex:l}):s.end+vm({defaultDuration:a.targetDuration,durationList:a.segments,startIndex:o.mediaIndex+1,endIndex:l}),this.discontinuities[c]={time:p,accuracy:f}}}},a.dispose=function dispose(){this.trigger("dispose"),this.off()},SyncController}(videojs.EventTarget),Mv=function(o){function TimelineChangeController(){var a;return(a=o.call(this)||this).pendingTimelineChanges_={},a.lastTimelineChanges_={},a}Iu()(TimelineChangeController,o);var a=TimelineChangeController.prototype;return a.clearPendingTimelineChange=function clearPendingTimelineChange(o){this.pendingTimelineChanges_[o]=null,this.trigger("pendingtimelinechange")},a.pendingTimelineChange=function pendingTimelineChange(o){var a=o.type,s=o.from,u=o.to;return"number"==typeof s&&"number"==typeof u&&(this.pendingTimelineChanges_[a]={type:a,from:s,to:u},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[a]},a.lastTimelineChange=function lastTimelineChange(o){var a=o.type,s=o.from,u=o.to;return"number"==typeof s&&"number"==typeof u&&(this.lastTimelineChanges_[a]={type:a,from:s,to:u},delete this.pendingTimelineChanges_[a],this.trigger("timelinechange")),this.lastTimelineChanges_[a]},a.dispose=function dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},TimelineChangeController}(videojs.EventTarget),Dv=fg(pg(mg((function(){function createCommonjsModule(o,a,s){return o(s={path:a,exports:{},require:function require(o,a){return function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==a&&s.path)}},s.exports),s.exports}var o=createCommonjsModule((function(o){function _defineProperties(o,a){for(var s=0;s<a.length;s++){var u=a[s];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(o,u.key,u)}}o.exports=function _createClass(o,a,s){return a&&_defineProperties(o.prototype,a),s&&_defineProperties(o,s),o},o.exports.default=o.exports,o.exports.__esModule=!0})),a=createCommonjsModule((function(o){function _setPrototypeOf(a,s){return o.exports=_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,a){return o.__proto__=a,o},o.exports.default=o.exports,o.exports.__esModule=!0,_setPrototypeOf(a,s)}o.exports=_setPrototypeOf,o.exports.default=o.exports,o.exports.__esModule=!0})),s=createCommonjsModule((function(o){o.exports=function _inheritsLoose(o,s){o.prototype=Object.create(s.prototype),o.prototype.constructor=o,a(o,s)},o.exports.default=o.exports,o.exports.__esModule=!0})),u=function(){function Stream(){this.listeners={}}var o=Stream.prototype;return o.on=function on(o,a){this.listeners[o]||(this.listeners[o]=[]),this.listeners[o].push(a)},o.off=function off(o,a){if(!this.listeners[o])return!1;var s=this.listeners[o].indexOf(a);return this.listeners[o]=this.listeners[o].slice(0),this.listeners[o].splice(s,1),s>-1},o.trigger=function trigger(o){var a=this.listeners[o];if(a)if(2===arguments.length)for(var s=a.length,u=0;u<s;++u)a[u].call(this,arguments[1]);else for(var l=Array.prototype.slice.call(arguments,1),c=a.length,h=0;h<c;++h)a[h].apply(this,l)},o.dispose=function dispose(){this.listeners={}},o.pipe=function pipe(o){this.on("data",(function(a){o.push(a)}))},Stream}();var l=null,c=function(){function AES(o){var a,s,u;l||(l=function precompute(){var o,a,s,u,l,c,h,f,p=[[[],[],[],[],[]],[[],[],[],[],[]]],m=p[0],g=p[1],v=m[4],y=g[4],_=[],b=[];for(o=0;o<256;o++)b[(_[o]=o<<1^283*(o>>7))^o]=o;for(a=s=0;!v[a];a^=u||1,s=b[s]||1)for(c=(c=s^s<<1^s<<2^s<<3^s<<4)>>8^255&c^99,v[a]=c,y[c]=a,f=16843009*_[l=_[u=_[a]]]^65537*l^257*u^16843008*a,h=257*_[c]^16843008*c,o=0;o<4;o++)m[o][a]=h=h<<24^h>>>8,g[o][c]=f=f<<24^f>>>8;for(o=0;o<5;o++)m[o]=m[o].slice(0),g[o]=g[o].slice(0);return p}()),this._tables=[[l[0][0].slice(),l[0][1].slice(),l[0][2].slice(),l[0][3].slice(),l[0][4].slice()],[l[1][0].slice(),l[1][1].slice(),l[1][2].slice(),l[1][3].slice(),l[1][4].slice()]];var c=this._tables[0][4],h=this._tables[1],f=o.length,p=1;if(4!==f&&6!==f&&8!==f)throw new Error("Invalid aes key size");var m=o.slice(0),g=[];for(this._key=[m,g],a=f;a<4*f+28;a++)u=m[a-1],(a%f==0||8===f&&a%f==4)&&(u=c[u>>>24]<<24^c[u>>16&255]<<16^c[u>>8&255]<<8^c[255&u],a%f==0&&(u=u<<8^u>>>24^p<<24,p=p<<1^283*(p>>7))),m[a]=m[a-f]^u;for(s=0;a;s++,a--)u=m[3&s?a:a-4],g[s]=a<=4||s<4?u:h[0][c[u>>>24]]^h[1][c[u>>16&255]]^h[2][c[u>>8&255]]^h[3][c[255&u]]}return AES.prototype.decrypt=function decrypt(o,a,s,u,l,c){var h,f,p,m,g=this._key[1],v=o^g[0],y=u^g[1],_=s^g[2],b=a^g[3],T=g.length/4-2,S=4,w=this._tables[1],k=w[0],x=w[1],P=w[2],I=w[3],O=w[4];for(m=0;m<T;m++)h=k[v>>>24]^x[y>>16&255]^P[_>>8&255]^I[255&b]^g[S],f=k[y>>>24]^x[_>>16&255]^P[b>>8&255]^I[255&v]^g[S+1],p=k[_>>>24]^x[b>>16&255]^P[v>>8&255]^I[255&y]^g[S+2],b=k[b>>>24]^x[v>>16&255]^P[y>>8&255]^I[255&_]^g[S+3],S+=4,v=h,y=f,_=p;for(m=0;m<4;m++)l[(3&-m)+c]=O[v>>>24]<<24^O[y>>16&255]<<16^O[_>>8&255]<<8^O[255&b]^g[S++],h=v,v=y,y=_,_=b,b=h},AES}(),h=function(o){function AsyncStream(){var a;return(a=o.call(this,u)||this).jobs=[],a.delay=1,a.timeout_=null,a}s(AsyncStream,o);var a=AsyncStream.prototype;return a.processJob_=function processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},a.push=function push(o){this.jobs.push(o),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},AsyncStream}(u),f=function ntoh(o){return o<<24|(65280&o)<<8|(16711680&o)>>8|o>>>24},p=function(){function Decrypter(o,a,s,u){var l=Decrypter.STEP,c=new Int32Array(o.buffer),p=new Uint8Array(o.byteLength),m=0;for(this.asyncStream_=new h,this.asyncStream_.push(this.decryptChunk_(c.subarray(m,m+l),a,s,p)),m=l;m<c.length;m+=l)s=new Uint32Array([f(c[m-4]),f(c[m-3]),f(c[m-2]),f(c[m-1])]),this.asyncStream_.push(this.decryptChunk_(c.subarray(m,m+l),a,s,p));this.asyncStream_.push((function(){u(null,function unpad(o){return o.subarray(0,o.byteLength-o[o.byteLength-1])}(p))}))}return Decrypter.prototype.decryptChunk_=function decryptChunk_(o,a,s,u){return function(){var l=function decrypt(o,a,s){var u,l,h,p,m,g,v,y,_,b=new Int32Array(o.buffer,o.byteOffset,o.byteLength>>2),T=new c(Array.prototype.slice.call(a)),S=new Uint8Array(o.byteLength),w=new Int32Array(S.buffer);for(u=s[0],l=s[1],h=s[2],p=s[3],_=0;_<b.length;_+=4)m=f(b[_]),g=f(b[_+1]),v=f(b[_+2]),y=f(b[_+3]),T.decrypt(m,g,v,y,w,_),w[_]=f(w[_]^u),w[_+1]=f(w[_+1]^l),w[_+2]=f(w[_+2]^h),w[_+3]=f(w[_+3]^p),u=m,l=g,h=v,p=y;return S}(o,a,s);u.set(l,o.byteOffset)}},o(Decrypter,null,[{key:"STEP",get:function get(){return 32e3}}]),Decrypter}();self.onmessage=function(o){var a=o.data,s=new Uint8Array(a.encrypted.bytes,a.encrypted.byteOffset,a.encrypted.byteLength),u=new Uint32Array(a.key.bytes,a.key.byteOffset,a.key.byteLength/4),l=new Uint32Array(a.iv.bytes,a.iv.byteOffset,a.iv.byteLength/4);new p(s,u,l,(function(o,s){self.postMessage(function createTransferableMessage(o){var a={};return Object.keys(o).forEach((function(s){var u=o[s];ArrayBuffer.isView(u)?a[s]={bytes:u.buffer,byteOffset:u.byteOffset,byteLength:u.byteLength}:a[s]=u})),a}({source:a.source,decrypted:s}),[s.buffer])}))}})))),Rv=function audioTrackKind_(o){var a=o.default?"main":"alternative";return o.characteristics&&o.characteristics.indexOf("public.accessibility.describes-video")>=0&&(a="main-desc"),a},Nv=function stopLoaders(o,a){o.abort(),o.pause(),a&&a.activePlaylistLoader&&(a.activePlaylistLoader.pause(),a.activePlaylistLoader=null)},Bv=function startLoaders(o,a){a.activePlaylistLoader=o,o.load()},Fv={AUDIO:function AUDIO(o,a){return function(){var s=a.segmentLoaders[o],u=a.mediaTypes[o],l=a.blacklistCurrentPlaylist;Nv(s,u);var c=u.activeTrack(),h=u.activeGroup(),f=(h.filter((function(o){return o.default}))[0]||h[0]).id,p=u.tracks[f];if(c!==p){for(var m in videojs.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),u.tracks)u.tracks[m].enabled=u.tracks[m]===p;u.onTrackChanged()}else l({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function SUBTITLES(o,a){return function(){var s=a.segmentLoaders[o],u=a.mediaTypes[o];videojs.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),Nv(s,u);var l=u.activeTrack();l&&(l.mode="disabled"),u.onTrackChanged()}}},jv={AUDIO:function AUDIO(o,a,s){if(a){var u=s.tech,l=s.requestOptions,c=s.segmentLoaders[o];a.on("loadedmetadata",(function(){var o=a.media();c.playlist(o,l),(!u.paused()||o.endList&&"none"!==u.preload())&&c.load()})),a.on("loadedplaylist",(function(){c.playlist(a.media(),l),u.paused()||c.load()})),a.on("error",Fv[o](o,s))}},SUBTITLES:function SUBTITLES(o,a,s){var u=s.tech,l=s.requestOptions,c=s.segmentLoaders[o],h=s.mediaTypes[o];a.on("loadedmetadata",(function(){var o=a.media();c.playlist(o,l),c.track(h.activeTrack()),(!u.paused()||o.endList&&"none"!==u.preload())&&c.load()})),a.on("loadedplaylist",(function(){c.playlist(a.media(),l),u.paused()||c.load()})),a.on("error",Fv[o](o,s))}},Uv={AUDIO:function AUDIO(o,a){var s=a.vhs,u=a.sourceType,l=a.segmentLoaders[o],c=a.requestOptions,h=a.master.mediaGroups,f=a.mediaTypes[o],p=f.groups,m=f.tracks,g=f.logger_,v=a.masterPlaylistLoader,y=Cm(v.master);for(var _ in h[o]&&0!==Object.keys(h[o]).length||(h[o]={main:{default:{default:!0}}},y&&(h[o].main.default.playlists=v.master.playlists)),h[o])for(var b in p[_]||(p[_]=[]),h[o][_]){var T=h[o][_][b],S=void 0;if(y?(g("AUDIO group '"+_+"' label '"+b+"' is a master playlist"),T.isMasterPlaylist=!0,S=null):S="vhs-json"===u&&T.playlists?new Hm(T.playlists[0],s,c):T.resolvedUri?new Hm(T.resolvedUri,s,c):T.playlists&&"dash"===u?new cg(T.playlists[0],s,c,v):null,T=videojs.mergeOptions({id:b,playlistLoader:S},T),jv[o](o,T.playlistLoader,a),p[_].push(T),void 0===m[b]){var w=new videojs.AudioTrack({id:b,kind:Rv(T),enabled:!1,language:T.language,default:T.default,label:b});m[b]=w}}l.on("error",Fv[o](o,a))},SUBTITLES:function SUBTITLES(o,a){var s=a.tech,u=a.vhs,l=a.sourceType,c=a.segmentLoaders[o],h=a.requestOptions,f=a.master.mediaGroups,p=a.mediaTypes[o],m=p.groups,g=p.tracks,v=a.masterPlaylistLoader;for(var y in f[o])for(var _ in m[y]||(m[y]=[]),f[o][y])if(!f[o][y][_].forced){var b=f[o][y][_],T=void 0;if("hls"===l)T=new Hm(b.resolvedUri,u,h);else if("dash"===l){if(!b.playlists.filter((function(o){return o.excludeUntil!==1/0})).length)return;T=new cg(b.playlists[0],u,h,v)}else"vhs-json"===l&&(T=new Hm(b.playlists?b.playlists[0]:b.resolvedUri,u,h));if(b=videojs.mergeOptions({id:_,playlistLoader:T},b),jv[o](o,b.playlistLoader,a),m[y].push(b),void 0===g[_]){var S=s.addRemoteTextTrack({id:_,kind:"subtitles",default:b.default&&b.autoselect,language:b.language,label:_},!1).track;g[_]=S}}c.on("error",Fv[o](o,a))},"CLOSED-CAPTIONS":function CLOSEDCAPTIONS(o,a){var s=a.tech,u=a.master.mediaGroups,l=a.mediaTypes[o],c=l.groups,h=l.tracks;for(var f in u[o])for(var p in c[f]||(c[f]=[]),u[o][f]){var m=u[o][f][p];if(/^(?:CC|SERVICE)/.test(m.instreamId)){var g=s.options_.vhs&&s.options_.vhs.captionServices||{},v={label:p,language:m.language,instreamId:m.instreamId,default:m.default&&m.autoselect};if(g[v.instreamId]&&(v=videojs.mergeOptions(v,g[v.instreamId])),void 0===v.default&&delete v.default,c[f].push(videojs.mergeOptions({id:p},m)),void 0===h[p]){var y=s.addRemoteTextTrack({id:v.instreamId,kind:"captions",default:v.default,language:v.language,label:v.label},!1).track;h[p]=y}}}}},Hv=function groupMatch(o,a){for(var s=0;s<o.length;s++){if(Em(a,o[s]))return!0;if(o[s].playlists&&groupMatch(o[s].playlists,a))return!0}return!1},qv={AUDIO:function AUDIO(o,a){return function(){var s=a.mediaTypes[o].tracks;for(var u in s)if(s[u].enabled)return s[u];return null}},SUBTITLES:function SUBTITLES(o,a){return function(){var s=a.mediaTypes[o].tracks;for(var u in s)if("showing"===s[u].mode||"hidden"===s[u].mode)return s[u];return null}}},Vv=function setupMediaGroups(o){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(a){Uv[a](a,o)}));var a=o.mediaTypes,s=o.masterPlaylistLoader,u=o.tech,l=o.vhs,c=o.segmentLoaders,h=c.AUDIO,f=c.main;["AUDIO","SUBTITLES"].forEach((function(s){a[s].activeGroup=function activeGroup(o,a){return function(s){var u=a.masterPlaylistLoader,l=a.mediaTypes[o].groups,c=u.media();if(!c)return null;var h=null;c.attributes[o]&&(h=l[c.attributes[o]]);var f=Object.keys(l);if(!h)if("AUDIO"===o&&f.length>1&&Cm(a.master))for(var p=0;p<f.length;p++){var m=l[f[p]];if(Hv(m,c)){h=m;break}}else l.main?h=l.main:1===f.length&&(h=l[f[0]]);return void 0===s?h:null!==s&&h&&h.filter((function(o){return o.id===s.id}))[0]||null}}(s,o),a[s].activeTrack=qv[s](s,o),a[s].onGroupChanged=function onGroupChanged(o,a){return function(){var s=a.segmentLoaders,u=s[o],l=s.main,c=a.mediaTypes[o],h=c.activeTrack(),f=c.getActiveGroup(),p=c.activePlaylistLoader,m=c.lastGroup_;f&&m&&f.id===m.id||(c.lastGroup_=f,c.lastTrack_=h,Nv(u,c),f&&!f.isMasterPlaylist&&(f.playlistLoader?(u.resyncLoader(),Bv(f.playlistLoader,c)):p&&l.resetEverything()))}}(s,o),a[s].onGroupChanging=function onGroupChanging(o,a){return function(){var s=a.segmentLoaders[o];a.mediaTypes[o].lastGroup_=null,s.abort(),s.pause()}}(s,o),a[s].onTrackChanged=function onTrackChanged(o,a){return function(){var s=a.masterPlaylistLoader,u=a.segmentLoaders,l=u[o],c=u.main,h=a.mediaTypes[o],f=h.activeTrack(),p=h.getActiveGroup(),m=h.activePlaylistLoader,g=h.lastTrack_;if((!g||!f||g.id!==f.id)&&(h.lastGroup_=p,h.lastTrack_=f,Nv(l,h),p)){if(p.isMasterPlaylist){if(!f||!g||f.id===g.id)return;var v=a.vhs.masterPlaylistController_,y=v.selectPlaylist();if(v.media()===y)return;return h.logger_("track change. Switching master audio from "+g.id+" to "+f.id),s.pause(),c.resetEverything(),void v.fastQualityChange_(y)}if("AUDIO"===o){if(!p.playlistLoader)return c.setAudio(!0),void c.resetEverything();l.setAudio(!0),c.setAudio(!1)}m!==p.playlistLoader?(l.track&&l.track(f),l.resetEverything(),Bv(p.playlistLoader,h)):Bv(p.playlistLoader,h)}}}(s,o),a[s].getActiveGroup=function getActiveGroup(o,a){var s=a.mediaTypes;return function(){var a=s[o].activeTrack();return a?s[o].activeGroup(a):null}}(s,o)}));var p=a.AUDIO.activeGroup();if(p){var m=(p.filter((function(o){return o.default}))[0]||p[0]).id;a.AUDIO.tracks[m].enabled=!0,a.AUDIO.onGroupChanged(),a.AUDIO.onTrackChanged(),a.AUDIO.getActiveGroup().playlistLoader?(f.setAudio(!1),h.setAudio(!0)):f.setAudio(!0)}s.on("mediachange",(function(){["AUDIO","SUBTITLES"].forEach((function(o){return a[o].onGroupChanged()}))})),s.on("mediachanging",(function(){["AUDIO","SUBTITLES"].forEach((function(o){return a[o].onGroupChanging()}))}));var g=function onAudioTrackChanged(){a.AUDIO.onTrackChanged(),u.trigger({type:"usage",name:"vhs-audio-change"}),u.trigger({type:"usage",name:"hls-audio-change"})};for(var v in u.audioTracks().addEventListener("change",g),u.remoteTextTracks().addEventListener("change",a.SUBTITLES.onTrackChanged),l.on("dispose",(function(){u.audioTracks().removeEventListener("change",g),u.remoteTextTracks().removeEventListener("change",a.SUBTITLES.onTrackChanged)})),u.clearTracks("audio"),a.AUDIO.tracks)u.audioTracks().addTrack(a.AUDIO.tracks[v])},Wv=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],zv=function sumLoaderStat(o){return this.audioSegmentLoader_[o]+this.mainSegmentLoader_[o]},Gv=function(o){function MasterPlaylistController(a){var s;s=o.call(this)||this;var u=a.src,l=a.handleManifestRedirects,c=a.withCredentials,h=a.tech,f=a.bandwidth,p=a.externVhs,m=a.useCueTags,g=a.blacklistDuration,v=a.enableLowInitialPlaylist,y=a.sourceType,_=a.cacheEncryptionKeys,b=a.experimentalBufferBasedABR,T=a.experimentalLeastPixelDiffSelector;if(!u)throw new Error("A non-empty playlist URL or JSON manifest string is required");var S=a.maxPlaylistRetries;null==S&&(S=1/0),sv=p,s.experimentalBufferBasedABR=Boolean(b),s.experimentalLeastPixelDiffSelector=Boolean(T),s.withCredentials=c,s.tech_=h,s.vhs_=h.vhs,s.sourceType_=y,s.useCueTags_=m,s.blacklistDuration=g,s.maxPlaylistRetries=S,s.enableLowInitialPlaylist=v,s.useCueTags_&&(s.cueTagsTrack_=s.tech_.addTextTrack("metadata","ad-cues"),s.cueTagsTrack_.inBandMetadataTrackDispatchType=""),s.requestOptions_={withCredentials:c,handleManifestRedirects:l,maxPlaylistRetries:S,timeout:null},s.on("error",s.pauseLoading),s.mediaTypes_=function createMediaTypes(){var o={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(a){o[a]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:video_es_noop,activeTrack:video_es_noop,getActiveGroup:video_es_noop,onGroupChanged:video_es_noop,onTrackChanged:video_es_noop,lastTrack_:null,logger_:tm("MediaGroups["+a+"]")}})),o}(),s.mediaSource=new Su.a.MediaSource,s.handleDurationChange_=s.handleDurationChange_.bind(Pu()(s)),s.handleSourceOpen_=s.handleSourceOpen_.bind(Pu()(s)),s.handleSourceEnded_=s.handleSourceEnded_.bind(Pu()(s)),s.mediaSource.addEventListener("durationchange",s.handleDurationChange_),s.mediaSource.addEventListener("sourceopen",s.handleSourceOpen_),s.mediaSource.addEventListener("sourceended",s.handleSourceEnded_),s.seekable_=videojs.createTimeRanges(),s.hasPlayed_=!1,s.syncController_=new Lv(a),s.segmentMetadataTrack_=h.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,s.decrypter_=new Dv,s.sourceUpdater_=new Cv(s.mediaSource),s.inbandTextTracks_={},s.timelineChangeController_=new Mv;var w={vhs:s.vhs_,parse708captions:a.parse708captions,mediaSource:s.mediaSource,currentTime:s.tech_.currentTime.bind(s.tech_),seekable:function seekable(){return s.seekable()},seeking:function seeking(){return s.tech_.seeking()},duration:function duration(){return s.duration()},hasPlayed:function hasPlayed(){return s.hasPlayed_},goalBufferLength:function goalBufferLength(){return s.goalBufferLength()},bandwidth:f,syncController:s.syncController_,decrypter:s.decrypter_,sourceType:s.sourceType_,inbandTextTracks:s.inbandTextTracks_,cacheEncryptionKeys:_,sourceUpdater:s.sourceUpdater_,timelineChangeController:s.timelineChangeController_,experimentalExactManifestTimings:a.experimentalExactManifestTimings};s.masterPlaylistLoader_="dash"===s.sourceType_?new cg(u,s.vhs_,s.requestOptions_):new Hm(u,s.vhs_,s.requestOptions_),s.setupMasterPlaylistLoaderListeners_(),s.mainSegmentLoader_=new av(videojs.mergeOptions(w,{segmentMetadataTrack:s.segmentMetadataTrack_,loaderType:"main"}),a),s.audioSegmentLoader_=new av(videojs.mergeOptions(w,{loaderType:"audio"}),a),s.subtitleSegmentLoader_=new Av(videojs.mergeOptions(w,{loaderType:"vtt",featuresNativeTextTracks:s.tech_.featuresNativeTextTracks}),a),s.setupSegmentLoaderListeners_(),s.experimentalBufferBasedABR&&(s.masterPlaylistLoader_.one("loadedplaylist",(function(){return s.startABRTimer_()})),s.tech_.on("pause",(function(){return s.stopABRTimer_()})),s.tech_.on("play",(function(){return s.startABRTimer_()}))),Wv.forEach((function(o){s[o+"_"]=zv.bind(Pu()(s),o)})),s.logger_=tm("MPC"),s.triggeredFmp4Usage=!1,"none"===s.tech_.preload()?(s.loadOnPlay_=function(){s.loadOnPlay_=null,s.masterPlaylistLoader_.load()},s.tech_.one("play",s.loadOnPlay_)):s.masterPlaylistLoader_.load(),s.timeToLoadedData__=-1,s.mainAppendsToLoadedData__=-1,s.audioAppendsToLoadedData__=-1;var k="none"===s.tech_.preload()?"play":"loadstart";return s.tech_.one(k,(function(){var o=Date.now();s.tech_.one("loadeddata",(function(){s.timeToLoadedData__=Date.now()-o,s.mainAppendsToLoadedData__=s.mainSegmentLoader_.mediaAppends,s.audioAppendsToLoadedData__=s.audioSegmentLoader_.mediaAppends}))})),s}Iu()(MasterPlaylistController,o);var a=MasterPlaylistController.prototype;return a.mainAppendsToLoadedData_=function mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__},a.audioAppendsToLoadedData_=function audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__},a.appendsToLoadedData_=function appendsToLoadedData_(){var o=this.mainAppendsToLoadedData_(),a=this.audioAppendsToLoadedData_();return-1===o||-1===a?-1:o+a},a.timeToLoadedData_=function timeToLoadedData_(){return this.timeToLoadedData__},a.checkABR_=function checkABR_(){var o=this.selectPlaylist();o&&this.shouldSwitchToMedia_(o)&&this.switchMedia_(o,"abr")},a.switchMedia_=function switchMedia_(o,a,s){var u=this.media(),l=u&&(u.id||u.uri),c=o.id||o.uri;l&&l!==c&&(this.logger_("switch media "+l+" -> "+c+" from "+a),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+a})),this.masterPlaylistLoader_.media(o,s)},a.startABRTimer_=function startABRTimer_(){var o=this;this.stopABRTimer_(),this.abrTimer_=Su.a.setInterval((function(){return o.checkABR_()}),250)},a.stopABRTimer_=function stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(Su.a.clearInterval(this.abrTimer_),this.abrTimer_=null)},a.getAudioTrackPlaylists_=function getAudioTrackPlaylists_(){var o=this.master(),a=o&&o.playlists||[];if(!o||!o.mediaGroups||!o.mediaGroups.AUDIO)return a;var s,u=o.mediaGroups.AUDIO,l=Object.keys(u);if(Object.keys(this.mediaTypes_.AUDIO.groups).length)s=this.mediaTypes_.AUDIO.activeTrack();else{var c=u.main||l.length&&u[l[0]];for(var h in c)if(c[h].default){s={label:h};break}}if(!s)return a;var f=[];for(var p in u)if(u[p][s.label]){var m=u[p][s.label];if(m.playlists&&m.playlists.length)f.push.apply(f,m.playlists);else if(m.uri)f.push(m);else if(o.playlists.length)for(var g=0;g<o.playlists.length;g++){var v=o.playlists[g];v.attributes&&v.attributes.AUDIO&&v.attributes.AUDIO===p&&f.push(v)}}return f.length?f:a},a.setupMasterPlaylistLoaderListeners_=function setupMasterPlaylistLoaderListeners_(){var o=this;this.masterPlaylistLoader_.on("loadedmetadata",(function(){var a=o.masterPlaylistLoader_.media(),s=1.5*a.targetDuration*1e3;wm(o.masterPlaylistLoader_.master,o.masterPlaylistLoader_.media())?o.requestOptions_.timeout=0:o.requestOptions_.timeout=s,a.endList&&"none"!==o.tech_.preload()&&(o.mainSegmentLoader_.playlist(a,o.requestOptions_),o.mainSegmentLoader_.load()),Vv({sourceType:o.sourceType_,segmentLoaders:{AUDIO:o.audioSegmentLoader_,SUBTITLES:o.subtitleSegmentLoader_,main:o.mainSegmentLoader_},tech:o.tech_,requestOptions:o.requestOptions_,masterPlaylistLoader:o.masterPlaylistLoader_,vhs:o.vhs_,master:o.master(),mediaTypes:o.mediaTypes_,blacklistCurrentPlaylist:o.blacklistCurrentPlaylist.bind(o)}),o.triggerPresenceUsage_(o.master(),a),o.setupFirstPlay(),!o.mediaTypes_.AUDIO.activePlaylistLoader||o.mediaTypes_.AUDIO.activePlaylistLoader.media()?o.trigger("selectedinitialmedia"):o.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",(function(){o.trigger("selectedinitialmedia")}))})),this.masterPlaylistLoader_.on("loadedplaylist",(function(){o.loadOnPlay_&&o.tech_.off("play",o.loadOnPlay_);var a=o.masterPlaylistLoader_.media();if(!a){var s;if(o.excludeUnsupportedVariants_(),o.enableLowInitialPlaylist&&(s=o.selectInitialPlaylist()),s||(s=o.selectPlaylist()),!s||!o.shouldSwitchToMedia_(s))return;if(o.initialMedia_=s,o.switchMedia_(o.initialMedia_,"initial"),!("vhs-json"===o.sourceType_&&o.initialMedia_.segments))return;a=o.initialMedia_}o.handleUpdatedMediaPlaylist(a)})),this.masterPlaylistLoader_.on("error",(function(){o.blacklistCurrentPlaylist(o.masterPlaylistLoader_.error)})),this.masterPlaylistLoader_.on("mediachanging",(function(){o.mainSegmentLoader_.abort(),o.mainSegmentLoader_.pause()})),this.masterPlaylistLoader_.on("mediachange",(function(){var a=o.masterPlaylistLoader_.media(),s=1.5*a.targetDuration*1e3;wm(o.masterPlaylistLoader_.master,o.masterPlaylistLoader_.media())?o.requestOptions_.timeout=0:o.requestOptions_.timeout=s,o.mainSegmentLoader_.playlist(a,o.requestOptions_),o.mainSegmentLoader_.load(),o.tech_.trigger({type:"mediachange",bubbles:!0})})),this.masterPlaylistLoader_.on("playlistunchanged",(function(){var a=o.masterPlaylistLoader_.media();"playlist-unchanged"!==a.lastExcludeReason_&&(o.stuckAtPlaylistEnd_(a)&&(o.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),o.tech_.trigger("playliststuck")))})),this.masterPlaylistLoader_.on("renditiondisabled",(function(){o.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),o.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})})),this.masterPlaylistLoader_.on("renditionenabled",(function(){o.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),o.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})}))},a.handleUpdatedMediaPlaylist=function handleUpdatedMediaPlaylist(o){this.useCueTags_&&this.updateAdCues_(o),this.mainSegmentLoader_.playlist(o,this.requestOptions_),this.updateDuration(!o.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},a.triggerPresenceUsage_=function triggerPresenceUsage_(o,a){var s=o.mediaGroups||{},u=!0,l=Object.keys(s.AUDIO);for(var c in s.AUDIO)for(var h in s.AUDIO[c]){s.AUDIO[c][h].uri||(u=!1)}u&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(s.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),sv.Playlist.isAes(a)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),l.length&&Object.keys(s.AUDIO[l[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},a.shouldSwitchToMedia_=function shouldSwitchToMedia_(o){var a=this.masterPlaylistLoader_.media(),s=this.tech_.buffered();return function shouldSwitchToMedia(o){var a=o.currentPlaylist,s=o.nextPlaylist,u=o.forwardBuffer,l=o.bufferLowWaterLine,c=o.bufferHighWaterLine,h=o.duration,f=o.experimentalBufferBasedABR,p=o.log;if(!s)return videojs.log.warn("We received no playlist to switch to. Please check your stream."),!1;var m="allowing switch "+(a&&a.id||"null")+" -> "+s.id;if(!a)return p(m+" as current playlist is not set"),!0;if(s.id===a.id)return!1;if(!a.endList)return p(m+" as current playlist is live"),!0;var g=f?dg.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:dg.MAX_BUFFER_LOW_WATER_LINE;if(h<g)return p(m+" as duration < max low water line ("+h+" < "+g+")"),!0;var v=s.attributes.BANDWIDTH,y=a.attributes.BANDWIDTH;if(v<y&&(!f||u<c)){var _=m+" as next bandwidth < current bandwidth ("+v+" < "+y+")";return f&&(_+=" and forwardBuffer < bufferHighWaterLine ("+u+" < "+c+")"),p(_),!0}if((!f||v>y)&&u>=l){var b=m+" as forwardBuffer >= bufferLowWaterLine ("+u+" >= "+l+")";return f&&(b+=" and next bandwidth > current bandwidth ("+v+" > "+y+")"),p(b),!0}return p("not "+m+" as no switching criteria met"),!1}({currentPlaylist:a,nextPlaylist:o,forwardBuffer:s.length?s.end(s.length-1)-this.tech_.currentTime():0,bufferLowWaterLine:this.bufferLowWaterLine(),bufferHighWaterLine:this.bufferHighWaterLine(),duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},a.setupSegmentLoaderListeners_=function setupSegmentLoaderListeners_(){var o=this;this.experimentalBufferBasedABR||(this.mainSegmentLoader_.on("bandwidthupdate",(function(){var a=o.selectPlaylist();o.shouldSwitchToMedia_(a)&&o.switchMedia_(a,"bandwidthupdate"),o.tech_.trigger("bandwidthupdate")})),this.mainSegmentLoader_.on("progress",(function(){o.trigger("progress")}))),this.mainSegmentLoader_.on("error",(function(){o.blacklistCurrentPlaylist(o.mainSegmentLoader_.error())})),this.mainSegmentLoader_.on("appenderror",(function(){o.error=o.mainSegmentLoader_.error_,o.trigger("error")})),this.mainSegmentLoader_.on("syncinfoupdate",(function(){o.onSyncInfoUpdate_()})),this.mainSegmentLoader_.on("timestampoffset",(function(){o.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),o.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})})),this.audioSegmentLoader_.on("syncinfoupdate",(function(){o.onSyncInfoUpdate_()})),this.audioSegmentLoader_.on("appenderror",(function(){o.error=o.audioSegmentLoader_.error_,o.trigger("error")})),this.mainSegmentLoader_.on("ended",(function(){o.logger_("main segment loader ended"),o.onEndOfStream()})),this.mainSegmentLoader_.on("earlyabort",(function(a){o.experimentalBufferBasedABR||(o.delegateLoaders_("all",["abort"]),o.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120))}));var a=function updateCodecs(){if(!o.sourceUpdater_.hasCreatedSourceBuffers())return o.tryToCreateSourceBuffers_();var a=o.getCodecsOrExclude_();a&&o.sourceUpdater_.addOrChangeSourceBuffers(a)};this.mainSegmentLoader_.on("trackinfo",a),this.audioSegmentLoader_.on("trackinfo",a),this.mainSegmentLoader_.on("fmp4",(function(){o.triggeredFmp4Usage||(o.tech_.trigger({type:"usage",name:"vhs-fmp4"}),o.tech_.trigger({type:"usage",name:"hls-fmp4"}),o.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("fmp4",(function(){o.triggeredFmp4Usage||(o.tech_.trigger({type:"usage",name:"vhs-fmp4"}),o.tech_.trigger({type:"usage",name:"hls-fmp4"}),o.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("ended",(function(){o.logger_("audioSegmentLoader ended"),o.onEndOfStream()}))},a.mediaSecondsLoaded_=function mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},a.load=function load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},a.smoothQualityChange_=function smoothQualityChange_(o){void 0===o&&(o=this.selectPlaylist()),this.fastQualityChange_(o)},a.fastQualityChange_=function fastQualityChange_(o){var a=this;void 0===o&&(o=this.selectPlaylist()),o!==this.masterPlaylistLoader_.media()?(this.switchMedia_(o,"fast-quality"),this.mainSegmentLoader_.resetEverything((function(){videojs.browser.IE_VERSION||videojs.browser.IS_EDGE?a.tech_.setCurrentTime(a.tech_.currentTime()+.04):a.tech_.setCurrentTime(a.tech_.currentTime())}))):this.logger_("skipping fastQualityChange because new media is same as old")},a.play=function play(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var o=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<o.start(0)?this.tech_.setCurrentTime(o.end(o.length-1)):void 0}},a.setupFirstPlay=function setupFirstPlay(){var o=this,a=this.masterPlaylistLoader_.media();if(!a||this.tech_.paused()||this.hasPlayed_)return!1;if(!a.endList){var s=this.seekable();if(!s.length)return!1;if(videojs.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",(function(){o.trigger("firstplay"),o.tech_.setCurrentTime(s.end(0)),o.hasPlayed_=!0})),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(s.end(0))}return this.hasPlayed_=!0,this.load(),!0},a.handleSourceOpen_=function handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var o=this.tech_.play();void 0!==o&&"function"==typeof o.then&&o.then(null,(function(o){}))}this.trigger("sourceopen")},a.handleSourceEnded_=function handleSourceEnded_(){if(this.inbandTextTracks_.metadataTrack_){var o=this.inbandTextTracks_.metadataTrack_.cues;if(o&&o.length){var a=this.duration();o[o.length-1].endTime=isNaN(a)||Math.abs(a)===1/0?Number.MAX_VALUE:a}}},a.handleDurationChange_=function handleDurationChange_(){this.tech_.trigger("durationchange")},a.onEndOfStream=function onEndOfStream(){var o=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){var a=this.mainSegmentLoader_.getCurrentMediaInfo_();o=!a||a.hasVideo?o&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_}o&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},a.stuckAtPlaylistEnd_=function stuckAtPlaylistEnd_(o){if(!this.seekable().length)return!1;var a=this.syncController_.getExpiredTime(o,this.duration());if(null===a)return!1;var s=sv.Playlist.playlistEnd(o,a),u=this.tech_.currentTime(),l=this.tech_.buffered();if(!l.length)return s-u<=rm;var c=l.end(l.length-1);return c-u<=rm&&s-c<=rm},a.blacklistCurrentPlaylist=function blacklistCurrentPlaylist(o,a){void 0===o&&(o={});var s=o.playlist||this.masterPlaylistLoader_.media();if(a=a||o.blacklistDuration||this.blacklistDuration,!s)return this.error=o,void("open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network"));s.playlistErrors_++;var u,l=this.masterPlaylistLoader_.master.playlists,c=l.filter(Tm),h=1===c.length&&c[0]===s;if(1===l.length&&a!==1/0)return videojs.log.warn("Problem encountered with playlist "+s.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(h);if(h){var f=!1;l.forEach((function(o){if(o!==s){var a=o.excludeUntil;void 0!==a&&a!==1/0&&(f=!0,delete o.excludeUntil)}})),f&&(videojs.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}u=s.playlistErrors_>this.maxPlaylistRetries?1/0:Date.now()+1e3*a,s.excludeUntil=u,o.reason&&(s.lastExcludeReason_=o.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var p=this.selectPlaylist();if(!p)return this.error="Playback cannot continue. No available working or supported playlists.",void this.trigger("error");var m=o.internal?this.logger_:videojs.log.warn,g=o.message?" "+o.message:"";m((o.internal?"Internal problem":"Problem")+" encountered with playlist "+s.id+"."+g+" Switching to playlist "+p.id+"."),p.attributes.AUDIO!==s.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),p.attributes.SUBTITLES!==s.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var v=p.targetDuration/2*1e3||5e3,y="number"==typeof p.lastRequest&&Date.now()-p.lastRequest<=v;return this.switchMedia_(p,"exclude",h||y)},a.pauseLoading=function pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},a.delegateLoaders_=function delegateLoaders_(o,a){var s=this,u=[],l="all"===o;(l||"main"===o)&&u.push(this.masterPlaylistLoader_);var c=[];(l||"audio"===o)&&c.push("AUDIO"),(l||"subtitle"===o)&&(c.push("CLOSED-CAPTIONS"),c.push("SUBTITLES")),c.forEach((function(o){var a=s.mediaTypes_[o]&&s.mediaTypes_[o].activePlaylistLoader;a&&u.push(a)})),["main","audio","subtitle"].forEach((function(a){var l=s[a+"SegmentLoader_"];!l||o!==a&&"all"!==o||u.push(l)})),u.forEach((function(o){return a.forEach((function(a){"function"==typeof o[a]&&o[a]()}))}))},a.setCurrentTime=function setCurrentTime(o){var a=om(this.tech_.buffered(),o);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?a&&a.length?o:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0},a.duration=function duration(){if(!this.masterPlaylistLoader_)return 0;var o=this.masterPlaylistLoader_.media();return o?o.endList?this.mediaSource?this.mediaSource.duration:sv.Playlist.duration(o):1/0:0},a.seekable=function seekable(){return this.seekable_},a.onSyncInfoUpdate_=function onSyncInfoUpdate_(){var o;if(this.masterPlaylistLoader_){var a=this.masterPlaylistLoader_.media();if(a){var s=this.syncController_.getExpiredTime(a,this.duration());if(null!==s){var u=this.masterPlaylistLoader_.master,l=sv.Playlist.seekable(a,s,sv.Playlist.liveEdgeDelay(u,a));if(0!==l.length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(a=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(s=this.syncController_.getExpiredTime(a,this.duration())))return;if(0===(o=sv.Playlist.seekable(a,s,sv.Playlist.liveEdgeDelay(u,a))).length)return}var c,h;this.seekable_&&this.seekable_.length&&(c=this.seekable_.end(0),h=this.seekable_.start(0)),o?o.start(0)>l.end(0)||l.start(0)>o.end(0)?this.seekable_=l:this.seekable_=videojs.createTimeRanges([[o.start(0)>l.start(0)?o.start(0):l.start(0),o.end(0)<l.end(0)?o.end(0):l.end(0)]]):this.seekable_=l,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===c&&this.seekable_.start(0)===h||(this.logger_("seekable updated ["+sm(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},a.updateDuration=function updateDuration(o){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),"open"!==this.mediaSource.readyState)return this.updateDuration_=this.updateDuration.bind(this,o),void this.mediaSource.addEventListener("sourceopen",this.updateDuration_);if(o){var a=this.seekable();if(!a.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<a.end(a.length-1))&&this.sourceUpdater_.setDuration(a.end(a.length-1))}else{var s=this.tech_.buffered(),u=sv.Playlist.duration(this.masterPlaylistLoader_.media());s.length>0&&(u=Math.max(u,s.end(s.length-1))),this.mediaSource.duration!==u&&this.sourceUpdater_.setDuration(u)}},a.dispose=function dispose(){var o=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach((function(a){var s=o.mediaTypes_[a].groups;for(var u in s)s[u].forEach((function(o){o.playlistLoader&&o.playlistLoader.dispose()}))})),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},a.master=function master(){return this.masterPlaylistLoader_.master},a.media=function media(){return this.masterPlaylistLoader_.media()||this.initialMedia_},a.areMediaTypesKnown_=function areMediaTypesKnown_(){var o=!!this.mediaTypes_.AUDIO.activePlaylistLoader,a=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),s=!o||!!this.audioSegmentLoader_.getCurrentMediaInfo_();return!(!a||!s)},a.getCodecsOrExclude_=function getCodecsOrExclude_(){var o=this,a={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}};a.video=a.main;var s=Vg(this.master(),this.media()),u={},l=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(a.main.hasVideo&&(u.video=s.video||a.main.videoCodec||"avc1.4d400d"),a.main.isMuxed&&(u.video+=","+(s.audio||a.main.audioCodec||fl)),(a.main.hasAudio&&!a.main.isMuxed||a.audio.hasAudio||l)&&(u.audio=s.audio||a.main.audioCodec||a.audio.audioCodec||fl,a.audio.isFmp4=a.main.hasAudio&&!a.main.isMuxed?a.main.isFmp4:a.audio.isFmp4),u.audio||u.video){var c,h={};if(["video","audio"].forEach((function(o){if(u.hasOwnProperty(o)&&!function supportFunction(o,a){return o?dl(a):hl(a)}(a[o].isFmp4,u[o])){var s=a[o].isFmp4?"browser":"muxer";h[s]=h[s]||[],h[s].push(u[o]),"audio"===o&&(c=s)}})),l&&c&&this.media().attributes.AUDIO){var f=this.media().attributes.AUDIO;this.master().playlists.forEach((function(a){(a.attributes&&a.attributes.AUDIO)===f&&a!==o.media()&&(a.excludeUntil=1/0)})),this.logger_("excluding audio group "+f+" as "+c+' does not support codec(s): "'+u.audio+'"')}if(!Object.keys(h).length){if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var p=[];if(["video","audio"].forEach((function(a){var s=(ul(o.sourceUpdater_.codecs[a]||"")[0]||{}).type,l=(ul(u[a]||"")[0]||{}).type;s&&l&&s.toLowerCase()!==l.toLowerCase()&&p.push('"'+o.sourceUpdater_.codecs[a]+'" -> "'+u[a]+'"')})),p.length)return void this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+p.join(", ")+".",blacklistDuration:1/0,internal:!0})}return u}var m=Object.keys(h).reduce((function(o,a){return o&&(o+=", "),o+=a+' does not support codec(s): "'+h[a].join(",")+'"'}),"")+".";this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:m,blacklistDuration:1/0})}else this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0})},a.tryToCreateSourceBuffers_=function tryToCreateSourceBuffers_(){if("open"===this.mediaSource.readyState&&!this.sourceUpdater_.hasCreatedSourceBuffers()&&this.areMediaTypesKnown_()){var o=this.getCodecsOrExclude_();if(o){this.sourceUpdater_.createSourceBuffers(o);var a=[o.video,o.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(a)}}},a.excludeUnsupportedVariants_=function excludeUnsupportedVariants_(){var o=this,a=this.master().playlists,s=[];Object.keys(a).forEach((function(u){var l=a[u];if(-1===s.indexOf(l.id)){s.push(l.id);var c=Vg(o.master,l),h=[];!c.audio||hl(c.audio)||dl(c.audio)||h.push("audio codec "+c.audio),!c.video||hl(c.video)||dl(c.video)||h.push("video codec "+c.video),c.text&&"stpp.ttml.im1t"===c.text&&h.push("text codec "+c.text),h.length&&(l.excludeUntil=1/0,o.logger_("excluding "+l.id+" for unsupported: "+h.join(", ")))}}))},a.excludeIncompatibleVariants_=function excludeIncompatibleVariants_(o){var a=this,s=[],u=this.master().playlists,l=Hg(ul(o)),c=qg(l),h=l.video&&ul(l.video)[0]||null,f=l.audio&&ul(l.audio)[0]||null;Object.keys(u).forEach((function(o){var l=u[o];if(-1===s.indexOf(l.id)&&l.excludeUntil!==1/0){s.push(l.id);var p=[],m=Vg(a.masterPlaylistLoader_.master,l),g=qg(m);if(m.audio||m.video){if(g!==c&&p.push('codec count "'+g+'" !== "'+c+'"'),!a.sourceUpdater_.canChangeType()){var v=m.video&&ul(m.video)[0]||null,y=m.audio&&ul(m.audio)[0]||null;v&&h&&v.type.toLowerCase()!==h.type.toLowerCase()&&p.push('video codec "'+v.type+'" !== "'+h.type+'"'),y&&f&&y.type.toLowerCase()!==f.type.toLowerCase()&&p.push('audio codec "'+y.type+'" !== "'+f.type+'"')}p.length&&(l.excludeUntil=1/0,a.logger_("blacklisting "+l.id+": "+p.join(" && ")))}}}))},a.updateAdCues_=function updateAdCues_(o){var a=0,s=this.seekable();s.length&&(a=s.start(0)),function updateAdCues(o,a,s){if(void 0===s&&(s=0),o.segments)for(var u,l=s,c=0;c<o.segments.length;c++){var h=o.segments[c];if(u||(u=Iv(a,l+h.duration/2)),u){if("cueIn"in h){u.endTime=l,u.adEndTime=l,l+=h.duration,u=null;continue}if(l<u.endTime){l+=h.duration;continue}u.endTime+=h.duration}else if("cueOut"in h&&((u=new Su.a.VTTCue(l,l+h.duration,h.cueOut)).adStartTime=l,u.adEndTime=l+parseFloat(h.cueOut),a.addCue(u)),"cueOutCont"in h){var f=h.cueOutCont.split("/").map(parseFloat),p=f[0],m=f[1];(u=new Su.a.VTTCue(l,l+h.duration,"")).adStartTime=l-p,u.adEndTime=u.adStartTime+m,a.addCue(u)}l+=h.duration}}(o,this.cueTagsTrack_,a)},a.goalBufferLength=function goalBufferLength(){var o=this.tech_.currentTime(),a=dg.GOAL_BUFFER_LENGTH,s=dg.GOAL_BUFFER_LENGTH_RATE,u=Math.max(a,dg.MAX_GOAL_BUFFER_LENGTH);return Math.min(a+o*s,u)},a.bufferLowWaterLine=function bufferLowWaterLine(){var o=this.tech_.currentTime(),a=dg.BUFFER_LOW_WATER_LINE,s=dg.BUFFER_LOW_WATER_LINE_RATE,u=Math.max(a,dg.MAX_BUFFER_LOW_WATER_LINE),l=Math.max(a,dg.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(a+o*s,this.experimentalBufferBasedABR?l:u)},a.bufferHighWaterLine=function bufferHighWaterLine(){return dg.BUFFER_HIGH_WATER_LINE},MasterPlaylistController}(videojs.EventTarget),Xv=function Representation(o,a,s){var u=o.masterPlaylistController_,l=u[(o.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(u);if(a.attributes){var c=a.attributes.RESOLUTION;this.width=c&&c.width,this.height=c&&c.height,this.bandwidth=a.attributes.BANDWIDTH}this.codecs=Vg(u.master(),a),this.playlist=a,this.id=s,this.enabled=function enableFunction(o,a,s){return function(u){var l=o.master.playlists[a],c=bm(l),h=Tm(l);return void 0===u?h:(u?delete l.disabled:l.disabled=!0,u===h||c||(s(),u?o.trigger("renditionenabled"):o.trigger("renditiondisabled")),u)}}(o.playlists,a.id,l)},Yv=["seeking","seeked","pause","playing","error"],$v=function(){function PlaybackWatcher(o){var a=this;this.masterPlaylistController_=o.masterPlaylistController,this.tech_=o.tech,this.seekable=o.seekable,this.allowSeeksWithinUnsafeLiveWindow=o.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=o.liveRangeSafeTimeDelta,this.media=o.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=tm("PlaybackWatcher"),this.logger_("initialize");var s=function playHandler(){return a.monitorCurrentTime_()},u=function canPlayHandler(){return a.monitorCurrentTime_()},l=function waitingHandler(){return a.techWaiting_()},c=function cancelTimerHandler(){return a.cancelTimer_()},h=function fixesBadSeeksHandler(){return a.fixesBadSeeks_()},f=this.masterPlaylistController_,p=["main","subtitle","audio"],m={};p.forEach((function(o){m[o]={reset:function reset(){return a.resetSegmentDownloads_(o)},updateend:function updateend(){return a.checkSegmentDownloads_(o)}},f[o+"SegmentLoader_"].on("appendsdone",m[o].updateend),f[o+"SegmentLoader_"].on("playlistupdate",m[o].reset),a.tech_.on(["seeked","seeking"],m[o].reset)})),this.tech_.on("seekablechanged",h),this.tech_.on("waiting",l),this.tech_.on(Yv,c),this.tech_.on("canplay",u),this.tech_.one("play",s),this.dispose=function(){a.logger_("dispose"),a.tech_.off("seekablechanged",h),a.tech_.off("waiting",l),a.tech_.off(Yv,c),a.tech_.off("canplay",u),a.tech_.off("play",s),p.forEach((function(o){f[o+"SegmentLoader_"].off("appendsdone",m[o].updateend),f[o+"SegmentLoader_"].off("playlistupdate",m[o].reset),a.tech_.off(["seeked","seeking"],m[o].reset)})),a.checkCurrentTimeTimeout_&&Su.a.clearTimeout(a.checkCurrentTimeTimeout_),a.cancelTimer_()}}var o=PlaybackWatcher.prototype;return o.monitorCurrentTime_=function monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&Su.a.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=Su.a.setTimeout(this.monitorCurrentTime_.bind(this),250)},o.resetSegmentDownloads_=function resetSegmentDownloads_(o){var a=this.masterPlaylistController_[o+"SegmentLoader_"];this[o+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+o+" loader"),this[o+"StalledDownloads_"]=0,this[o+"Buffered_"]=a.buffered_()},o.checkSegmentDownloads_=function checkSegmentDownloads_(o){var a=this.masterPlaylistController_,s=a[o+"SegmentLoader_"],u=s.buffered_(),l=function isRangeDifferent(o,a){if(o===a)return!1;if(!o&&a||!a&&o)return!0;if(o.length!==a.length)return!0;for(var s=0;s<o.length;s++)if(o.start(s)!==a.start(s)||o.end(s)!==a.end(s))return!0;return!1}(this[o+"Buffered_"],u);this[o+"Buffered_"]=u,l?this.resetSegmentDownloads_(o):(this[o+"StalledDownloads_"]++,this.logger_("found #"+this[o+"StalledDownloads_"]+" "+o+" appends that did not increase buffer (possible stalled download)",{playlistId:s.playlist_&&s.playlist_.id,buffered:um(u)}),this[o+"StalledDownloads_"]<10||(this.logger_(o+" loader stalled download exclusion"),this.resetSegmentDownloads_(o),this.tech_.trigger({type:"usage",name:"vhs-"+o+"-download-exclusion"}),"subtitle"!==o&&a.blacklistCurrentPlaylist({message:"Excessive "+o+" segment downloading detected."},1/0)))},o.checkCurrentTime_=function checkCurrentTime_(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var o=this.tech_.currentTime(),a=this.tech_.buffered();if(this.lastRecordedTime===o&&(!a.length||o+rm>=a.end(a.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&o===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):o===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=o)}},o.cancelTimer_=function cancelTimer_(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},o.fixesBadSeeks_=function fixesBadSeeks_(){if(!this.tech_.seeking())return!1;var o,a=this.seekable(),s=this.tech_.currentTime();this.afterSeekableWindow_(a,s,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(o=a.end(a.length-1));if(this.beforeSeekableWindow_(a,s)){var u=a.start(0);o=u+(u===a.end(0)?0:rm)}if(void 0!==o)return this.logger_("Trying to seek outside of seekable at time "+s+" with seekable range "+sm(a)+". Seeking to "+o+"."),this.tech_.setCurrentTime(o),!0;var l=this.tech_.buffered();return!!function closeToBufferedContent(o){var a=o.buffered,s=o.targetDuration,u=o.currentTime;return!(!a.length||a.end(0)-a.start(0)<2*s||u>a.start(0)||!(a.start(0)-u<s))}({buffered:l,targetDuration:this.media().targetDuration,currentTime:s})&&(o=l.start(0)+rm,this.logger_("Buffered region starts ("+l.start(0)+")  just beyond seek point ("+s+"). Seeking to "+o+"."),this.tech_.setCurrentTime(o),!0)},o.waiting_=function waiting_(){if(!this.techWaiting_()){var o=this.tech_.currentTime(),a=this.tech_.buffered(),s=om(a,o);return s.length&&o+3<=s.end(0)?(this.cancelTimer_(),this.tech_.setCurrentTime(o),this.logger_("Stopped at "+o+" while inside a buffered region ["+s.start(0)+" -> "+s.end(0)+"]. Attempting to resume playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}},o.techWaiting_=function techWaiting_(){var o=this.seekable(),a=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(o,a)){var s=o.end(o.length-1);return this.logger_("Fell out of live window at time "+a+". Seeking to live point (seekable end) "+s),this.cancelTimer_(),this.tech_.setCurrentTime(s),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var u=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,l=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:u.audioBuffered(),videoBuffered:u.videoBuffered(),currentTime:a}))return this.cancelTimer_(),this.tech_.setCurrentTime(a),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var c=am(l,a);if(c.length>0){var h=c.start(0)-a;return this.logger_("Stopped at "+a+", setting timer for "+h+", seeking to "+c.start(0)),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*h,a),!0}return!1},o.afterSeekableWindow_=function afterSeekableWindow_(o,a,s,u){if(void 0===u&&(u=!1),!o.length)return!1;var l=o.end(o.length-1)+rm;return!s.endList&&u&&(l=o.end(o.length-1)+3*s.targetDuration),a>l},o.beforeSeekableWindow_=function beforeSeekableWindow_(o,a){return!!(o.length&&o.start(0)>0&&a<o.start(0)-this.liveRangeSafeTimeDelta)},o.videoUnderflow_=function videoUnderflow_(o){var a=o.videoBuffered,s=o.audioBuffered,u=o.currentTime;if(a){var l;if(a.length&&s.length){var c=om(a,u-3),h=om(a,u),f=om(s,u);f.length&&!h.length&&c.length&&(l={start:c.end(0),end:f.end(0)})}else{am(a,u).length||(l=this.gapFromVideoUnderflow_(a,u))}return!!l&&(this.logger_("Encountered a gap in video from "+l.start+" to "+l.end+". Seeking to current time "+u),!0)}},o.skipTheGap_=function skipTheGap_(o){var a=this.tech_.buffered(),s=this.tech_.currentTime(),u=am(a,s);this.cancelTimer_(),0!==u.length&&s===o&&(this.logger_("skipTheGap_:","currentTime:",s,"scheduled currentTime:",o,"nextRange start:",u.start(0)),this.tech_.setCurrentTime(u.start(0)+nm),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},o.gapFromVideoUnderflow_=function gapFromVideoUnderflow_(o,a){for(var s=function findGaps(o){if(o.length<2)return videojs.createTimeRanges();for(var a=[],s=1;s<o.length;s++){var u=o.end(s-1),l=o.start(s);a.push([u,l])}return videojs.createTimeRanges(a)}(o),u=0;u<s.length;u++){var l=s.start(u),c=s.end(u);if(a-l<4&&a-l>2)return{start:l,end:c}}return null},PlaybackWatcher}(),Kv={errorInterval:30,getSource:function getSource(o){return o(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource())}},Qv=function initPlugin(o,a){var s=0,u=0,l=videojs.mergeOptions(Kv,a);o.ready((function(){o.trigger({type:"usage",name:"vhs-error-reload-initialized"}),o.trigger({type:"usage",name:"hls-error-reload-initialized"})}));var c=function loadedMetadataHandler(){u&&o.currentTime(u)},h=function setSource(a){null!=a&&(u=o.duration()!==1/0&&o.currentTime()||0,o.one("loadedmetadata",c),o.src(a),o.trigger({type:"usage",name:"vhs-error-reload"}),o.trigger({type:"usage",name:"hls-error-reload"}),o.play())},f=function errorHandler(){return Date.now()-s<1e3*l.errorInterval?(o.trigger({type:"usage",name:"vhs-error-reload-canceled"}),void o.trigger({type:"usage",name:"hls-error-reload-canceled"})):l.getSource&&"function"==typeof l.getSource?(s=Date.now(),l.getSource.call(o,h)):void videojs.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")},p=function cleanupEvents(){o.off("loadedmetadata",c),o.off("error",f),o.off("dispose",cleanupEvents)};o.on("error",f),o.on("dispose",p),o.reloadSourceOnError=function reinitPlugin(a){p(),initPlugin(o,a)}},Jv=function reloadSourceOnError(o){Qv(this,o)},Zv="2.10.2",ey={PlaylistLoader:Hm,Playlist:xm,utils:eg,STANDARD_PLAYLIST_SELECTOR:Kg,INITIAL_PLAYLIST_SELECTOR:function lowestBitrateCompatibleVariantSelector(){var o=this,a=this.playlists.master.playlists.filter(xm.isEnabled);return Xg(a,(function(o,a){return Yg(o,a)})),a.filter((function(a){return!!Vg(o.playlists.master,a).video}))[0]||null},lastBandwidthSelector:Kg,movingAverageBandwidthSelector:function movingAverageBandwidthSelector(o){var a=-1,s=-1;if(o<0||o>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var u=this.useDevicePixelRatio&&Su.a.devicePixelRatio||1;return a<0&&(a=this.systemBandwidth,s=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==s&&(a=o*this.systemBandwidth+(1-o)*a,s=this.systemBandwidth),$g(this.playlists.master,a,parseInt(Gg(this.tech_.el(),"width"),10)*u,parseInt(Gg(this.tech_.el(),"height"),10)*u,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},comparePlaylistBandwidth:Yg,comparePlaylistResolution:function comparePlaylistResolution(o,a){var s,u;return o.attributes.RESOLUTION&&o.attributes.RESOLUTION.width&&(s=o.attributes.RESOLUTION.width),s=s||Su.a.Number.MAX_VALUE,a.attributes.RESOLUTION&&a.attributes.RESOLUTION.width&&(u=a.attributes.RESOLUTION.width),s===(u=u||Su.a.Number.MAX_VALUE)&&o.attributes.BANDWIDTH&&a.attributes.BANDWIDTH?o.attributes.BANDWIDTH-a.attributes.BANDWIDTH:s-u},xhr:zm()};Object.keys(dg).forEach((function(o){Object.defineProperty(ey,o,{get:function get(){return videojs.log.warn("using Vhs."+o+" is UNSAFE be sure you know what you are doing"),dg[o]},set:function set(a){videojs.log.warn("using Vhs."+o+" is UNSAFE be sure you know what you are doing"),"number"!=typeof a||a<0?videojs.log.warn("value of Vhs."+o+" must be greater than or equal to 0"):dg[o]=a}})}));var ty="videojs-vhs",ny=function handleVhsMediaChange(o,a){for(var s=a.media(),u=-1,l=0;l<o.length;l++)if(o[l].id===s.id){u=l;break}o.selectedIndex_=u,o.trigger({selectedIndex:u,type:"change"})};ey.canPlaySource=function(){return videojs.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var ry=function waitForKeySessionCreation(o){var a=o.player,s=o.sourceKeySystems,u=o.audioMedia,l=o.mainPlaylists;if(!a.eme.initializeMediaKeys)return Promise.resolve();var c=function getAllPsshKeySystemsOptions(o,a){return o.reduce((function(o,s){if(!s.contentProtection)return o;var u=a.reduce((function(o,a){var u=s.contentProtection[a];return u&&u.pssh&&(o[a]={pssh:u.pssh}),o}),{});return Object.keys(u).length&&o.push(u),o}),[])}(u?l.concat([u]):l,Object.keys(s)),h=[],f=[];return c.forEach((function(o){f.push(new Promise((function(o,s){a.tech_.one("keysessioncreated",o)}))),h.push(new Promise((function(s,u){a.eme.initializeMediaKeys({keySystems:o},(function(o){o?u(o):s()}))})))})),Promise.race([Promise.all(h),Promise.race(f)])},iy=function setupEmeOptions(o){var a=o.player,s=function emeKeySystems(o,a,s){if(!o)return o;var u={};a&&a.attributes&&a.attributes.CODECS&&(u=Hg(ul(a.attributes.CODECS))),s&&s.attributes&&s.attributes.CODECS&&(u.audio=s.attributes.CODECS);var l=cl(u.video),c=cl(u.audio),h={};for(var f in o)h[f]={},c&&(h[f].audioContentType=c),l&&(h[f].videoContentType=l),a.contentProtection&&a.contentProtection[f]&&a.contentProtection[f].pssh&&(h[f].pssh=a.contentProtection[f].pssh),"string"==typeof o[f]&&(h[f].url=o[f]);return videojs.mergeOptions(o,h)}(o.sourceKeySystems,o.media,o.audioMedia);return!!s&&(a.currentSource().keySystems=s,!(s&&!a.eme)||(videojs.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1))},oy=function getVhsLocalStorage(){if(!Su.a.localStorage)return null;var o=Su.a.localStorage.getItem(ty);if(!o)return null;try{return JSON.parse(o)}catch(o){return null}};ey.supportsNativeHls=function(){if(!Eu.a||!Eu.a.createElement)return!1;var o=Eu.a.createElement("video");if(!videojs.getTech("Html5").isSupported())return!1;return["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some((function(a){return/maybe|probably/i.test(o.canPlayType(a))}))}(),ey.supportsNativeDash=!!(Eu.a&&Eu.a.createElement&&videojs.getTech("Html5").isSupported())&&/maybe|probably/i.test(Eu.a.createElement("video").canPlayType("application/dash+xml")),ey.supportsTypeNatively=function(o){return"hls"===o?ey.supportsNativeHls:"dash"===o&&ey.supportsNativeDash},ey.isSupported=function(){return videojs.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var ay=function(o){function VhsHandler(a,s,u){var l;if(l=o.call(this,s,videojs.mergeOptions(u.hls,u.vhs))||this,u.hls&&Object.keys(u.hls).length&&videojs.log.warn("Using hls options is deprecated. Use vhs instead."),"number"==typeof u.initialBandwidth&&(l.options_.bandwidth=u.initialBandwidth),l.logger_=tm("VhsHandler"),s.options_&&s.options_.playerId){var c=videojs(s.options_.playerId);c.hasOwnProperty("hls")||Object.defineProperty(c,"hls",{get:function get(){return videojs.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),s.trigger({type:"usage",name:"hls-player-access"}),Pu()(l)},configurable:!0}),c.hasOwnProperty("vhs")||Object.defineProperty(c,"vhs",{get:function get(){return videojs.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),s.trigger({type:"usage",name:"vhs-player-access"}),Pu()(l)},configurable:!0}),c.hasOwnProperty("dash")||Object.defineProperty(c,"dash",{get:function get(){return videojs.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),Pu()(l)},configurable:!0}),l.player_=c}if(l.tech_=s,l.source_=a,l.stats={},l.ignoreNextSeekingEvent_=!1,l.setOptions_(),l.options_.overrideNative&&s.overrideNativeAudioTracks&&s.overrideNativeVideoTracks)s.overrideNativeAudioTracks(!0),s.overrideNativeVideoTracks(!0);else if(l.options_.overrideNative&&(s.featuresNativeVideoTracks||s.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return l.on(Eu.a,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],(function(o){var a=Eu.a.fullscreenElement||Eu.a.webkitFullscreenElement||Eu.a.mozFullScreenElement||Eu.a.msFullscreenElement;a&&a.contains(l.tech_.el())?l.masterPlaylistController_.fastQualityChange_():l.masterPlaylistController_.checkABR_()})),l.on(l.tech_,"seeking",(function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())})),l.on(l.tech_,"error",(function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()})),l.on(l.tech_,"play",l.play),l}Iu()(VhsHandler,o);var a=VhsHandler.prototype;return a.setOptions_=function setOptions_(){var o=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=!1!==this.options_.handleManifestRedirects,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var a=oy();a&&a.bandwidth&&(this.options_.bandwidth=a.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),a&&a.throughput&&(this.options_.throughput=a.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=dg.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===dg.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach((function(a){void 0!==o.source_[a]&&(o.options_[a]=o.source_[a])})),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},a.src=function src(o,a){var s=this;if(o){this.setOptions_(),this.options_.src=function expandDataUri(o){return 0===o.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(o.substring(o.indexOf(",")+1)):o}(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=ey,this.options_.sourceType=gl(a),this.options_.seekTo=function(o){s.tech_.setCurrentTime(o)},this.options_.smoothQualityChange&&videojs.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new Gv(this.options_);var u=videojs.mergeOptions({liveRangeSafeTimeDelta:rm},this.options_,{seekable:function seekable(){return s.seekable()},media:function media(){return s.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new $v(u),this.masterPlaylistController_.on("error",(function(){var o=videojs.players[s.tech_.options_.playerId],a=s.masterPlaylistController_.error;"object"!=typeof a||a.code?"string"==typeof a&&(a={message:a,code:3}):a.code=3,o.error(a)}));var l=this.options_.experimentalBufferBasedABR?ey.movingAverageBandwidthSelector(.55):ey.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):l.bind(this),this.masterPlaylistController_.selectInitialPlaylist=ey.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function get(){return this.masterPlaylistController_.selectPlaylist},set:function set(o){this.masterPlaylistController_.selectPlaylist=o.bind(this)}},throughput:{get:function get(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function set(o){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=o,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function get(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function set(o){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=o,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function get(){var o,a=1/(this.bandwidth||1);return o=this.throughput>0?1/this.throughput:0,Math.floor(1/(a+o))},set:function set(){videojs.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function get(){return s.bandwidth||0},enumerable:!0},mediaRequests:{get:function get(){return s.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function get(){return s.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function get(){return s.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function get(){return s.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function get(){return s.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function get(){return s.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function get(){return s.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function get(){return s.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function get(){return s.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function get(){return s.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function get(){return s.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function get(){return s.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function get(){return um(s.tech_.buffered())},enumerable:!0},currentTime:{get:function get(){return s.tech_.currentTime()},enumerable:!0},currentSource:{get:function get(){return s.tech_.currentSource_},enumerable:!0},currentTech:{get:function get(){return s.tech_.name_},enumerable:!0},duration:{get:function get(){return s.tech_.duration()},enumerable:!0},master:{get:function get(){return s.playlists.master},enumerable:!0},playerDimensions:{get:function get(){return s.tech_.currentDimensions()},enumerable:!0},seekable:{get:function get(){return um(s.tech_.seekable())},enumerable:!0},timestamp:{get:function get(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function get(){return s.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",(function(){s.options_.useBandwidthFromLocalStorage&&function updateVhsLocalStorage(o){if(!Su.a.localStorage)return!1;var a=oy();a=a?videojs.mergeOptions(a,o):o;try{Su.a.localStorage.setItem(ty,JSON.stringify(a))}catch(o){return!1}}({bandwidth:s.bandwidth,throughput:Math.round(s.throughput)})})),this.masterPlaylistController_.on("selectedinitialmedia",(function(){!function renditionSelectionMixin(o){o.representations=function(){var a=o.masterPlaylistController_.master(),s=Cm(a)?o.masterPlaylistController_.getAudioTrackPlaylists_():a.playlists;return s?s.filter((function(o){return!bm(o)})).map((function(a,s){return new Xv(o,a,a.id)})):[]}}(s)})),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",(function(){s.setupEme_()})),this.on(this.masterPlaylistController_,"progress",(function(){this.tech_.trigger("progress")})),this.on(this.masterPlaylistController_,"firstplay",(function(){this.ignoreNextSeekingEvent_=!0})),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=Su.a.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},a.setupEme_=function setupEme_(){var o=this,a=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,s=iy({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:a&&a.media()});this.player_.tech_.on("keystatuschange",(function(a){"output-restricted"===a.status&&o.masterPlaylistController_.blacklistCurrentPlaylist({playlist:o.masterPlaylistController_.media(),message:"DRM keystatus changed to "+a.status+". Playlist will fail to play. Check for HDCP content.",blacklistDuration:1/0})})),11!==videojs.browser.IE_VERSION&&s?(this.logger_("waiting for EME key session creation"),ry({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:a&&a.media(),mainPlaylists:this.playlists.master.playlists}).then((function(){o.logger_("created EME key session"),o.masterPlaylistController_.sourceUpdater_.initializedEme()})).catch((function(a){o.logger_("error while creating EME key session",a),o.player_.error({message:"Failed to initialize media keys for EME",code:3})}))):this.masterPlaylistController_.sourceUpdater_.initializedEme()},a.setupQualityLevels_=function setupQualityLevels_(){var o=this,a=videojs.players[this.tech_.options_.playerId];a&&a.qualityLevels&&!this.qualityLevels_&&(this.qualityLevels_=a.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",(function(){!function handleVhsLoadedMetadata(o,a){a.representations().forEach((function(a){o.addQualityLevel(a)})),ny(o,a.playlists)}(o.qualityLevels_,o)})),this.playlists.on("mediachange",(function(){ny(o.qualityLevels_,o.playlists)})))},VhsHandler.version=function version$5(){return{"@videojs/http-streaming":Zv,"mux.js":"5.13.0","mpd-parser":"0.19.0","m3u8-parser":"4.7.0","aes-decrypter":"3.1.2"}},a.version=function version(){return this.constructor.version()},a.canChangeType=function canChangeType(){return Cv.canChangeType()},a.play=function play(){this.masterPlaylistController_.play()},a.setCurrentTime=function setCurrentTime(o){this.masterPlaylistController_.setCurrentTime(o)},a.duration=function duration(){return this.masterPlaylistController_.duration()},a.seekable=function seekable(){return this.masterPlaylistController_.seekable()},a.dispose=function dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&Su.a.URL.revokeObjectURL&&(Su.a.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),o.prototype.dispose.call(this)},a.convertToProgramTime=function convertToProgramTime(o,a){return tg({playlist:this.masterPlaylistController_.media(),time:o,callback:a})},a.seekToProgramTime=function seekToProgramTime$1(o,a,s,u){return void 0===s&&(s=!0),void 0===u&&(u=2),ng({programTime:o,playlist:this.masterPlaylistController_.media(),retryCount:u,pauseAfterSeek:s,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:a})},VhsHandler}(videojs.getComponent("Component")),sy={name:"videojs-http-streaming",VERSION:Zv,canHandleSource:function canHandleSource(o,a){void 0===a&&(a={});var s=videojs.mergeOptions(videojs.options,a);return sy.canPlayType(o.type,s)},handleSource:function handleSource(o,a,s){void 0===s&&(s={});var u=videojs.mergeOptions(videojs.options,s);return a.vhs=new ay(o,a,u),videojs.hasOwnProperty("hls")||Object.defineProperty(a,"hls",{get:function get(){return videojs.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),a.vhs},configurable:!0}),a.vhs.xhr=zm(),a.vhs.src(o.src,o.type),a.vhs},canPlayType:function canPlayType(o,a){void 0===a&&(a={});var s=videojs.mergeOptions(videojs.options,a).vhs.overrideNative,u=void 0===s?!videojs.browser.IS_ANY_SAFARI:s,l=gl(o);return l&&(!ey.supportsTypeNatively(l)||u)?"maybe":""}};(function supportsNativeMediaSources(){return dl("avc1.4d400d,mp4a.40.2")})()&&videojs.getTech("Html5").registerSourceHandler(sy,0),videojs.VhsHandler=ay,Object.defineProperty(videojs,"HlsHandler",{get:function get(){return videojs.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),ay},configurable:!0}),videojs.VhsSourceHandler=sy,Object.defineProperty(videojs,"HlsSourceHandler",{get:function get(){return videojs.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),sy},configurable:!0}),videojs.Vhs=ey,Object.defineProperty(videojs,"Hls",{get:function get(){return videojs.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),ey},configurable:!0}),videojs.use||(videojs.registerComponent("Hls",ey),videojs.registerComponent("Vhs",ey)),videojs.options.vhs=videojs.options.vhs||{},videojs.options.hls=videojs.options.hls||{},videojs.registerPlugin?videojs.registerPlugin("reloadSourceOnError",Jv):videojs.plugin("reloadSourceOnError",Jv);var uy=function playVideo(o,a){Wo.stop(),Ws(!1),setTimeout((function(){var s={width:window.innerWidth,height:window.innerHeight},u=o.getBoundingClientRect().left;o.getBoundingClientRect().top;Yt.to(o,{y:0,x:0-u,width:s.width,height:s.height,onComplete:function onComplete(){a.play(),o.classList.add("is-starting"),o.classList.add("is-playing")}})}),500)},ly=function pauseVideo(o,a){a.pause(),o.classList.remove("is-playing"),Yt.to(o,{y:0,x:0,width:"84vmin",height:"63vmin",onComplete:function onComplete(){Wo.start(),Ws(!0)}}),Yt.set(o.querySelector(".video-btn"),{opacity:0})};function about_typeof(o){return(about_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(o){return typeof o}:function _typeof(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(o)}function about_classCallCheck(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")}function about_defineProperties(o,a){for(var s=0;s<a.length;s++){var u=a[s];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(o,u.key,u)}}function about_setPrototypeOf(o,a){return(about_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,a){return o.__proto__=a,o})(o,a)}function about_createSuper(o){var a=function about_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(o){return!1}}();return function _createSuperInternal(){var s,u=about_getPrototypeOf(o);if(a){var l=about_getPrototypeOf(this).constructor;s=Reflect.construct(u,arguments,l)}else s=u.apply(this,arguments);return about_possibleConstructorReturn(this,s)}}function about_possibleConstructorReturn(o,a){return!a||"object"!==about_typeof(a)&&"function"!=typeof a?function about_assertThisInitialized(o){if(void 0===o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(o):a}function about_getPrototypeOf(o){return(about_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var cy=function(o){!function about_inherits(o,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&about_setPrototypeOf(o,a)}(AboutRenderer,o);var a=about_createSuper(AboutRenderer);function AboutRenderer(){return about_classCallCheck(this,AboutRenderer),a.apply(this,arguments)}return function about_createClass(o,a,s){return a&&about_defineProperties(o.prototype,a),s&&about_defineProperties(o,s),o}(AboutRenderer,[{key:"onEnter",value:function onEnter(){pu(),zs(!1),Qs(),Wo.destroy(),Xs(2),Vs(!0),Ys(window.innerWidth<qo.minDesktop)}},{key:"onEnterCompleted",value:function onEnterCompleted(){zs(!1),function toggleVideo(){var o=document.querySelectorAll(".toggle-video"),a=document.querySelectorAll(".vimeo-player");if(o.length&&a.length)for(var s=function _loop(s){var u=o[s].querySelector(".video-box"),l=new iu.a(a[s]);u.addEventListener("click",(function(){o[s].classList.contains("is-fixed")?(o[s].classList.remove("is-fixed"),window.innerWidth>=qo.minDesktop?ly(u,l):(l.pause(),u.classList.remove("is-playing"))):(o[s].classList.add("is-fixed"),window.innerWidth>=qo.minDesktop?uy(u,l):(l.play(),u.classList.add("is-starting"),u.classList.add("is-playing")))})),window.innerWidth>=qo.minDesktop&&(lu(u),cu(u))},u=0;u<a.length;u++)s(u)}(),Wo.init(),$s(),Ws(!0),document.querySelector('[data-scroll-direction="horizontal"]')&&(hu(),fu(),document.body.classList.remove("is-dark")),setTimeout((function(){_u(),bu(),du(1),Vs(!0)}),100)}}]),AboutRenderer}(h.Renderer);function contact_typeof(o){return(contact_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(o){return typeof o}:function _typeof(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(o)}function contact_classCallCheck(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")}function contact_defineProperties(o,a){for(var s=0;s<a.length;s++){var u=a[s];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(o,u.key,u)}}function contact_setPrototypeOf(o,a){return(contact_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,a){return o.__proto__=a,o})(o,a)}function contact_createSuper(o){var a=function contact_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(o){return!1}}();return function _createSuperInternal(){var s,u=contact_getPrototypeOf(o);if(a){var l=contact_getPrototypeOf(this).constructor;s=Reflect.construct(u,arguments,l)}else s=u.apply(this,arguments);return contact_possibleConstructorReturn(this,s)}}function contact_possibleConstructorReturn(o,a){return!a||"object"!==contact_typeof(a)&&"function"!=typeof a?function contact_assertThisInitialized(o){if(void 0===o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(o):a}function contact_getPrototypeOf(o){return(contact_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var dy=function(o){!function contact_inherits(o,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&contact_setPrototypeOf(o,a)}(ContactRenderer,o);var a=contact_createSuper(ContactRenderer);function ContactRenderer(){return contact_classCallCheck(this,ContactRenderer),a.apply(this,arguments)}return function contact_createClass(o,a,s){return a&&contact_defineProperties(o.prototype,a),s&&contact_defineProperties(o,s),o}(ContactRenderer,[{key:"onEnter",value:function onEnter(){zs(!1),Qs(),Wo.destroy(),Xs(1),Vs(!0),Ys(!1)}},{key:"onEnterCompleted",value:function onEnterCompleted(){zs(!1),Wo.init(),$s(),Ws(!0),document.querySelector('[data-scroll-direction="horizontal"]')&&(document.body.classList.remove("is-dark"),hu()),setTimeout((function(){if(_u(),bu(),du(1),Vs(!0),Xs(1),window.innerWidth<qo.minDesktop){var o=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(o,"px"))}}),100)}}]),ContactRenderer}(h.Renderer),hy=function updateBodyHeight(){document.querySelector("#vertical-scroll-container")&&window.innerWidth>=qo.minDesktop&&(document.body.style.height=document.querySelector("#vertical-scroll-container").clientHeight+"px"),document.querySelector("#horizontal-scroll-container")&&window.innerWidth>=qo.minDesktop&&(document.body.style.height=document.querySelector("#horizontal-scroll-container").clientHeight+"px")};function builds_typeof(o){return(builds_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(o){return typeof o}:function _typeof(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(o)}function builds_classCallCheck(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")}function builds_defineProperties(o,a){for(var s=0;s<a.length;s++){var u=a[s];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(o,u.key,u)}}function builds_setPrototypeOf(o,a){return(builds_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,a){return o.__proto__=a,o})(o,a)}function builds_createSuper(o){var a=function builds_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(o){return!1}}();return function _createSuperInternal(){var s,u=builds_getPrototypeOf(o);if(a){var l=builds_getPrototypeOf(this).constructor;s=Reflect.construct(u,arguments,l)}else s=u.apply(this,arguments);return builds_possibleConstructorReturn(this,s)}}function builds_possibleConstructorReturn(o,a){return!a||"object"!==builds_typeof(a)&&"function"!=typeof a?function builds_assertThisInitialized(o){if(void 0===o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(o):a}function builds_getPrototypeOf(o){return(builds_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var fy,py,my,gy,vy,yy,_y,by=function(o){!function builds_inherits(o,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&builds_setPrototypeOf(o,a)}(BuildsRenderer,o);var a=builds_createSuper(BuildsRenderer);function BuildsRenderer(){return builds_classCallCheck(this,BuildsRenderer),a.apply(this,arguments)}return function builds_createClass(o,a,s){return a&&builds_defineProperties(o.prototype,a),s&&builds_defineProperties(o,s),o}(BuildsRenderer,[{key:"onEnter",value:function onEnter(){document.body.classList.remove("is-dark"),zs(!0),Wo.destroy(),Xs(2),function moveBuilds(){var o=document.querySelector(".builds-wrap"),a=document.querySelector(".builds-wrap-item"),s=!0;o.addEventListener("mousemove",(function(o){var u=o.x,l=o.y;s&&window.innerWidth>=qo.minDesktop&&ii.to(a,{x:(0-u+window.innerWidth/2)/(window.innerWidth/window.innerHeight),y:(0-l+window.innerHeight/2)/(window.innerWidth/window.innerHeight-.5),duration:zo.draw.duration,ease:zo.draw.ease})}));for(var u=document.querySelectorAll(".build"),l=function _loop(a){u[a].querySelector(".build-thumb").addEventListener("click",(function(){s=!1,o.classList.add("is-focused"),u[a].parentNode.classList.add("is-active"),window.innerWidth<qo.minDesktop&&(ii.to(window,{scrollTo:u[a]}),document.body.classList.add("no-scroll"),document.getElementsByTagName("html")[0].classList.add("no-scroll")),setTimeout((function(){var o=u[a].getBoundingClientRect(),s=o.x,l=o.y;ii.to(u[a],{x:0-s,y:0-l,width:window.innerWidth,height:window.innerHeight,duration:zo.move.duration,ease:zo.move.ease,onComplete:function onComplete(){u[a].parentNode.classList.add("is-present")}})}),500)}))},c=0;c<u.length;c++)l(c);document.querySelector(".close-build").addEventListener("click",(function(){document.querySelector(".builds-row-item.is-active.is-present").classList.remove("is-present"),window.innerWidth<qo.minDesktop&&(document.body.classList.remove("no-scroll"),document.getElementsByTagName("html")[0].classList.remove("no-scroll")),setTimeout((function(){ii.to(document.querySelector(".builds-row-item.is-active .build"),{x:0,y:0,width:"100%",height:"100%",duration:zo.move.duration,ease:zo.move.ease,onComplete:function onComplete(){o.classList.remove("is-focused"),document.querySelector(".builds-row-item.is-active").classList.remove("is-active"),s=!0}})}),1e3)}))}(),Ys(!1),Qs()}},{key:"onEnterCompleted",value:function onEnterCompleted(){zs(!0),Wo.init(),Ws(!0),ea(),setTimeout((function(){_u(),bu(),du(1),hy()}),100)}}]),BuildsRenderer}(h.Renderer),Ty=function loadImages(){for(var o=document.querySelectorAll("img[data-src]"),a=0;a<o.length;a++){var s=o[a].getAttribute("data-src");o[a].setAttribute("src",s),o[a].removeAttribute("data-src")}},Sy=s(152),wy=s.n(Sy),Ey=function splittingText(){for(var o=document.querySelectorAll(".text-split"),a=0;a<o.length;a++)wy()({target:o[a],by:"lines"})},ky=!0,Cy=function followMouseButton(){for(var o=document.querySelectorAll(".mouseFollow-wrap"),a=function _loop(a){var s=o[a].querySelector(".mouseFollow-item"),u=s.clientWidth,l=s.clientHeight;o[a].addEventListener("mousemove",(function(o){ky&&Yt.to(s,1.5,{left:o.offsetX-u/2,top:o.offsetY-l/2,ease:zo.move.ease,duration:zo.move.duration})}))},s=0;s<o.length;s++)a(s)},xy=function playPauseVideo(o,a){a&&o?o.play():o.pause()},Py=function showAdvantagesNavLink(o,a){oi.set(o,{opacity:a?0:1,translateY:a?100:0}),oi.fromTo(o,{opacity:a?0:1,translateY:a?100:0},{opacity:a?1:0,translateY:a?0:100,duration:zo.transform.duration,ease:zo.transform.ease})},Ay=function switchAdvantagesImages(o){var a=document.querySelector(".section-content-abstract.__advantages");a&&(o?a.classList.remove("is-hidden"):a.classList.add("is-hidden"))},Iy=function _windowExists(){return"undefined"!=typeof window},Oy=function _getGSAP(){return fy||Iy()&&(fy=window.gsap)&&fy.registerPlugin&&fy},Ly=function _isString(o){return"string"==typeof o},My=function _max(o,a){var s="x"===a?"Width":"Height",u="scroll"+s,l="client"+s;return o===my||o===gy||o===vy?Math.max(gy[u],vy[u])-(my["inner"+s]||gy[l]||vy[l]):o[u]-o["offset"+s]},Dy=function _buildGetter(o,a){var s="scroll"+("x"===a?"Left":"Top");return o===my&&(null!=o.pageXOffset?s="page"+a.toUpperCase()+"Offset":o=null!=gy[s]?gy:vy),function(){return o[s]}},Ry=function _getOffset(o,a){var s=yy(o)[0].getBoundingClientRect(),u=!a||a===my||a===vy,l=u?{top:gy.clientTop-(my.pageYOffset||gy.scrollTop||vy.scrollTop||0),left:gy.clientLeft-(my.pageXOffset||gy.scrollLeft||vy.scrollLeft||0)}:a.getBoundingClientRect(),c={x:s.left-l.left,y:s.top-l.top};return!u&&a&&(c.x+=Dy(a,"x")(),c.y+=Dy(a,"y")()),c},Ny=function _parseVal(o,a,s,u,l){return isNaN(o)||"object"==typeof o?Ly(o)&&"="===o.charAt(1)?parseFloat(o.substr(2))*("-"===o.charAt(0)?-1:1)+u-l:"max"===o?My(a,s)-l:Math.min(My(a,s),Ry(o,a)[s]-l):parseFloat(o)-l},By=function _initCore(){fy=Oy(),Iy()&&fy&&document.body&&(my=window,vy=document.body,gy=document.documentElement,yy=fy.utils.toArray,fy.config({autoKillThreshold:7}),_y=fy.config(),py=1)},Fy={version:"3.5.1",name:"scrollTo",rawVars:1,register:function register(o){fy=o,By()},init:function init(o,a,s,u,l){py||By();var c=this;c.isWin=o===my,c.target=o,c.tween=s,"object"!=typeof a?Ly((a={y:a}).y)&&"max"!==a.y&&"="!==a.y.charAt(1)&&(a.x=a.y):a.nodeType&&(a={y:a,x:a}),c.vars=a,c.autoKill=!!a.autoKill,c.getX=Dy(o,"x"),c.getY=Dy(o,"y"),c.x=c.xPrev=c.getX(),c.y=c.yPrev=c.getY(),null!=a.x?(c.add(c,"x",c.x,Ny(a.x,o,"x",c.x,a.offsetX||0),u,l,Math.round),c._props.push("scrollTo_x")):c.skipX=1,null!=a.y?(c.add(c,"y",c.y,Ny(a.y,o,"y",c.y,a.offsetY||0),u,l,Math.round),c._props.push("scrollTo_y")):c.skipY=1},render:function render(o,a){for(var s,u,l,c,h,f=a._pt,p=a.target,m=a.tween,g=a.autoKill,v=a.xPrev,y=a.yPrev,_=a.isWin;f;)f.r(o,f.d),f=f._next;s=_||!a.skipX?a.getX():v,l=(u=_||!a.skipY?a.getY():y)-y,c=s-v,h=_y.autoKillThreshold,a.x<0&&(a.x=0),a.y<0&&(a.y=0),g&&(!a.skipX&&(c>h||c<-h)&&s<My(p,"x")&&(a.skipX=1),!a.skipY&&(l>h||l<-h)&&u<My(p,"y")&&(a.skipY=1),a.skipX&&a.skipY&&(m.kill(),a.vars.onAutoKill&&a.vars.onAutoKill.apply(m,a.vars.onAutoKillParams||[]))),_?my.scrollTo(a.skipX?s:a.x,a.skipY?u:a.y):(a.skipY||(p.scrollTop=a.y),a.skipX||(p.scrollLeft=a.x)),a.xPrev=a.x,a.yPrev=a.y},kill:function kill(o){var a="scrollTo"===o;(a||"scrollTo_x"===o)&&(this.skipX=1),(a||"scrollTo_y"===o)&&(this.skipY=1)}};Fy.max=My,Fy.getOffset=Ry,Fy.buildGetter=Dy,Oy()&&fy.registerPlugin(Fy),ii.registerPlugin(Fy);var jy=function showImageOnScroll(o){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(a){var s=o.querySelectorAll(".section-content-image");oi.to(s,{opacity:1,duration:zo.show.duration,ease:zo.show.ease,stagger:0})}else{var u=o.querySelector(".section-content-image");oi.to(u,{opacity:1,duration:zo.show.duration,ease:zo.show.ease})}};function motorcycle_typeof(o){return(motorcycle_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(o){return typeof o}:function _typeof(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(o)}function motorcycle_classCallCheck(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")}function motorcycle_defineProperties(o,a){for(var s=0;s<a.length;s++){var u=a[s];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(o,u.key,u)}}function motorcycle_setPrototypeOf(o,a){return(motorcycle_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,a){return o.__proto__=a,o})(o,a)}function motorcycle_createSuper(o){var a=function motorcycle_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(o){return!1}}();return function _createSuperInternal(){var s,u=motorcycle_getPrototypeOf(o);if(a){var l=motorcycle_getPrototypeOf(this).constructor;s=Reflect.construct(u,arguments,l)}else s=u.apply(this,arguments);return motorcycle_possibleConstructorReturn(this,s)}}function motorcycle_possibleConstructorReturn(o,a){return!a||"object"!==motorcycle_typeof(a)&&"function"!=typeof a?function motorcycle_assertThisInitialized(o){if(void 0===o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(o):a}function motorcycle_getPrototypeOf(o){return(motorcycle_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var Uy=function(o){!function motorcycle_inherits(o,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&motorcycle_setPrototypeOf(o,a)}(MotorcycleRenderer,o);var a=motorcycle_createSuper(MotorcycleRenderer);function MotorcycleRenderer(){return motorcycle_classCallCheck(this,MotorcycleRenderer),a.apply(this,arguments)}return function motorcycle_createClass(o,a,s){return a&&motorcycle_defineProperties(o.prototype,a),s&&motorcycle_defineProperties(o,s),o}(MotorcycleRenderer,[{key:"onEnter",value:function onEnter(){zs(!1,"render"),Ey(),function disableHorizontalScroll(){document.documentElement.classList.add("__reset-loco"),document.querySelector("#horizontal-scroll-container").classList.add("__reset-loco")}(),Xs(2),Ws(!0),function initPhotosGallery(){for(var o=document.querySelectorAll(".photos"),a=0;a<o.length;a++)o[a]&&new Ss(o[a],{type:"loop",drag:"free",perPage:3,pagination:!1,arrows:!1,autoWidth:!0,speed:1e4,easing:"linear"}).mount()}(),function verticalAnchorNav(){for(var o=document.querySelectorAll(".vertical-anchor-link"),a=function _loop(a){o[a].addEventListener("click",(function(s){s.preventDefault();var u=o[a].getAttribute("data-anchor-link"),l=document.querySelector('[data-anchor-target="'+u+'"]'),c=Math.abs(ii.getProperty(document.querySelector("#vertical-scroll-container"),"y"));ii.to(window,{scrollTo:c+l.getBoundingClientRect().y})}))},s=0;s<o.length;s++)a(s)}()}},{key:"onEnterCompleted",value:function onEnterCompleted(){zs(!1,"render"),function switchMotorcycleRouterElements(o){var a=document.querySelector(".next-motorcycle");o?(document.body.classList.remove("is-dark"),a&&a.classList.remove("is-visible"),document.querySelector(".grid").classList.remove("is-hidden"),document.querySelector(".section-background").classList.remove("is-hidden")):(document.body.classList.add("is-dark"),a&&a.classList.add("is-visible"),document.querySelector(".section-background").classList.add("is-hidden"))}(!0),document.querySelector('[data-router-view="motorcycle"]')&&(window.innerWidth>=qo.minDesktop&&initVerticalScroll(),Vs(!0,!1),Ys(!0),function verticalScene(){for(var o=new ai.Controller,a=document.querySelectorAll(".showThumbOnScroll"),s=function _loop(s){new ai.Scene({triggerElement:a[s],triggerHook:.8,duration:window.innerHeight}).addTo(o).on("enter",(function(){document.querySelector('[data-scroll-direction="vertical"]')&&(a[s].classList.contains("__multiple")?jy(a[s],!0):jy(a[s]))}))},u=0;u<a.length;u++)s(u);for(var l=document.querySelectorAll(".showContentOnScroll"),c=function _loop2(a){var s=(new jt).fromTo(l[a],{opacity:0,y:50},{opacity:1,y:0,duration:zo.move.duration,ease:zo.move.ease});new ai.Scene({triggerElement:l[a],triggerHook:.8}).setTween(s).addTo(o).on("enter",(function(){l[a].querySelector(".text-split")&&$o(l[a],!0,0,0)}))},h=0;h<l.length;h++)c(h);for(var f=document.querySelectorAll(".parallaxVerticalOnScroll"),p=0;p<f.length;p++){var m=(new jt).fromTo(f[p].querySelector("img"),{scale:1.3,opacity:0},{scale:1,opacity:1,duration:zo.show.duration,ease:zo.show.ease});new ai.Scene({triggerElement:f[p],triggerHook:1}).setTween(m).addTo(o)}}(),function motorcycleScene(){var o=new ai.Controller;if(document.querySelector("#advantages")&&function(){var a=document.querySelectorAll(".advantages-box"),s=document.querySelectorAll(".advantages-nav-link"),u=document.querySelectorAll(".advantages-banner");new ai.Scene({triggerElement:"#advantages",duration:document.querySelector("#advantages").clientHeight}).addTo(o).on("enter",(function(){document.querySelector("#advantages")&&(Vs(!1),window.scrollY>0&&zs(!0,"scene"),Ys(!1)),Ay(!0)})).on("leave",(function(){document.querySelector("#motorcycle-video")&&(Vs(!0,!1),window.scrollY>0&&zs(!1,"scene"),Ys(!0)),document.querySelector("#krgt-1-video")&&xy(document.querySelector("#krgt-1-video"),!1),Ay(!1)}));for(var l=function _loop(l){new ai.Scene({triggerElement:a[l],triggerHook:.5}).addTo(o).on("progress",(function(o){u[l]&&ii.to(u[l],{opacity:o.progress,filter:"blur(".concat(10-10*o.progress,"px)")})})).on("enter",(function(){s[l-1]&&Py(s[l-1],!0)})).on("leave",(function(){s[l-1]&&Py(s[l-1],!1)}))},c=0;c<a.length;c++)l(c)}(),document.querySelector("#motorcycle-video")){var a=(new jt).fromTo(".motorcycle-video-banner .video-box",{yPercent:100},{yPercent:0,onComplete:function onComplete(){document.querySelector("#krgt-1-video")&&xy(document.querySelector("#krgt-1-video"),!0)}}).to(".motorcycle-video-banner",{width:window.innerWidth,height:window.innerHeight});new ai.Scene({triggerElement:"#motorcycle-video",duration:window.innerHeight}).setTween(a).addTo(o).on("enter",(function(){document.querySelector("#motorcycle-video")&&Vs(!1)}))}if(document.querySelector("#specifications")){var s=(new jt).fromTo(".motorcycle-video-banner",{y:0},{y:"-30vh",opacity:0});new ai.Scene({triggerElement:"#specifications",duration:window.innerHeight,offset:0-window.innerHeight/3}).setTween(s).addTo(o).on("enter",(function(){document.querySelector("#krgt-1-video")&&xy(document.querySelector("#krgt-1-video"),!1)})).on("leave",(function(){document.querySelector("#krgt-1-video")&&xy(document.querySelector("#krgt-1-video"),!0)}))}for(var u=document.querySelectorAll(".specifications-list-item"),l=function _loop2(a){var s=(new jt).fromTo(u[a].querySelector(".specifications-label-border"),{width:0,opacity:1},{opacity:.1,width:"100%",duration:1});new ai.Scene({triggerElement:u[a],triggerHook:.9}).setTween(s).addTo(o).on("enter",(function(){$o(u[a].querySelector(".specifications-label"),!0,0,0,.03)}))},c=0;c<u.length;c++)l(c);document.querySelector("#tailor")&&new ai.Scene({triggerElement:"#tailor",triggerHook:"onEnter"}).addTo(o).on("enter",(function(){document.querySelector("#tailor")&&Vs(!0,!1)})).on("leave",(function(){document.querySelector("#tailor")&&Vs(!1)}));var h=document.querySelectorAll(".photos-parallax .photos-parallax-item");if(h.length)for(var f=0;f<h.length;f++)new ai.Scene({triggerElement:h[f],triggerHook:0,duration:window.innerHeight}).setTween(oi.to(h[f].querySelector("img"),{y:window.innerHeight/2,opacity:.5})).addTo(o);var p=document.querySelector(".customComponents .motor");p&&new ai.Scene({triggerElement:p,triggerHook:.5,duration:window.innerHeight}).setTween(ii.to(p,{opacity:0,y:-100,duration:zo.move.duration,ease:zo.move.ease})).addTo(o)}(),setTimeout((function(){Vs(!0,!1),_u(),bu(),du(1)}),100))}}]),MotorcycleRenderer}(h.Renderer);const Hy=function ScrollMagicPluginGsap(o,a,s){var u="animation.gsap",l=window.console||{},c=Function.prototype.bind.call(l.error||l.log||function(){},l);o||c("("+u+") -> ERROR: The ScrollMagic main module could not be found. Please make sure it's loaded before this plugin or use an asynchronous loader like requirejs."),a||c("("+u+") -> ERROR: TweenLite or TweenMax could not be found. Please make sure GSAP is loaded before ScrollMagic or use an asynchronous loader like requirejs."),o.Scene.addOption("tweenChanges",!1,(function(o){return!!o})),o.Scene.extend((function(){var o,l=this,log=function(){l._log&&(Array.prototype.splice.call(arguments,1,0,"("+u+")","->"),l._log.apply(this,arguments))};l.on("progress.plugin_gsap",(function(){updateTweenProgress()})),l.on("destroy.plugin_gsap",(function(o){l.removeTween(o.reset)}));var updateTweenProgress=function(){if(o){var a=l.progress(),s=l.state();o.repeat&&-1===o.repeat()?"DURING"===s&&o.paused()?o.play():"DURING"===s||o.paused()||o.pause():a!=o.progress()&&(0===l.duration()?a>0?o.play():o.reverse():l.tweenChanges()&&o.tweenTo?o.tweenTo(a*o.duration()):o.progress(a).pause())}};l.setTween=function(u,c,h){var f;arguments.length>1&&(arguments.length<3&&(h=c,c=1),u=a.to(u,c,h));try{(f=s?new s({smoothChildTiming:!0}).add(u):u).pause()}catch(o){return log(1,"ERROR calling method 'setTween()': Supplied argument is not a valid TweenObject"),l}if(o&&l.removeTween(),o=f,u.repeat&&-1===u.repeat()&&(o.repeat(-1),o.yoyo(u.yoyo())),l.tweenChanges()&&!o.tweenTo&&log(2,"WARNING: tweenChanges will only work if the TimelineMax object is available for ScrollMagic."),o&&l.controller()&&l.triggerElement()&&l.loglevel()>=2){var p=a.getTweensOf(l.triggerElement()),m=l.controller().info("vertical");p.forEach((function(o,a){var s=o.vars.css||o.vars;if(m?void 0!==s.top||void 0!==s.bottom:void 0!==s.left||void 0!==s.right)return log(2,"WARNING: Tweening the position of the trigger element affects the scene timing and should be avoided!"),!1}))}if(parseFloat(a.version)>=1.14)for(var g,v,y=o.getChildren?o.getChildren(!0,!0,!1):[o],newCallback=function(){log(2,"WARNING: tween was overwritten by another. To learn how to avoid this issue see here: https://github.com/janpaepke/ScrollMagic/wiki/WARNING:-tween-was-overwritten-by-another")},_=0;_<y.length;_++)g=y[_],v!==newCallback&&(v=g.vars.onOverwrite,g.vars.onOverwrite=function(){v&&v.apply(this,arguments),newCallback.apply(this,arguments)});return log(3,"added tween"),updateTweenProgress(),l},l.removeTween=function(a){return o&&(a&&o.progress(0).pause(),o.kill(),o=void 0,log(3,"removed tween (reset: "+(a?"true":"false")+")")),l}}))},scrollmagic_plugins_ScrollMagicPluginIndicator=function(o){var a="debug.addIndicators",s=window.console||{},u=Function.prototype.bind.call(s.error||s.log||function(){},s);o||u("("+a+") -> ERROR: The ScrollMagic main module could not be found. Please make sure it's loaded before this plugin or use an asynchronous loader like requirejs.");var l="0.85em",c="9999",h=o._util,f=0;o.Scene.extend((function(){var o,a=this;a.addIndicators=function(s){if(!o){var u={name:"",indent:0,parent:void 0,colorStart:"green",colorEnd:"red",colorTrigger:"blue"};s=h.extend({},u,s),f++,o=new Indicator(a,s),a.on("add.plugin_addIndicators",o.add),a.on("remove.plugin_addIndicators",o.remove),a.on("destroy.plugin_addIndicators",a.removeIndicators),a.controller()&&o.add()}return a},a.removeIndicators=function(){return o&&(o.remove(),this.off("*.plugin_addIndicators"),o=void 0),a}})),o.Controller.addOption("addIndicators",!1),o.Controller.extend((function(){var s=this,u=s.info(),l=u.container,c=u.isDocument,f=u.vertical,p={groups:[]};s._indicators&&function(){s._log&&(Array.prototype.splice.call(arguments,1,0,"("+a+")","->"),s._log.apply(this,arguments))}(2,"WARNING: Scene already has a property '_indicators', which will be overwritten by plugin."),this._indicators=p;var handleBoundsPositionChange=function(){p.updateBoundsPositions()},handleTriggerPositionChange=function(){p.updateTriggerGroupPositions()};return l.addEventListener("resize",handleTriggerPositionChange),c||(window.addEventListener("resize",handleTriggerPositionChange),window.addEventListener("scroll",handleTriggerPositionChange)),l.addEventListener("resize",handleBoundsPositionChange),l.addEventListener("scroll",handleBoundsPositionChange),this._indicators.updateBoundsPositions=function(o){for(var a,s,u,c=o?[h.extend({},o.triggerGroup,{members:[o]})]:p.groups,m=c.length,g={},v=f?"left":"top",y=f?"width":"height",_=f?h.get.scrollLeft(l)+h.get.width(l)-15:h.get.scrollTop(l)+h.get.height(l)-15;m--;)for(a=(u=c[m]).members.length,s=h.get[y](u.element.firstChild);a--;)g[v]=_-s,h.css(u.members[a].bounds,g)},this._indicators.updateTriggerGroupPositions=function(o){for(var a,u,m,g,v=o?[o]:p.groups,y=v.length,_=c?document.body:l,b=c?{top:0,left:0}:h.get.offset(_,!0),T=f?h.get.width(l)-15:h.get.height(l)-15,S=f?"width":"height",w=f?"Y":"X";y--;)u=(a=v[y]).element,g=(m=a.triggerHook*s.info("size"))>h.get[S](u.firstChild.firstChild)?"translate"+w+"(-100%)":"",h.css(u,{top:b.top+(f?m:T-a.members[0].options.indent),left:b.left+(f?T-a.members[0].options.indent:m)}),h.css(u.firstChild.firstChild,{"-ms-transform":g,"-webkit-transform":g,transform:g})},this._indicators.updateTriggerGroupLabel=function(o){var a="trigger"+(o.members.length>1?"":" "+o.members[0].options.name),s=o.element.firstChild.firstChild;s.textContent!==a&&(s.textContent=a,f&&p.updateBoundsPositions())},this.addScene=function(a){this._options.addIndicators&&a instanceof o.Scene&&a.controller()===s&&a.addIndicators(),this.$super.addScene.apply(this,arguments)},this.destroy=function(){l.removeEventListener("resize",handleTriggerPositionChange),c||(window.removeEventListener("resize",handleTriggerPositionChange),window.removeEventListener("scroll",handleTriggerPositionChange)),l.removeEventListener("resize",handleBoundsPositionChange),l.removeEventListener("scroll",handleBoundsPositionChange),this.$super.destroy.apply(this,arguments)},s}));var Indicator=function(o,s){var u,l,c=this,m=p.bounds(),g=p.start(s.colorStart),v=p.end(s.colorEnd),y=s.parent&&h.get.elements(s.parent)[0],log=function(){o._log&&(Array.prototype.splice.call(arguments,1,0,"("+a+")","->"),o._log.apply(this,arguments))};s.name=s.name||f,g.firstChild.textContent+=" "+s.name,v.textContent+=" "+s.name,m.appendChild(g),m.appendChild(v),c.options=s,c.bounds=m,c.triggerGroup=void 0,this.add=function(){l=o.controller(),u=l.info("vertical");var a=l.info("isDocument");y||(y=a?document.body:l.info("container")),a||"static"!==h.css(y,"position")||h.css(y,{position:"relative"}),o.on("change.plugin_addIndicators",handleTriggerParamsChange),o.on("shift.plugin_addIndicators",handleBoundsParamsChange),updateTriggerGroup(),updateBounds(),setTimeout((function(){l._indicators.updateBoundsPositions(c)}),0),log(3,"added indicators")},this.remove=function(){if(c.triggerGroup){if(o.off("change.plugin_addIndicators",handleTriggerParamsChange),o.off("shift.plugin_addIndicators",handleBoundsParamsChange),c.triggerGroup.members.length>1){var a=c.triggerGroup;a.members.splice(a.members.indexOf(c),1),l._indicators.updateTriggerGroupLabel(a),l._indicators.updateTriggerGroupPositions(a),c.triggerGroup=void 0}else removeTriggerGroup();removeBounds(),log(3,"removed indicators")}};var handleBoundsParamsChange=function(){updateBounds()},handleTriggerParamsChange=function(o){"triggerHook"===o.what&&updateTriggerGroup()},removeBounds=function(){m.parentNode.removeChild(m)},updateBounds=function(){var a;m.parentNode!==y&&(a=l.info("vertical"),h.css(g.firstChild,{"border-bottom-width":a?1:0,"border-right-width":a?0:1,bottom:a?-1:s.indent,right:a?s.indent:-1,padding:a?"0 8px":"2px 4px"}),h.css(v,{"border-top-width":a?1:0,"border-left-width":a?0:1,top:a?"100%":"",right:a?s.indent:"",bottom:a?"":s.indent,left:a?"":"100%",padding:a?"0 8px":"2px 4px"}),y.appendChild(m));var c={};c[u?"top":"left"]=o.triggerPosition(),c[u?"height":"width"]=o.duration(),h.css(m,c),h.css(v,{display:o.duration()>0?"":"none"})},removeTriggerGroup=function(){l._indicators.groups.splice(l._indicators.groups.indexOf(c.triggerGroup),1),c.triggerGroup.element.parentNode.removeChild(c.triggerGroup.element),c.triggerGroup=void 0},updateTriggerGroup=function(){var a=o.triggerHook(),f=1e-4;if(!(c.triggerGroup&&Math.abs(c.triggerGroup.triggerHook-a)<f)){for(var m,g=l._indicators.groups,v=g.length;v--;)if(m=g[v],Math.abs(m.triggerHook-a)<f)return c.triggerGroup&&(1===c.triggerGroup.members.length?removeTriggerGroup():(c.triggerGroup.members.splice(c.triggerGroup.members.indexOf(c),1),l._indicators.updateTriggerGroupLabel(c.triggerGroup),l._indicators.updateTriggerGroupPositions(c.triggerGroup))),m.members.push(c),c.triggerGroup=m,void l._indicators.updateTriggerGroupLabel(m);if(c.triggerGroup){if(1===c.triggerGroup.members.length)return c.triggerGroup.triggerHook=a,void l._indicators.updateTriggerGroupPositions(c.triggerGroup);c.triggerGroup.members.splice(c.triggerGroup.members.indexOf(c),1),l._indicators.updateTriggerGroupLabel(c.triggerGroup),l._indicators.updateTriggerGroupPositions(c.triggerGroup),c.triggerGroup=void 0}!function(){var a=p.trigger(s.colorTrigger),f={};f[u?"right":"bottom"]=0,f[u?"border-top-width":"border-left-width"]=1,h.css(a.firstChild,f),h.css(a.firstChild.firstChild,{padding:u?"0 8px 3px 8px":"3px 4px"}),document.body.appendChild(a);var m={triggerHook:o.triggerHook(),element:a,members:[c]};l._indicators.groups.push(m),c.triggerGroup=m,l._indicators.updateTriggerGroupLabel(m),l._indicators.updateTriggerGroupPositions(m)}()}}},p={start:function(o){var a=document.createElement("div");a.textContent="start",h.css(a,{position:"absolute",overflow:"visible","border-width":0,"border-style":"solid",color:o,"border-color":o});var s=document.createElement("div");return h.css(s,{position:"absolute",overflow:"visible",width:0,height:0}),s.appendChild(a),s},end:function(o){var a=document.createElement("div");return a.textContent="end",h.css(a,{position:"absolute",overflow:"visible","border-width":0,"border-style":"solid",color:o,"border-color":o}),a},bounds:function(){var o=document.createElement("div");return h.css(o,{position:"absolute",overflow:"visible","white-space":"nowrap","pointer-events":"none","font-size":l}),o.style.zIndex=c,o},trigger:function(o){var a=document.createElement("div");a.textContent="trigger",h.css(a,{position:"relative"});var s=document.createElement("div");h.css(s,{position:"absolute",overflow:"visible","border-width":0,"border-style":"solid",color:o,"border-color":o}),s.appendChild(a);var u=document.createElement("div");return h.css(u,{position:"fixed",overflow:"visible","white-space":"nowrap","pointer-events":"none","font-size":l}),u.style.zIndex=c,u.appendChild(s),u}}};var qy=document.querySelector(".burger");qy&&qy.addEventListener("click",(function(o){qy.classList.contains("is-active")?Os(!1):Os(!0)}));var Vy=function detectCurrentNavLink(){for(var o=document.querySelectorAll(".nav-link"),a=function _loop(a){var s=o[a];s.classList.remove("is-current");var u=window.location.pathname.replace(/^\/|\/$/g,"");s.getAttribute("href")===u&&s.classList.add("is-current"),s.addEventListener("click",(function(o){var a=o.target.getAttribute("href");a&&u===a&&(window.location.href=a)}))},s=0;s<o.length;s++)a(s)},Wy=function detectExistPage(){(function UrlExists(o){var a=new XMLHttpRequest;return a.open("HEAD",o,!1),a.send(),404!==a.status})(window.location.href)||(window.location.href="404.html")};new h.Core({renderers:{home:yu,about:cy,motorcycle:Uy,contact:dy,builds:by},transitions:{default:Yo,contextual:{motorcycleHome:ra,nextMotorcycle:Hs,menu:qs}}}).on("NAVIGATE_IN",(function(){Vy(),Ty(),Ey(),Cy(),Wy()})),document.addEventListener("DOMContentLoaded",(function(o){Ty(),Ey(),Cy(),Vy()})),scrollmagic_plugins_ScrollMagicPluginIndicator(ai),Hy(ai,oi,jt),window.addEventListener("resize",(function(){hy()})),Wy()}]);